{"version":3,"sources":["webpack://inspection-scheduler/./node_modules/@arcgis/core/core/queryUtils.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/tasks/support/ClosestFacilitySolveResult.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/tasks/ClosestFacilityTask.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/tasks/mixins/NAServiceDescription.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/tasks/support/DirectionsFeatureSet.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/tasks/support/GPMessage.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/tasks/support/NAMessage.js"],"names":["t","this","_options","e","toJSON","o","Object","keys","forEach","n","r","name","s","getter","Array","isArray","join","JSON","stringify","d","features","map","geometry","f","super","directions","facilities","incidents","messages","pointBarriers","polylineBarriers","polygonBarriers","routes","barriers","spatialReference","type","prototype","l","accumulateAttributes","attributeParameterValues","directionsTimeAttribute","impedanceAttribute","outSpatialReference","wkid","restrictionAttributes","returnPointBarriers","returnRoutes","travelMode","p","url","a","c","_collectGeometries","then","push","slice","_isInputGeometryZAware","getServiceDescription","dontCheck","hasZ","_dropZValuesOffInputGeometry","get","query","parsedUrl","toQueryParams","requestOptions","path","data","length","_serviceDescriptionPromise","_fetchServiceDescription","supportedTravelModes","id","itemId","currentVersion","async","defaultTravelMode","error","substring","indexOf","owningSystemUrl","test","serviceName","u","results","paramName","value","attributes","parse","TravelMode","z","console","log","extent","geometryType","routeId","routeName","totalDriveTime","totalLength","totalTime","_decompressFeatureGeometry","summary","envelope","strings","events","x","point","y","ETA","arriveTimeUTC","_mergePolylinesToSinglePath","_decompressGeometry","compressedGeometry","i","m","g","h","match","parseInt","paths","hasM","concat","json","read","source","readOnly","dependsOn","esriJobMessageTypeInformative","esriJobMessageTypeProcessDefinition","esriJobMessageTypeProcessStart","esriJobMessageTypeProcessStop","esriJobMessageTypeWarning","esriJobMessageTypeError","esriJobMessageTypeEmpty","esriJobMessageTypeAbort","description","String","write","0","1","2","3","50","100","101","200"],"mappings":"8IAIA,MAAMA,EAAE,YAAYA,EAAE,IAAIC,KAAKC,SAASF,EAAE,cAAcA,GAAG,IAAIA,EAAE,OAAO,KAAK,MAAMG,EAAEH,EAAEI,SAASC,EAAE,GAAG,OAAOC,OAAOC,KAAKJ,GAAGK,SAASR,IAAI,MAAMS,EAAER,KAAKC,SAASF,GAAG,GAAGS,EAAE,CAAC,MAAMC,EAAE,kBAAkBD,GAAGA,EAAEE,KAAKF,EAAEE,KAAKX,EAAEY,EAAE,kBAAkBH,GAAGA,EAAEI,OAAOJ,EAAEI,OAAOV,GAAGA,EAAEH,GAAG,MAAMY,IAAIP,EAAEK,GAAG,CAACV,IAAI,IAAIc,MAAMC,QAAQf,GAAG,OAAM,EAAG,MAAMG,GAAGH,EAAE,MAAM,iBAAiBG,GAAG,iBAAiBA,GAAzF,CAA6FS,GAAGA,EAAEI,KAAK,KAAK,iBAAiBJ,EAAEK,KAAKC,UAAUN,GAAGA,QAAQP,EAAEL,GAAGG,EAAEH,KAAKC,MAAMI,GAAG,SAASF,EAAEA,GAAG,OAAO,IAAIH,EAAEG,K,gWCAyb,SAASgB,EAAET,GAAG,OAAO,mBAAWA,GAAGU,SAASC,KAAKX,GAAGA,EAAEY,WAAW,IAAIC,EAAE,cAAc,KAAE,YAAYb,GAAGc,MAAMd,GAAGT,KAAKwB,WAAW,KAAKxB,KAAKyB,WAAW,KAAKzB,KAAK0B,UAAU,KAAK1B,KAAK2B,SAAS,KAAK3B,KAAK4B,cAAc,KAAK5B,KAAK6B,iBAAiB,KAAK7B,KAAK8B,gBAAgB,KAAK9B,KAAK+B,OAAO,KAAK,eAAetB,GAAG,OAAOS,EAAET,GAAG,cAAcA,GAAG,OAAOS,EAAET,GAAG,kBAAkBA,EAAEP,GAAG,OAAOgB,EAAEhB,EAAE8B,UAAU,qBAAqBvB,GAAG,OAAOS,EAAET,GAAG,oBAAoBA,GAAG,OAAOS,EAAET,GAAG,WAAWA,GAAG,OAAO,SAASA,GAAG,OAAOA,EAAEU,SAASC,KAAKhB,IAAI,MAAML,EAAE,aAAWU,EAAEwB,kBAAkBtB,EAAE,mBAAWP,GAAG,OAAO,QAAEO,EAAEU,YAAYV,EAAEU,SAASY,iBAAiBlC,GAAGY,KAApJ,CAA0JF,MAAK,OAAE,EAAC,QAAE,CAACyB,KAAK,CAAC,QAAMZ,EAAEa,UAAU,kBAAa,IAAQ,OAAE,EAAC,QAAE,CAACD,KAAK,CAAC,QAAMZ,EAAEa,UAAU,kBAAa,IAAQ,OAAE,EAAC,OAAE,eAAeb,EAAEa,UAAU,iBAAiB,OAAM,OAAE,EAAC,QAAE,CAACD,KAAK,CAAC,QAAMZ,EAAEa,UAAU,iBAAY,IAAQ,OAAE,EAAC,OAAE,cAAcb,EAAEa,UAAU,gBAAgB,OAAM,OAAE,EAAC,QAAE,CAACD,KAAK,CAAC,QAAMZ,EAAEa,UAAU,gBAAW,IAAQ,OAAE,EAAC,QAAE,CAACD,KAAK,CAAC,QAAMZ,EAAEa,UAAU,qBAAgB,IAAQ,OAAE,EAAC,OAAE,gBAAgB,CAAC,cAAcb,EAAEa,UAAU,oBAAoB,OAAM,OAAE,EAAC,QAAE,CAACD,KAAK,CAAC,QAAMZ,EAAEa,UAAU,wBAAmB,IAAQ,OAAE,EAAC,OAAE,qBAAqBb,EAAEa,UAAU,uBAAuB,OAAM,OAAE,EAAC,QAAE,CAACD,KAAK,CAAC,QAAMZ,EAAEa,UAAU,uBAAkB,IAAQ,OAAE,EAAC,OAAE,oBAAoBb,EAAEa,UAAU,sBAAsB,OAAM,OAAE,EAAC,QAAE,CAACD,KAAK,CAAC,cAAMZ,EAAEa,UAAU,cAAS,IAAQ,OAAE,EAAC,OAAE,WAAWb,EAAEa,UAAU,aAAa,MAAMb,GAAE,OAAE,EAAC,OAAE,kDAAkDA,GAAW,QAAFA,ECA5lDc,GAAE,OAAE,CAACC,qBAAqB,CAAC3B,KAAK,4BAA4B4B,0BAAyB,EAAGC,wBAAwB,CAAC7B,KAAK,+BAA+B8B,mBAAmB,CAAC9B,KAAK,0BAA0Be,YAAW,EAAGC,WAAU,EAAGe,oBAAoB,CAAC/B,KAAK,QAAQE,OAAOV,GAAGA,EAAEuC,oBAAoBC,MAAMd,cAAc,CAAClB,KAAK,YAAYmB,kBAAiB,EAAGC,iBAAgB,EAAGa,sBAAsB,CAACjC,KAAK,6BAA6BkC,oBAAoB,CAAClC,KAAK,kBAAkBmC,aAAa,CAACnC,KAAK,kBAAkBoC,YAAW,IAAK,IAAIC,EAAE,eAAc,OAAE,MAAI,YAAY7C,GAAGqB,MAAMrB,GAAGF,KAAKgD,IAAI,KAAK,MAAM9C,EAAEO,GAAG,MAAMV,EAAE,GAAGkD,EAAE,GAAGzC,EAAE,GAAG0C,EAAE,GAAG,OAAOhD,EAAEwB,WAAWxB,EAAEwB,UAAUP,UAAUnB,KAAKmD,mBAAmBjD,EAAEwB,UAAUP,SAAS8B,EAAE,qBAAqBzC,GAAGN,EAAEuB,YAAYvB,EAAEuB,WAAWN,UAAUnB,KAAKmD,mBAAmBjD,EAAEuB,WAAWN,SAAS8B,EAAE,sBAAsBzC,GAAGN,EAAE0B,eAAe1B,EAAE0B,cAAcT,UAAUnB,KAAKmD,mBAAmBjD,EAAE0B,cAAcT,SAAS8B,EAAE,yBAAyBzC,GAAGN,EAAE2B,kBAAkB3B,EAAE2B,iBAAiBV,UAAUnB,KAAKmD,mBAAmBjD,EAAE2B,iBAAiBV,SAAS8B,EAAE,4BAA4BzC,GAAGN,EAAE4B,iBAAiB5B,EAAE4B,gBAAgBX,UAAUnB,KAAKmD,mBAAmBjD,EAAE4B,gBAAgBX,SAAS8B,EAAE,2BAA2BzC,IAAG,QAAEyC,GAAGG,MAAMlD,IAAI,IAAI,MAAMO,KAAKD,EAAE,CAAC,MAAMG,EAAEH,EAAEC,GAAGV,EAAEsD,KAAK5C,GAAGyC,EAAEzC,GAAGP,EAAEoD,MAAM3C,EAAE,GAAGA,EAAE,IAAI,OAAOX,KAAKuD,uBAAuBL,EAAEnD,GAAGC,KAAKwD,yBAAwB,aAAE,CAACC,WAAU,OAAQL,MAAMzC,KAAK,cAAcA,EAAEA,EAAE8C,UAAU9C,EAAE+C,OAAO1D,KAAK2D,6BAA6BT,EAAEnD,GAAG,IAAI,MAAMU,KAAKyC,EAAEA,EAAEzC,GAAGF,SAAQ,CAAER,EAAEY,KAAKT,EAAE0D,IAAInD,GAAGE,GAAGU,SAAStB,KAAK,IAAIK,EAAE,CAACyD,MAAM,IAAI7D,KAAK8D,UAAUD,MAAMvC,EAAE,UAAUc,EAAE2B,cAAc7D,KAAK,OAAOF,KAAKgE,gBAAgBvD,KAAKL,EAAE,IAAIJ,KAAKgE,kBAAkBvD,KAAKL,KAAI,aAAE,GAAGJ,KAAK8D,UAAUG,4BAA4B7D,MAAMgD,MAAMlD,GAAG,WAAWA,EAAEgE,QAAQ,mBAAmBhE,EAAEO,EAAEV,EAAEY,GAAGA,EAAEZ,GAAG,CAACU,EAAE0D,OAAO1D,EAAE0D,OAAOjE,EAAEiE,QAAQjE,EAAEK,SAASL,IAAIO,EAAE4C,KAAKnD,EAAEmB,gBAAe,OAAE,EAAC,WAAK0B,EAAEZ,UAAU,WAAM,GAAQY,GAAE,OAAE,EAAC,OAAE,mCAAmCA,GAAW,QAAFA,G,sMCAvlE,MAAMvC,EAAE4B,IAAI,IAAI5B,EAAE,cAAc4B,EAAE,8BAA8B,OAAOpC,KAAKoE,6BAA6BpE,KAAKoE,2BAA2BpE,KAAKqE,4BAA4BrE,KAAKoE,2BAA2B,iCAAiC,IAAIpE,KAAKgD,MAAMhD,KAAK8D,UAAU,MAAM,IAAI,IAAE,8BAA8B,qCAAqC,MAAM5D,EAAEF,KAAKgD,KAAKkB,KAAKnE,SAAS,aAAEG,EAAE,CAAC2D,MAAM,CAACvC,EAAE,UAAUvB,EAAEuE,uBAAuBvE,EAAEuE,qBAAqB,IAAI,IAAI,IAAIpE,EAAE,EAAEA,EAAEH,EAAEuE,qBAAqBH,OAAOjE,IAAIH,EAAEuE,qBAAqBpE,GAAGqE,KAAKxE,EAAEuE,qBAAqBpE,GAAGqE,GAAGxE,EAAEuE,qBAAqBpE,GAAGsE,QAAQ,MAAM7D,EAAEZ,EAAE0E,gBAAgB,KAAKC,eAAexE,GAAG,IAAI,MAAMgE,MAAMI,qBAAqB7D,EAAEkE,kBAAkB5E,UAAU,aAAEG,GAAG,MAAMA,EAAEA,EAAEiE,OAAO,GAAG,GAAG,KAAK,sBAAsB,CAACN,MAAM,CAACvC,EAAE,UAAU,MAAM,CAACgD,qBAAqB7D,EAAEkE,kBAAkB5E,GAAG,MAAMG,GAAG,MAAM,IAAI,IAAE,sCAAsC,uDAAuD,CAAC0E,MAAM1E,KAA5UwE,CAAkVxE,GAAGwE,eAAexE,GAAG,MAAMgE,KAAKnE,SAAS,aAAEG,EAAE2E,UAAU,EAAE3E,EAAE4E,QAAQ,UAAU,GAAG,OAAO,CAACjB,MAAM,CAACvC,EAAE,UAAU,IAAIvB,IAAIA,EAAEgF,gBAAgB,MAAM,CAACT,qBAAqB,GAAGK,kBAAkB,MAAMzE,EAAEH,EAAEgF,gBAAgB,MAAMb,KAAKvD,SAAS,aAAET,GAAG,MAAMA,EAAEA,EAAEiE,OAAO,GAAG,GAAG,KAAK,4BAA4B,CAACN,MAAM,CAACvC,EAAE,UAAUlB,GAAE,QAAE,sCAAsCO,GAAG,IAAIP,EAAE,MAAM,CAACkE,qBAAqB,GAAGK,kBAAkB,MAAM,MAAMvC,GAAE,QAAElC,GAAGM,EAAE,0BAA0BwE,KAAK5C,EAAE6B,MAAM,QAAQ,0BAA0Be,KAAK5C,EAAE6B,MAAM,kBAAkB,eAAef,QAAQ,aAAE9C,GAAG,MAAMA,EAAEA,EAAE+D,OAAO,GAAG,GAAG,KAAK,yBAAyB,CAACN,MAAM,CAACvC,EAAE,OAAO2D,YAAYzE,KAAK0E,EAAE,GAAG,IAAInC,EAAE,KAAK,GAAGG,GAAGA,EAAEgB,MAAMhB,EAAEgB,KAAKiB,SAASjC,EAAEgB,KAAKiB,QAAQhB,OAAO,CAAC,MAAMjE,EAAEgD,EAAEgB,KAAKiB,QAAQ,IAAI,MAAM1E,KAAKP,EAAE,GAAG,yBAAyBO,EAAE2E,WAAW,GAAG3E,EAAE4E,OAAO5E,EAAE4E,MAAMlE,SAAS,IAAI,MAAMmE,WAAWpF,KAAKO,EAAE4E,MAAMlE,SAAS,GAAGjB,EAAE,CAAC,MAAMO,EAAEO,KAAKuE,MAAMrF,EAAEsF,YAAYN,EAAE7B,KAAK5C,QAAQ,sBAAsBA,EAAE2E,YAAYrC,EAAEtC,EAAE4E,OAAO,MAAM,CAACf,qBAAqBY,EAAEP,kBAAkB5B,GAAz/B2B,CAA6/BxE,IAAIyE,kBAAkBvC,EAAEkC,qBAAqB9D,SAASG,EAAE,OAAOZ,EAAE4E,kBAAkBvC,EAAErC,EAAEuE,qBAAqB9D,EAAET,EAAE,uBAAuBG,EAAEO,GAAG,IAAI,IAAIE,EAAE,EAAEA,EAAEF,EAAE0D,OAAOxD,IAAI,CAAC,MAAMP,EAAEF,EAAEO,EAAEE,IAAI,GAAGP,GAAGA,EAAE+D,OAAO,IAAI,MAAMjE,KAAKE,EAAE,IAAG,QAAEF,IAAIA,EAAEwD,KAAK,OAAM,EAAG,OAAM,EAAG,6BAA6BxD,EAAEO,GAAG,IAAI,IAAIV,EAAE,EAAEA,EAAEU,EAAE0D,OAAOpE,IAAI,CAAC,MAAMY,EAAET,EAAEO,EAAEV,IAAI,GAAGY,GAAGA,EAAEwD,OAAO,IAAI,MAAMjE,KAAKS,EAAET,EAAEuF,OAAE,EAAOC,QAAQC,IAAI,iJAAiJ,OAAOnF,GAAE,OAAE,EAAC,OAAE,2CAA2CA,GAAGA,GAAG,IAAI0C,EAAE,cAAc1C,EAAE,QAAM0C,GAAE,OAAE,EAAC,OAAE,2CAA2CA,I,kPCAv6E,IAAIgC,EAAE,cAAc,UAAE,YAAYhF,GAAGqB,MAAMrB,GAAGF,KAAK4F,OAAO,KAAK5F,KAAKmB,SAAS,KAAKnB,KAAK6F,aAAa,WAAW7F,KAAK8F,QAAQ,KAAK9F,KAAK+F,UAAU,KAAK/F,KAAKgG,eAAe,KAAKhG,KAAKiG,YAAY,KAAKjG,KAAKkG,UAAU,KAAK,aAAahG,EAAEO,IAAIP,GAAG,IAAIK,SAASL,IAAIF,KAAKmG,2BAA2BjG,EAAEO,EAAE2F,QAAQC,SAASpE,qBAAqB,MAAM7B,EAAE,aAAWK,EAAEwB,kBAAkB,OAAO/B,EAAEkB,KAAKlB,IAAI,MAAMO,EAAE,mBAAWP,GAAGS,EAAET,EAAEmB,UAAUnB,EAAEmB,SAASY,iBAAiB,OAAOxB,EAAEY,WAAWV,KAAI,QAAEF,EAAEY,UAAUY,iBAAiB7B,GAAGK,EAAE6F,QAAQpG,EAAEoG,QAAQ7F,EAAE8F,QAAQrG,EAAEqG,QAAQ,IAAInF,KAAKrB,IAAI,MAAMU,EAAE,IAAI,UAAE,CAACY,SAAS,IAAI,IAAE,CAACmF,EAAEzG,EAAE0G,MAAMD,EAAEE,EAAE3G,EAAE0G,MAAMC,EAAEjB,EAAE1F,EAAE0G,MAAMhB,EAAE/B,UAAK,IAAS3D,EAAE0G,MAAMhB,EAAExD,iBAAiB/B,EAAEmB,UAAUnB,EAAEmB,SAASY,mBAAmBqD,WAAW,CAACqB,IAAI5G,EAAE4G,IAAIC,cAAc7G,EAAE6G,iBAAiB,OAAOnG,EAAE6F,QAAQvG,EAAEuG,QAAQ7F,KAAKA,KAAK,qBAAqB,IAAIT,KAAKmB,SAAS,OAAO,KAAK,MAAMjB,EAAEF,KAAKmB,SAASC,KAAI,EAAGC,SAASnB,MAAK,QAAEA,KAAKO,EAAET,KAAK4D,IAAI,2BAA2B,OAAO5D,KAAK6G,4BAA4B3G,EAAEO,GAAG,cAAc,OAAOT,KAAKmB,SAASC,KAAI,EAAGkF,QAAQpG,KAAKA,IAAI,2BAA2BA,EAAEH,GAAGG,EAAEmB,SAASrB,KAAK8G,oBAAoB5G,EAAE6G,mBAAmBhH,GAAG,oBAAoBG,EAAEH,GAAG,IAAIU,EAAE,EAAEL,EAAE,EAAEO,EAAE,EAAEsC,EAAE,EAAE,MAAMF,EAAE,GAAG,IAAIvC,EAAEwG,EAAEC,EAAE7E,EAAE8C,EAAEhC,EAAEwD,EAAEpF,EAAEJ,EAAE,EAAEgG,EAAE,EAAEC,EAAE,EAAE,GAAGjC,EAAEhF,EAAEkH,MAAM,2BAA2BlC,IAAIA,EAAE,IAAI,IAAImC,SAASnC,EAAEhE,GAAG,IAAI,CAACA,EAAE,EAAE,MAAMhB,EAAEmH,SAASnC,EAAEhE,GAAG,IAAIA,IAAIgC,EAAEmE,SAASnC,EAAEhE,GAAG,IAAIA,IAAI,EAAEhB,IAAIgH,EAAEhC,EAAEJ,QAAQ,KAAK,EAAE4B,EAAEW,SAASnC,EAAEgC,GAAG,IAAIA,KAAK,EAAEhH,IAAIiH,EAAEjC,EAAEJ,QAAQ,IAAIoC,GAAG,EAAE5F,EAAE+F,SAASnC,EAAEiC,GAAG,IAAIA,UAAUjE,EAAEmE,SAASnC,EAAEhE,GAAG,IAAIA,IAAI,KAAKA,EAAEgE,EAAEf,QAAQ,MAAMe,EAAEhE,IAAI,CAACV,EAAE6G,SAASnC,EAAEhE,GAAG,IAAIT,EAAES,IAAIT,EAAED,EAAEwG,EAAEK,SAASnC,EAAEhE,GAAG,IAAId,EAAEc,IAAId,EAAE4G,EAAE,MAAM9G,EAAE,CAACM,EAAE0C,EAAE8D,EAAE9D,GAAGgE,IAAI9E,EAAEiF,SAASnC,EAAEgC,GAAG,IAAIvG,EAAEuG,IAAIvG,EAAEyB,EAAElC,EAAEmD,KAAKjB,EAAEsE,IAAIS,IAAIF,EAAEI,SAASnC,EAAEiC,GAAG,IAAIlE,EAAEkE,IAAIlE,EAAEgE,EAAE/G,EAAEmD,KAAK4D,EAAE3F,IAAIyB,EAAEM,KAAKnD,GAAG,MAAM,CAACoH,MAAM,CAACvE,GAAGW,KAAKwD,EAAE,EAAEK,KAAKJ,EAAE,EAAElF,iBAAiBlC,GAAG,4BAA4BG,EAAEH,GAAG,IAAIU,EAAE,IAAIP,GAAG,IAAIK,SAASL,IAAIA,EAAEoH,MAAM/G,SAASL,IAAIO,EAAEA,EAAE+G,OAAOtH,SAAS,MAAME,EAAE,GAAG,IAAIO,EAAE,CAAC,EAAE,GAAG,OAAOF,EAAEF,SAASL,IAAIA,EAAE,KAAKS,EAAE,IAAIT,EAAE,KAAKS,EAAE,KAAKP,EAAEiD,KAAKnD,GAAGS,EAAET,MAAM,IAAI,IAAE,CAACoH,MAAM,CAAClH,IAAIL,MAAK,OAAE,EAAC,QAAE,CAACmC,KAAK,UAAEuF,KAAK,CAACC,KAAK,CAACC,OAAO,wBAAwBzC,EAAE/C,UAAU,cAAS,IAAQ,OAAE,EAAC,WAAK+C,EAAE/C,UAAU,gBAAW,IAAQ,OAAE,EAAC,OAAE,aAAa+C,EAAE/C,UAAU,eAAe,OAAM,OAAE,EAAC,WAAK+C,EAAE/C,UAAU,oBAAe,IAAQ,OAAE,EAAC,QAAE,CAACyF,UAAS,EAAGC,UAAU,CAAC,WAAW,8BAA8B3C,EAAE/C,UAAU,iBAAiB,OAAM,OAAE,EAAC,WAAK+C,EAAE/C,UAAU,eAAU,IAAQ,OAAE,EAAC,WAAK+C,EAAE/C,UAAU,iBAAY,IAAQ,OAAE,EAAC,QAAE,CAACkD,MAAM,KAAKuC,UAAS,EAAGC,UAAU,CAAC,eAAe3C,EAAE/C,UAAU,UAAU,OAAM,OAAE,EAAC,QAAE,CAACsF,KAAK,CAACC,KAAK,CAACC,OAAO,8BAA8BzC,EAAE/C,UAAU,sBAAiB,IAAQ,OAAE,EAAC,QAAE,CAACsF,KAAK,CAACC,KAAK,CAACC,OAAO,2BAA2BzC,EAAE/C,UAAU,mBAAc,IAAQ,OAAE,EAAC,QAAE,CAACsF,KAAK,CAACC,KAAK,CAACC,OAAO,yBAAyBzC,EAAE/C,UAAU,iBAAY,GAAQ+C,GAAE,OAAE,EAAC,OAAE,4CAA4CA,GAAW,QAAFA,G,mKCA1+F,MAAMnC,EAAE,IAAI,KAAE,CAAC+E,8BAA8B,cAAcC,oCAAoC,qBAAqBC,+BAA+B,gBAAgBC,8BAA8B,eAAeC,0BAA0B,UAAUC,wBAAwB,QAAQC,wBAAwB,QAAQC,wBAAwB,UAAU,IAAIrB,EAAE,cAAc,KAAE,YAAYvG,GAAGc,MAAMd,GAAGT,KAAKsI,YAAY,KAAKtI,KAAKkC,KAAK,QAAO,OAAE,EAAC,QAAE,CAACA,KAAKqG,OAAOd,KAAK,CAACe,OAAM,MAAOxB,EAAE7E,UAAU,mBAAc,IAAQ,OAAE,EAAC,QAAE,CAACD,KAAKqG,OAAOd,KAAK,CAACC,KAAK3E,EAAE2E,KAAKc,MAAMzF,EAAEyF,UAAUxB,EAAE7E,UAAU,YAAO,GAAQ6E,GAAE,OAAE,EAAC,OAAE,iCAAiCA,GAAW,QAAFA,G,mKCA9oB,MAAMjE,EAAE,IAAI,KAAE,CAAC0F,EAAE,cAAcC,EAAE,qBAAqBC,EAAE,gBAAgBC,EAAE,eAAeC,GAAG,UAAUC,IAAI,QAAQC,IAAI,QAAQC,IAAI,UAAU,IAAIhC,EAAE,cAAc,IAAE,YAAYvG,GAAGc,MAAMd,GAAGT,KAAKkC,KAAK,QAAO,OAAE,EAAC,QAAE,CAACA,KAAKqG,OAAOd,KAAK,CAACC,KAAK3E,EAAE2E,KAAKc,MAAMzF,EAAEyF,UAAUxB,EAAE7E,UAAU,YAAO,GAAQ6E,GAAE,OAAE,EAAC,OAAE,iCAAiCA,GAAW,QAAFA","file":"chunks/1512.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nclass t{constructor(t={}){this._options=t}toQueryParams(t){if(!t)return null;const e=t.toJSON(),o={};return Object.keys(e).forEach((t=>{const n=this._options[t];if(n){const r=\"boolean\"!=typeof n&&n.name?n.name:t,s=\"boolean\"!=typeof n&&n.getter?n.getter(e):e[t];null!=s&&(o[r]=(t=>{if(!Array.isArray(t))return!1;const[e]=t;return\"number\"==typeof e||\"string\"==typeof e})(s)?s.join(\",\"):\"object\"==typeof s?JSON.stringify(s):s)}else o[t]=e[t]}),this),o}}function e(e){return new t(e)}export{e as createQueryParamsHelper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as e}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{reader as t}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as i}from\"../../core/JSONSupport.js\";import p from\"../../geometry/SpatialReference.js\";import a from\"../../geometry/Point.js\";import n from\"../../geometry/Polygon.js\";import l from\"../../geometry/Polyline.js\";import\"../../geometry.js\";import u from\"../../Graphic.js\";import m from\"./FeatureSet.js\";import c from\"./DirectionsFeatureSet.js\";import y from\"./NAMessage.js\";function d(r){return m.fromJSON(r).features.map((r=>r.geometry))}let f=class extends i{constructor(r){super(r),this.directions=null,this.facilities=null,this.incidents=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.routes=null}readFacilities(r){return d(r)}readIncidents(r){return d(r)}readPointBarriers(r,e){return d(e.barriers)}readPolylineBarriers(r){return d(r)}readPolygonBarriers(r){return d(r)}readRoutes(r){return function(r){return r.features.map((o=>{const t=p.fromJSON(r.spatialReference),s=u.fromJSON(o);return e(s.geometry)&&(s.geometry.spatialReference=t),s}))}(r)}};r([o({type:[c]})],f.prototype,\"directions\",void 0),r([o({type:[a]})],f.prototype,\"facilities\",void 0),r([t(\"facilities\")],f.prototype,\"readFacilities\",null),r([o({type:[a]})],f.prototype,\"incidents\",void 0),r([t(\"incidents\")],f.prototype,\"readIncidents\",null),r([o({type:[y]})],f.prototype,\"messages\",void 0),r([o({type:[a]})],f.prototype,\"pointBarriers\",void 0),r([t(\"pointBarriers\",[\"barriers\"])],f.prototype,\"readPointBarriers\",null),r([o({type:[l]})],f.prototype,\"polylineBarriers\",void 0),r([t(\"polylineBarriers\")],f.prototype,\"readPolylineBarriers\",null),r([o({type:[n]})],f.prototype,\"polygonBarriers\",void 0),r([t(\"polygonBarriers\")],f.prototype,\"readPolygonBarriers\",null),r([o({type:[u]})],f.prototype,\"routes\",void 0),r([t(\"routes\")],f.prototype,\"readRoutes\",null),f=r([s(\"esri.tasks.support.ClosestFacilitySolveResult\")],f);var j=f;export default j;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{resolve as s}from\"../core/promiseUtils.js\";import i from\"../request.js\";import{normalizeCentralMeridian as o}from\"../geometry/support/normalizeUtils.js\";import a from\"./Task.js\";import{createQueryParamsHelper as n}from\"../core/queryUtils.js\";import{NAServiceDescriptionMixin as c}from\"./mixins/NAServiceDescription.js\";import u from\"./support/ClosestFacilitySolveResult.js\";const l=n({accumulateAttributes:{name:\"accumulateAttributeNames\"},attributeParameterValues:!0,directionsTimeAttribute:{name:\"directionsTimeAttributeName\"},impedanceAttribute:{name:\"impedanceAttributeName\"},facilities:!0,incidents:!0,outSpatialReference:{name:\"outSR\",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:\"barriers\"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:\"restrictionAttributeNames\"},returnPointBarriers:{name:\"returnBarriers\"},returnRoutes:{name:\"returnCFRoutes\"},travelMode:!0});let p=class extends(c(a)){constructor(e){super(e),this.url=null}solve(e,r){const t=[],a=[],n={},c={};return e.incidents&&e.incidents.features&&this._collectGeometries(e.incidents.features,a,\"incidents.features\",n),e.facilities&&e.facilities.features&&this._collectGeometries(e.facilities.features,a,\"facilities.features\",n),e.pointBarriers&&e.pointBarriers.features&&this._collectGeometries(e.pointBarriers.features,a,\"pointBarriers.features\",n),e.polylineBarriers&&e.polylineBarriers.features&&this._collectGeometries(e.polylineBarriers.features,a,\"polylineBarriers.features\",n),e.polygonBarriers&&e.polygonBarriers.features&&this._collectGeometries(e.polygonBarriers.features,a,\"polygonBarriers.features\",n),o(a).then((e=>{for(const r in n){const s=n[r];t.push(r),c[r]=e.slice(s[0],s[1])}return this._isInputGeometryZAware(c,t)?this.getServiceDescription():s({dontCheck:!0})})).then((s=>{(\"dontCheck\"in s?s.dontCheck:s.hasZ)||this._dropZValuesOffInputGeometry(c,t);for(const r in c)c[r].forEach(((t,s)=>{e.get(r)[s].geometry=t}));let o={query:{...this.parsedUrl.query,f:\"json\",...l.toQueryParams(e)}};return(this.requestOptions||r)&&(o={...this.requestOptions,...r,...o}),i(`${this.parsedUrl.path}/solveClosestFacility`,o)})).then((e=>u.fromJSON(e.data)))}_collectGeometries(e,r,t,s){s[t]=[r.length,r.length+e.length],e.forEach((e=>{r.push(e.geometry)}))}};e([r()],p.prototype,\"url\",void 0),p=e([t(\"esri.tasks.ClosestFacilityTask\")],p);var m=p;export default m;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{getDeepValue as r}from\"../../core/object.js\";import{isSome as t}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../../core/Error.js\";import{urlToObject as i}from\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../request.js\";import l from\"../Task.js\";const n=l=>{let n=class extends l{async getServiceDescription(){return this._serviceDescriptionPromise||(this._serviceDescriptionPromise=this._fetchServiceDescription()),this._serviceDescriptionPromise}async _fetchServiceDescription(){if(!this.url||!this.parsedUrl)throw new o(\"network-service:missing-url\",\"Url to Network service is missing\");const e=this.url,{data:t}=await a(e,{query:{f:\"json\"}});t.supportedTravelModes||(t.supportedTravelModes=[]);for(let e=0;e<t.supportedTravelModes.length;e++)t.supportedTravelModes[e].id||(t.supportedTravelModes[e].id=t.supportedTravelModes[e].itemId);const s=t.currentVersion>=10.4?async function(e){try{const{data:{supportedTravelModes:r,defaultTravelMode:t}}=await a(e+(\"/\"===e[e.length-1]?\"\":\"/\")+\"retrieveTravelModes\",{query:{f:\"json\"}});return{supportedTravelModes:r,defaultTravelMode:t}}catch(e){throw new o(\"network-service:retrieveTravelModes\",\"Could not get to the NAServer's retrieveTravelModes.\",{error:e})}}(e):async function(e){const{data:t}=await a(e.substring(0,e.indexOf(\"/rest/\")+6)+\"info\",{query:{f:\"json\"}});if(!t||!t.owningSystemUrl)return{supportedTravelModes:[],defaultTravelMode:null};e=t.owningSystemUrl;const{data:s}=await a(e+(\"/\"===e[e.length-1]?\"\":\"/\")+\"sharing/rest/portals/self\",{query:{f:\"json\"}}),o=r(\"helperServices.routingUtilities.url\",s);if(!o)return{supportedTravelModes:[],defaultTravelMode:null};const l=i(e),n=/\\/solveClosestFacility$/.test(l.path)?\"Route\":/\\/solveClosestFacility$/.test(l.path)?\"ClosestFacility\":\"ServiceAreas\",c=await a(o+(\"/\"===o[o.length-1]?\"\":\"/\")+\"GetTravelModes/execute\",{query:{f:\"json\",serviceName:n}}),u=[];let p=null;if(c&&c.data&&c.data.results&&c.data.results.length){const e=c.data.results;for(const r of e)if(\"supportedTravelModes\"===r.paramName){if(r.value&&r.value.features)for(const{attributes:e}of r.value.features)if(e){const r=JSON.parse(e.TravelMode);u.push(r)}}else\"defaultTravelMode\"===r.paramName&&(p=r.value)}return{supportedTravelModes:u,defaultTravelMode:p}}(e),{defaultTravelMode:l,supportedTravelModes:n}=await s;return t.defaultTravelMode=l,t.supportedTravelModes=n,t}_isInputGeometryZAware(e,r){for(let s=0;s<r.length;s++){const o=e[r[s]];if(o&&o.length)for(const e of o)if(t(e)&&e.hasZ)return!0}return!1}_dropZValuesOffInputGeometry(e,r){for(let t=0;t<r.length;t++){const s=e[r[t]];if(s&&s.length)for(const e of s)e.z=void 0}console.log(\"The remote Network Analysis service is powered by a network dataset which is not Z-aware.\\nZ-coordinates of the input geometry are ignored.\")}};return n=e([s(\"esri.tasks.mixins.NAServiceDescription\")],n),n};let c=class extends(n(l)){};c=e([s(\"esri.tasks.mixins.NAServiceDescription\")],c);export{c as NAServiceDescription,n as NAServiceDescriptionMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{unwrap as t}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../geometry/SpatialReference.js\";import p from\"../../geometry/Point.js\";import n from\"../../geometry/Extent.js\";import i from\"../../geometry/Polyline.js\";import\"../../geometry.js\";import m from\"../../Graphic.js\";import l from\"./FeatureSet.js\";let u=class extends l{constructor(e){super(e),this.extent=null,this.features=null,this.geometryType=\"polyline\",this.routeId=null,this.routeName=null,this.totalDriveTime=null,this.totalLength=null,this.totalTime=null}readFeatures(e,r){(e||[]).forEach((e=>{this._decompressFeatureGeometry(e,r.summary.envelope.spatialReference)}));const o=a.fromJSON(r.spatialReference);return e.map((e=>{const r=m.fromJSON(e),s=e.geometry&&e.geometry.spatialReference;return r.geometry&&!s&&(t(r.geometry).spatialReference=o),r.strings=e.strings,r.events=(e.events||[]).map((t=>{const r=new m({geometry:new p({x:t.point.x,y:t.point.y,z:t.point.z,hasZ:void 0!==t.point.z,spatialReference:e.geometry&&e.geometry.spatialReference}),attributes:{ETA:t.ETA,arriveTimeUTC:t.arriveTimeUTC}});return r.strings=t.strings,r})),r}))}get mergedGeometry(){if(!this.features)return null;const e=this.features.map((({geometry:e})=>t(e))),r=this.get(\"extent.spatialReference\");return this._mergePolylinesToSinglePath(e,r)}get strings(){return this.features.map((({strings:e})=>e))}_decompressFeatureGeometry(e,t){e.geometry=this._decompressGeometry(e.compressedGeometry,t)}_decompressGeometry(e,t){let r=0,o=0,s=0,a=0;const p=[];let n,i,m,l,u,c,y,f,d=0,g=0,h=0;if(u=e.match(/((\\+|\\-)[^\\+\\-\\|]+|\\|)/g),u||(u=[]),0===parseInt(u[d],32)){d=2;const e=parseInt(u[d],32);d++,c=parseInt(u[d],32),d++,1&e&&(g=u.indexOf(\"|\")+1,y=parseInt(u[g],32),g++),2&e&&(h=u.indexOf(\"|\",g)+1,f=parseInt(u[h],32),h++)}else c=parseInt(u[d],32),d++;for(;d<u.length&&\"|\"!==u[d];){n=parseInt(u[d],32)+r,d++,r=n,i=parseInt(u[d],32)+o,d++,o=i;const e=[n/c,i/c];g&&(l=parseInt(u[g],32)+s,g++,s=l,e.push(l/y)),h&&(m=parseInt(u[h],32)+a,h++,a=m,e.push(m/f)),p.push(e)}return{paths:[p],hasZ:g>0,hasM:h>0,spatialReference:t}}_mergePolylinesToSinglePath(e,t){let r=[];(e||[]).forEach((e=>{e.paths.forEach((e=>{r=r.concat(e)}))}));const o=[];let s=[0,0];return r.forEach((e=>{e[0]===s[0]&&e[1]===s[1]||(o.push(e),s=e)})),new i({paths:[o]},t)}};e([r({type:n,json:{read:{source:\"summary.envelope\"}}})],u.prototype,\"extent\",void 0),e([r()],u.prototype,\"features\",void 0),e([o(\"features\")],u.prototype,\"readFeatures\",null),e([r()],u.prototype,\"geometryType\",void 0),e([r({readOnly:!0,dependsOn:[\"features\",\"extent.spatialReference\"]})],u.prototype,\"mergedGeometry\",null),e([r()],u.prototype,\"routeId\",void 0),e([r()],u.prototype,\"routeName\",void 0),e([r({value:null,readOnly:!0,dependsOn:[\"features\"]})],u.prototype,\"strings\",null),e([r({json:{read:{source:\"summary.totalDriveTime\"}}})],u.prototype,\"totalDriveTime\",void 0),e([r({json:{read:{source:\"summary.totalLength\"}}})],u.prototype,\"totalLength\",void 0),e([r({json:{read:{source:\"summary.totalTime\"}}})],u.prototype,\"totalTime\",void 0),u=e([s(\"esri.tasks.support.DirectionsFeatureSet\")],u);var c=u;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as s}from\"../../core/jsonMap.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";const p=new s({esriJobMessageTypeInformative:\"informative\",esriJobMessageTypeProcessDefinition:\"process-definition\",esriJobMessageTypeProcessStart:\"process-start\",esriJobMessageTypeProcessStop:\"process-stop\",esriJobMessageTypeWarning:\"warning\",esriJobMessageTypeError:\"error\",esriJobMessageTypeEmpty:\"empty\",esriJobMessageTypeAbort:\"abort\"});let i=class extends t{constructor(r){super(r),this.description=null,this.type=null}};r([e({type:String,json:{write:!0}})],i.prototype,\"description\",void 0),r([e({type:String,json:{read:p.read,write:p.write}})],i.prototype,\"type\",void 0),i=r([o(\"esri.tasks.support.GPMessage\")],i);var a=i;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as s}from\"../../core/jsonMap.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import t from\"./GPMessage.js\";const p=new s({0:\"informative\",1:\"process-definition\",2:\"process-start\",3:\"process-stop\",50:\"warning\",100:\"error\",101:\"empty\",200:\"abort\"});let i=class extends t{constructor(r){super(r),this.type=null}};r([o({type:String,json:{read:p.read,write:p.write}})],i.prototype,\"type\",void 0),i=r([e(\"esri.tasks.support.NAMessage\")],i);var c=i;export default c;\n"],"sourceRoot":""}