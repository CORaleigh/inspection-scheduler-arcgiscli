{"version":3,"sources":["webpack://inspection-scheduler/./node_modules/@arcgis/core/tasks/support/ClosestFacilitySolveResult.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/tasks/ClosestFacilityTask.js"],"names":["d","r","features","map","geometry","f","super","this","directions","facilities","incidents","messages","pointBarriers","polylineBarriers","polygonBarriers","routes","e","barriers","o","t","spatialReference","s","type","prototype","l","accumulateAttributes","name","attributeParameterValues","directionsTimeAttribute","impedanceAttribute","outSpatialReference","getter","wkid","restrictionAttributes","returnPointBarriers","returnRoutes","travelMode","p","url","a","n","c","_collectGeometries","then","push","slice","_isInputGeometryZAware","getServiceDescription","dontCheck","hasZ","_dropZValuesOffInputGeometry","forEach","get","query","parsedUrl","toQueryParams","requestOptions","path","data","length"],"mappings":"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","file":"chunks/1512.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as e}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{reader as t}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as i}from\"../../core/JSONSupport.js\";import p from\"../../geometry/SpatialReference.js\";import a from\"../../geometry/Point.js\";import n from\"../../geometry/Polygon.js\";import l from\"../../geometry/Polyline.js\";import\"../../geometry.js\";import u from\"../../Graphic.js\";import m from\"./FeatureSet.js\";import c from\"./DirectionsFeatureSet.js\";import y from\"./NAMessage.js\";function d(r){return m.fromJSON(r).features.map((r=>r.geometry))}let f=class extends i{constructor(r){super(r),this.directions=null,this.facilities=null,this.incidents=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.routes=null}readFacilities(r){return d(r)}readIncidents(r){return d(r)}readPointBarriers(r,e){return d(e.barriers)}readPolylineBarriers(r){return d(r)}readPolygonBarriers(r){return d(r)}readRoutes(r){return function(r){return r.features.map((o=>{const t=p.fromJSON(r.spatialReference),s=u.fromJSON(o);return e(s.geometry)&&(s.geometry.spatialReference=t),s}))}(r)}};r([o({type:[c]})],f.prototype,\"directions\",void 0),r([o({type:[a]})],f.prototype,\"facilities\",void 0),r([t(\"facilities\")],f.prototype,\"readFacilities\",null),r([o({type:[a]})],f.prototype,\"incidents\",void 0),r([t(\"incidents\")],f.prototype,\"readIncidents\",null),r([o({type:[y]})],f.prototype,\"messages\",void 0),r([o({type:[a]})],f.prototype,\"pointBarriers\",void 0),r([t(\"pointBarriers\",[\"barriers\"])],f.prototype,\"readPointBarriers\",null),r([o({type:[l]})],f.prototype,\"polylineBarriers\",void 0),r([t(\"polylineBarriers\")],f.prototype,\"readPolylineBarriers\",null),r([o({type:[n]})],f.prototype,\"polygonBarriers\",void 0),r([t(\"polygonBarriers\")],f.prototype,\"readPolygonBarriers\",null),r([o({type:[u]})],f.prototype,\"routes\",void 0),r([t(\"routes\")],f.prototype,\"readRoutes\",null),f=r([s(\"esri.tasks.support.ClosestFacilitySolveResult\")],f);var j=f;export default j;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{resolve as s}from\"../core/promiseUtils.js\";import i from\"../request.js\";import{normalizeCentralMeridian as o}from\"../geometry/support/normalizeUtils.js\";import a from\"./Task.js\";import{createQueryParamsHelper as n}from\"../core/queryUtils.js\";import{NAServiceDescriptionMixin as c}from\"./mixins/NAServiceDescription.js\";import u from\"./support/ClosestFacilitySolveResult.js\";const l=n({accumulateAttributes:{name:\"accumulateAttributeNames\"},attributeParameterValues:!0,directionsTimeAttribute:{name:\"directionsTimeAttributeName\"},impedanceAttribute:{name:\"impedanceAttributeName\"},facilities:!0,incidents:!0,outSpatialReference:{name:\"outSR\",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:\"barriers\"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:\"restrictionAttributeNames\"},returnPointBarriers:{name:\"returnBarriers\"},returnRoutes:{name:\"returnCFRoutes\"},travelMode:!0});let p=class extends(c(a)){constructor(e){super(e),this.url=null}solve(e,r){const t=[],a=[],n={},c={};return e.incidents&&e.incidents.features&&this._collectGeometries(e.incidents.features,a,\"incidents.features\",n),e.facilities&&e.facilities.features&&this._collectGeometries(e.facilities.features,a,\"facilities.features\",n),e.pointBarriers&&e.pointBarriers.features&&this._collectGeometries(e.pointBarriers.features,a,\"pointBarriers.features\",n),e.polylineBarriers&&e.polylineBarriers.features&&this._collectGeometries(e.polylineBarriers.features,a,\"polylineBarriers.features\",n),e.polygonBarriers&&e.polygonBarriers.features&&this._collectGeometries(e.polygonBarriers.features,a,\"polygonBarriers.features\",n),o(a).then((e=>{for(const r in n){const s=n[r];t.push(r),c[r]=e.slice(s[0],s[1])}return this._isInputGeometryZAware(c,t)?this.getServiceDescription():s({dontCheck:!0})})).then((s=>{(\"dontCheck\"in s?s.dontCheck:s.hasZ)||this._dropZValuesOffInputGeometry(c,t);for(const r in c)c[r].forEach(((t,s)=>{e.get(r)[s].geometry=t}));let o={query:{...this.parsedUrl.query,f:\"json\",...l.toQueryParams(e)}};return(this.requestOptions||r)&&(o={...this.requestOptions,...r,...o}),i(`${this.parsedUrl.path}/solveClosestFacility`,o)})).then((e=>u.fromJSON(e.data)))}_collectGeometries(e,r,t,s){s[t]=[r.length,r.length+e.length],e.forEach((e=>{r.push(e.geometry)}))}};e([r()],p.prototype,\"url\",void 0),p=e([t(\"esri.tasks.ClosestFacilityTask\")],p);var m=p;export default m;\n"],"sourceRoot":""}