{"version":3,"sources":["webpack://inspection-scheduler/./node_modules/@arcgis/core/core/CircularArray.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/views/2d/engine/webgl/AttributeStoreView.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/views/2d/engine/webgl/WGLRendererInfo.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/views/2d/engine/FeatureContainer.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/views/2d/engine/webgl/MemoryRequirements.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/views/2d/engine/webgl/TileBufferData.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/views/2d/engine/webgl/WGLDisplayList.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/views/2d/engine/webgl/TileDisplayData.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/views/2d/engine/webgl/TileData.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/views/2d/engine/webgl/TiledDisplayObject.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/views/2d/engine/webgl/DirtyMap.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/views/2d/engine/webgl/FreeList.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayRecordStore.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/views/2d/engine/webgl/WGLBuffers.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/views/2d/engine/webgl/WGLTile.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/views/2d/engine/webgl/Fader.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/views/2d/engine/webgl/util/debug.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/visualVariablesUtils.js"],"names":["t","Number","POSITIVE_INFINITY","this","size","_start","maxSize","_buffer","isFinite","Array","s","dequeue","z","D","S","U","e","i","_texture","_lastTexture","_fbos","texelSize","buffer","pixelType","r","textureOnly","h","o","shared","data","_resetRange","dispose","detachColorTexture","target","wrapMode","pixelFormat","dataType","samplingMode","width","height","length","dirtyStart","Math","min","dirtyEnd","max","_initTexture","colorTarget","depthStencilTarget","getTexture","_textureDesc","Atomics","load","locked","n","d","l","p","x","c","_","g","BYTES_PER_ELEMENT","console","debug","f","b","m","error","updateData","start","end","a","layout","destroy","descriptor","getFBO","ArrayBuffer","getBoundFramebufferObject","u","y","getViewport","bindFramebuffer","readPixels","setViewport","j","_initialized","_forceNextUpload","_locked","blocks","_data","resize","_defaultTexture","setData","getData","_pendingAttributeUpdate","resolver","promise","update","_getDefaultTexture","bindTexture","updateTexture","Uint8Array","value","symbolLevels","vvColorValues","Float32Array","vvColors","vvOpacityValues","vvOpacities","vvSizeMinMaxValue","ddColors","ddBackgroundColor","ddActiveDots","_vvMaterialParameters","vvSizeEnabled","vvColorEnabled","vvRotationEnabled","vvRotationType","vvOpacityEnabled","_vvSizeFieldStops","type","levels","parseFloat","abs","sizes","values","pow","_vvInfo","_updateVisualVariables","vvRanges","forEach","_updateEffects","_updateDotDensityInfo","ddDotBlending","outsideLabelsVisible","oesTextureFloat","supportsTextureFloat","filter","enabled","excludedLabelsVisible","minMaxValue","minSize","scale","stops","set","minDataValue","maxDataValue","scaleStops","vvSizeScaleStopsValue","unitValue","spatialReference","unit","vvSizeUnitValueToPixelsRatio","resolution","fieldStops","color","colors","opacity","opacities","v","rotation","attributes","ddDotValue","dotValue","ddDotScale","referenceScale","ddDotSize","dotSize","dotBlendingEnabled","ddSeed","seed","backgroundColor","super","_rendererInfo","_materialItemsRequestQueue","attributeView","removeAllChildren","children","clear","setInfo","requestRender","push","items","abortOptions","addOrUpdate","contains","addChild","context","capabilities","textureFloat","vao","pop","_processMaterialItemRequest","doRender","commitChanges","state","renderChildren","_tileInfoView","getTileBounds","removeChild","createRenderParams","rendererInfo","painter","pixelRatio","map","textureManager","rasterizeItem","symbol","glyphIds","then","stage","reject","id","mosaicItem","resolve","key","level","row","col","sortChildren","setStencilReference","requiredLevel","getClosestInfoForScale","displayLevel","tileInfo","scaleToZoom","registerRenderPass","name","brushes","drawPhase","getStencilTarget","has","prepareRenderPasses","getTileResolution","setTransform","stencilRef","_byGeometryType","vertices","indices","geometries","indexBuffer","vertexBuffer","slice","stride","Uint32Array","splice","Map","unified","zLevels","geometryDPInfo","getGeometryBrush","geometryType","getGeometry","prepareState","drawGeometry","isArray","_addToList","_removeFromList","getDPInfoType","clone","_getDisplayList","symbolLevel","zOrder","indexFrom","indexCount","materialKey","zLevel","fill","line","marker","text","label","displayRecords","_displayObjectRegistry","displayObjects","_displayList","addToList","readInt32","_deserializeObjects","tileDisplayData","tileBufferData","reset","needMore","meshData","vertexCount","indexData","round","indicesFor","_computeVertexAlignment","verticesFor","_align","displayList","writeMeshDataToBuffers","vertexFrom","displayObjectRegistry","get","serialize","getBuffers","Int32Array","_guessSize","result","displayData","bufferData","transferList","vertexBuffersMap","fromMeshData","namedBuffers","icon","triangleCountReportedInDebug","transforms","dvs","tileMat3","triangleCount","bounds","coordRange","texture","_coords","_bounds","toScreenNoRotation","coords","displayViewMat3","allDirty","from","count","_dirties","buffers","Object","keys","_largestRange","_parent","_updateLargestRange","_freeHead","next","_size","_allocated","prev","_bookKeeper","rangeCreated","findBestRange","rangeResized","_removeRange","findAdjacentRanges","_fuse","largestRange","_strides","_freeListsAndStorage","_dirtyMap","vtxFreeList","idxFreeList","vertexBuffers","getStrides","_storageFor","allocate","_freeVertices","_freeIndices","removeFromList","_allocateVertices","_allocateIndices","markDirtyIndices","markDirtyVertices","setMeshDataFromBuffers","fragmentation","free","Set","_wglBuffers","_deferPatches","_labelIndex","_lastCommitTime","_patchQueue","fader","duration","_lastTime","_elapsed","_value","_finished","performance","now","_dirty","_replaceBuffers","_uploadsLocked","_hasData","_invalidated","labelMat2d","_ensureCorrectZOrder","_displayObjects","getScreenTransform","viewMat2d","remove","computeDisplayList","_dispRecStore","markAllDirty","ready","enqueue","_doPatchData","emit","time","step","visible","geometryMap","vertexBufferMap","_upload","_uploadIndices","_uploadVertices","byteLength","setSubData","hasDirty","upload","_rebuildLabelIndex","markAllClean","_bulkAddFeatures","reshuffleBulkAdd","objectIndex","recordIndex","_patchData","reshuffle","isDirty","_initLabelIndex","metrics","_insertIntoLabelIndex","xBucket","yBucket","labelIndex","tryAddMeshData","insertAfter","delete","indexOf","copy","unshift","add","splitAfter","setMeshData","warn","sqrt","expression","vvFields","field","valueUnit","valueRepresentation","rotationType","normalizationField"],"mappings":"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","file":"chunks/1878.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"./maybe.js\";export default class{constructor(t=Number.POSITIVE_INFINITY){this.size=0,this._start=0,this.maxSize=t,this._buffer=isFinite(t)?new Array(t):[]}get entries(){return this._buffer}enqueue(t){if(this.size===this.maxSize){const s=this._buffer[this._start];return this._buffer[this._start]=t,this._start=(this._start+1)%this.maxSize,s}return isFinite(this.maxSize)?this._buffer[(this._start+this.size++)%this.maxSize]=t:this._buffer[this._start+this.size++]=t,null}dequeue(){if(0===this.size)return null;const t=this._buffer[this._start];return this._buffer[this._start]=null,this.size--,this._start=(this._start+1)%this.maxSize,t}clear(){for(;t(this.dequeue()););}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/has.js\";import{isNone as e,mapMany as i,isSome as s,andThen as r,unwrap as a,forEachSome as h,mapOr as o,unwrapOr as n}from\"../../../../core/maybe.js\";import d from\"../../../../core/Logger.js\";import u from\"../../../../core/Error.js\";import{createResolver as l}from\"../../../../core/promiseUtils.js\";import{ATTRIBUTE_DATA_VV as p,TEXTURE_BINDING_ATTRIBUTE_DATA_0 as x,TEXTURE_BINDING_ATTRIBUTE_DATA_1 as c,TEXTURE_BINDING_ATTRIBUTE_DATA_2 as _,TEXTURE_BINDING_ATTRIBUTE_DATA_3 as g}from\"./definitions.js\";import\"../../../../chunks/builtins.js\";import f from\"../../../webgl/Texture.js\";import b from\"../../../webgl/FramebufferObject.js\";import\"../../../webgl/RenderingContext.js\";import{getPixelArrayCtor as T,getPixelBytes as m}from\"./Utils.js\";import{createDebugLogger as y,DEBUG_ATTR_UPDATES as w}from\"./util/debug.js\";const z=d.getLogger(\"esri.views.2d.engine.webgl.AttributeStoreView\"),D=y(w,z),S=t=>2147483647&t;class U{constructor(t,e,i){this._texture=null,this._lastTexture=null,this._fbos={},this.texelSize=4;const{buffer:s,pixelType:r,textureOnly:h}=t,o=T(r);this.shared=i,this.pixelType=r,this.size=e,this.textureOnly=h,h||(this.data=new o(a(s))),this._resetRange()}destroy(){r(this._texture,(t=>t.dispose()));for(const t in this._fbos)r(this._fbos[t],(e=>{\"0\"===t&&e.detachColorTexture(),e.dispose()})),this._fbos[t]=null;this._texture=null}get _textureDesc(){return{target:3553,wrapMode:33071,pixelFormat:6408,dataType:this.pixelType,samplingMode:9728,width:this.size,height:this.size}}setData(t,e,i){const s=S(t),r=a(this.data),h=s*this.texelSize+e;!r||h>=r.length||(r[h]=i,this.dirtyStart=Math.min(this.dirtyStart,s),this.dirtyEnd=Math.max(this.dirtyEnd,s))}getData(t,i){if(e(this.data))return null;const s=S(t)*this.texelSize+i;return!this.data||s>=this.data.length?null:this.data[s]}getTexture(t){return n(this._texture,(()=>this._initTexture(t)))}getFBO(t,i=0){if(e(this._fbos[i])){const e={colorTarget:0,depthStencilTarget:0},s=0===i?this.getTexture(t):this._textureDesc;this._fbos[i]=new b(t,e,s)}return this._fbos[i]}get locked(){return!(5121!==this.pixelType||!this.shared||this.textureOnly||!t(\"esri-atomics\")||!this.data)&&1===Atomics.load(this.data,0)}updateTexture(t){if(!this.locked)try{const e=this.dirtyStart,i=this.dirtyEnd;if(e>i)return;this._resetRange();const s=a(this.data).buffer,r=this.getTexture(t),h=4,o=(e-e%this.size)/this.size,n=(i-i%this.size)/this.size,d=o,l=this.size,p=n,x=o*this.size*h,c=(l+p*this.size)*h-x,_=T(this.pixelType),g=_.BYTES_PER_ELEMENT;try{new _(s,x*g,c)}catch(t){console.debug(t)}const f=new _(s,x*g,c),b=this.size,m=p-d+1;if(m>this.size)return void z.error(new u(\"mapview-webgl\",\"Out-of-bounds index when updating AttributeData\"));r.updateData(0,0,d,b,m,f)}catch(t){console.debug(t)}}update(t){const{data:e,start:i,end:r}=t;if(s(e)){const s=this.data,r=i*this.texelSize;for(let i=0;i<e.length;i++){const a=1<<i%this.texelSize;t.layout&a&&(s[r+i]=e[i])}}this.dirtyStart=Math.min(this.dirtyStart,i),this.dirtyEnd=Math.max(this.dirtyEnd,r)}resize(t,e){const i=this.size;if(this.size=e,this.textureOnly)return void(i!==this.size&&(this._lastTexture=this._texture,this._texture=null));const s=T(this.pixelType);this.destroy(),this.data=new s(a(t.buffer))}_resetRange(){this.dirtyStart=2147483647,this.dirtyEnd=0}_initTexture(t){const e=new f(t,this._textureDesc,n(this.data,void 0));if(s(this._lastTexture)&&this._fbos[0]){const i=this._lastTexture.descriptor.width,s=this._lastTexture.descriptor.height,r=this._lastTexture.descriptor.dataType,a=this._lastTexture.descriptor.pixelFormat,h=this.getFBO(t),o=m(r),n=new(T(r))(new ArrayBuffer(i*s*o*this.texelSize)),d=t.getBoundFramebufferObject(),{x:u,y:l,width:p,height:x}=t.getViewport();t.bindFramebuffer(h),h.readPixels(0,0,i,s,a,r,n),e.updateData(0,0,0,2*i,s/2,n),t.setViewport(u,l,p,x),t.bindFramebuffer(d)}return this.destroy(),this._texture=e,this._texture}}class j{constructor(){this._initialized=!1,this._forceNextUpload=!1,this._locked=!1}initialize(t){const{blocks:r,shared:a,size:h}=t;if(this.shared=a,this.size=h,D(\"Initializing AttributeStoreView\",t),e(this._data))this._data=i(r,(t=>new U(t,h,a)));else for(let t=0;t<this._data.length;t++){const i=this._data[t],o=r[t];s(o)&&(e(i)?this._data[t]=new U(o,h,a):i.resize(o,h))}this._initialized=!0}destroy(){r(this._data,(t=>i(t,(t=>t.destroy())))),r(this._defaultTexture,(t=>t.dispose()))}getBlock(t){if(e(this._data))return null;return this._data[t]}setLabelMinZoom(t,e){this.setData(t,0,1,e)}getLabelMinZoom(t){return this.getData(t,0,1,255)}getFilterFlags(t){return this.getData(t,0,0,0)}getVVSize(t){return this.getData(t,p,0,0)}getData(t,i,r,h){if(!this._data)return 0;const o=a(this._data)[i];if(e(o))return 0;const n=o.getData(t,r);return s(n)?n:h}setData(t,e,i,s){const r=a(this._data)[e];a(r).setData(t,i,s)}lockTextureUpload(){this._locked=!0}unlockTextureUpload(){this._locked=!1}forceTextureUpload(){this._forceNextUpload=!0}async requestUpdate(t){if(this._pendingAttributeUpdate)return void z.error(new u(\"mapview-webgl\",\"Tried to update attribute data with a pending update\"));const e=l();return D(\"AttributeStoreView Update Requested\",t),this._pendingAttributeUpdate={data:t,resolver:e},e.promise}update(){if(this._initialized&&s(this._pendingAttributeUpdate)){const{data:t,resolver:e}=this._pendingAttributeUpdate,i=a(this._data);for(let e=0;e<t.blocks.length;e++){const s=t.blocks[e],a=i[e];r(a,(t=>r(s,(i=>{D(`Updating block ${e}`,i),t.update(i)}))))}this._pendingAttributeUpdate=null,e()}}bindTextures(t){this.update();const e=this._getDefaultTexture(t);if(!this._initialized)return t.bindTexture(e,x),t.bindTexture(e,c),t.bindTexture(e,_),void t.bindTexture(e,g);const i=a(this._data);this._locked&&!this._forceNextUpload||(h(i,(e=>e.updateTexture(t))),this._forceNextUpload=!1),t.bindTexture(o(i[0],e,(e=>e.getTexture(t))),x),t.bindTexture(o(i[1],e,(e=>e.getTexture(t))),c),t.bindTexture(o(i[2],e,(e=>e.getTexture(t))),_),t.bindTexture(o(i[3],e,(e=>e.getTexture(t))),g)}_getDefaultTexture(t){if(e(this._defaultTexture)){const e={wrapMode:33071,pixelFormat:6408,dataType:5121,samplingMode:9728,width:1,height:1};this._defaultTexture=new f(t,e,new Uint8Array(4))}return this._defaultTexture}}export{j as AttributeStoreView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrapOr as e,unwrap as t,isSome as i,isNone as s}from\"../../../../core/maybe.js\";import a from\"../../../../Color.js\";import{pt2px as o}from\"../../../../core/screenUtils.js\";import{getMetersPerUnitForSR as l}from\"../../../../core/unitUtils.js\";import{meterIn as r}from\"../../../../renderers/support/lengthUtils.js\";import{DOT_DENSITY_MAX_FIELDS as n}from\"./definitions.js\";import v from\"../../../webgl/capabilities.js\";import{isDefined as d,isNumber as u}from\"./Utils.js\";function c(e,t){const i=t.length;if(e<t[0].value||1===i)return t[0].size;for(let s=1;s<i;s++)if(e<t[s].value){const i=(e-t[s-1].value)/(t[s].value-t[s-1].value);return t[s-1].size+i*(t[s].size-t[s-1].size)}return t[i-1].size}function h(e,t,i=0){if(s(t))return e[i+0]=0,e[i+1]=0,e[i+2]=0,void(e[i+3]=0);const{r:a,g:o,b:l,a:r}=t;e[i+0]=a*r/255,e[i+1]=o*r/255,e[i+2]=l*r/255,e[i+3]=r}class p{constructor(){this.symbolLevels=[],this.vvColorValues=new Float32Array(8),this.vvColors=new Float32Array(32),this.vvOpacityValues=new Float32Array(8),this.vvOpacities=new Float32Array(8),this.vvSizeMinMaxValue=new Float32Array(4),this.ddColors=new Float32Array(32),this.ddBackgroundColor=new Float32Array(4),this.ddActiveDots=new Float32Array(8),this._vvMaterialParameters={vvSizeEnabled:!1,vvColorEnabled:!1,vvRotationEnabled:!1,vvRotationType:\"geographic\",vvOpacityEnabled:!1}}getSizeVVFieldStops(i){const s=this._vvSizeFieldStops;switch(s.type){case\"static\":return s;case\"level-dependent\":return e(s.levels[i],(()=>{let e=1/0,a=0;for(const t in s.levels){const s=parseFloat(t),o=Math.abs(i-s);o<e&&(e=o,a=s)}if(e===1/0)return{sizes:new Float32Array([0,0,0,0,0,0]),values:new Float32Array([0,0,0,0,0,0])};const o=i-a,l=Math.pow(2,o/2),r=t(s.levels[a]),n=new Float32Array(r.values);return n[2]*=l,n[3]*=l,{sizes:t(r.sizes),values:n}}))}}get vvMaterialParameters(){return this._vvMaterialParameters}update(e){i(this._vvInfo)&&this._updateVisualVariables(this._vvInfo.vvRanges,e)}setInfo(e,t,s){switch(i(s)&&s.forEach((e=>this._updateEffects(e))),this._vvInfo=t,e.type){case\"dot-density\":this._updateDotDensityInfo(e)}}getVariation(){return{ddDotBlending:this.ddDotBlending,outsideLabelsVisible:this.outsideLabelsVisible,oesTextureFloat:v().supportsTextureFloat}}getVariationHash(){return(this.ddDotBlending?1:0)|(this.outsideLabelsVisible?1:0)<<1}_updateEffects(e){i(e)&&e.filter&&e.filter.enabled&&(this.outsideLabelsVisible=e.excludedLabelsVisible)}_updateVisualVariables(e,t){const i=this._vvMaterialParameters;if(i.vvOpacityEnabled=!1,i.vvSizeEnabled=!1,i.vvColorEnabled=!1,i.vvRotationEnabled=!1,!e)return;const s=e.size;if(s){if(i.vvSizeEnabled=!0,s.minMaxValue){const e=s.minMaxValue;let i,a;if(d(e.minSize)&&d(e.maxSize))if(u(e.minSize)&&u(e.maxSize))i=o(e.minSize),a=o(e.maxSize);else{const s=t.scale;i=o(c(s,e.minSize.stops)),a=o(c(s,e.maxSize.stops))}this.vvSizeMinMaxValue.set([e.minDataValue,e.maxDataValue,i,a])}if(s.scaleStops&&(this.vvSizeScaleStopsValue=o(c(t.scale,s.scaleStops.stops))),s.unitValue){const e=l(t.spatialReference)/r[s.unitValue.unit];this.vvSizeUnitValueToPixelsRatio=e/t.resolution}s.fieldStops&&(this._vvSizeFieldStops=s.fieldStops)}const a=e.color;a&&(i.vvColorEnabled=!0,this.vvColorValues.set(a.values),this.vvColors.set(a.colors));const n=e.opacity;n&&(i.vvOpacityEnabled=!0,this.vvOpacityValues.set(n.values),this.vvOpacities.set(n.opacities));const v=e.rotation;v&&(i.vvRotationEnabled=!0,i.vvRotationType=v.type)}_updateDotDensityInfo(e){const t=e.attributes;this.ddDotValue=e.dotValue,this.ddDotScale=e.referenceScale,this.ddDotSize=e.dotSize,this.ddDotBlending=e.dotBlendingEnabled,this.ddSeed=e.seed;for(let e=0;e<n;e++){const i=e>=t.length?new a([0,0,0,0]):t[e].color;h(this.ddColors,i,4*e)}for(let t=0;t<8;t++)this.ddActiveDots[t]=t<e.attributes.length?1:0;h(this.ddBackgroundColor,e.backgroundColor)}}export{p as WGLRendererInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{createResolver as e,all as t}from\"../../../core/promiseUtils.js\";import{create as r}from\"../../../geometry/support/aaBoundingRect.js\";import s from\"../../../core/Queue.js\";import{TileData as i}from\"./webgl/TileData.js\";import{WGLTile as o}from\"./webgl/WGLTile.js\";import{AttributeStoreView as a}from\"./webgl/AttributeStoreView.js\";import n from\"./webgl/TileContainer.js\";import{WGLRendererInfo as d}from\"./webgl/WGLRendererInfo.js\";class l extends n{constructor(e){super(e),this._rendererInfo=new d,this._materialItemsRequestQueue=new s,this.attributeView=new a}destroy(){this.removeAllChildren(),this.children.forEach((e=>e.destroy())),this.attributeView.destroy(),this._materialItemsRequestQueue.clear()}setRendererInfo(e,t,r){this._rendererInfo.setInfo(e,t,r),this.requestRender()}async getMaterialItems(t,r){if(!t||0===t.length)return null;const s=e();return this._materialItemsRequestQueue.push({items:t,abortOptions:r,resolver:s}),this.requestRender(),s.promise}onTileData(e,t){if(t.addOrUpdate&&\"tileDisplayData\"in t.addOrUpdate)e.setData(t);else{const r=t.addOrUpdate&&i.decode(t.addOrUpdate),s={...t,addOrUpdate:r};e.setData(s)}this.contains(e)||this.addChild(e),this.requestRender()}onTileError(e){e.clear(),this.contains(e)||this.addChild(e)}doRender(e){if(e.context.capabilities.textureFloat,e.context.capabilities.vao,this._materialItemsRequestQueue.length>0){let t=this._materialItemsRequestQueue.pop();for(;t;)this._processMaterialItemRequest(e,t),t=this._materialItemsRequestQueue.pop()}super.doRender(e)}renderChildren(e){for(const t of this.children)t.commitChanges(e);this._rendererInfo.update(e.state),super.renderChildren(e)}createTile(e){const t=this._tileInfoView.getTileBounds(r(),e);return new o(e,t)}destroyTile(e){this.removeChild(e),e.destroy()}createRenderParams(e){return{...super.createRenderParams(e),rendererInfo:this._rendererInfo,attributeView:this.attributeView}}_processMaterialItemRequest(e,{items:r,abortOptions:s,resolver:i}){const{painter:o,pixelRatio:a}=e,n=r.map((e=>o.textureManager.rasterizeItem(e.symbol,a,e.glyphIds,s)));t(n).then((e=>{if(!this.stage)return void i.reject();const t=e.map(((e,t)=>({id:r[t].id,mosaicItem:e})));i.resolve(t)}),i.reject)}}export{l as FeatureContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{WGLDrawPhase as e}from\"./enums.js\";import r from\"./brushes/WGLBrushInfo.js\";import s from\"./brushes/WGLBrushStencil.js\";import t from\"./WGLContainer.js\";const n=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;export default class extends t{constructor(e){super(),this._tileInfoView=e}renderChildren(e){this.sortChildren(n),this.setStencilReference(),super.renderChildren(e)}createRenderParams(e){const{state:r}=e;return{...super.createRenderParams(e),requiredLevel:this._tileInfoView.getClosestInfoForScale(r.scale).level,displayLevel:this._tileInfoView.tileInfo.scaleToZoom(r.scale)}}prepareRenderPasses(t){const n=t.registerRenderPass({name:\"stencil\",brushes:[s],drawPhase:e.DEBUG|e.MAP|e.HIGHLIGHT,target:()=>this.getStencilTarget()}),i=t.registerRenderPass({name:\"tileInfo\",brushes:[r],drawPhase:e.DEBUG,target:()=>this.children,has:\"esri-tiles-debug\"});return[...super.prepareRenderPasses(t),n,i]}getStencilTarget(){return this.children}updateTransforms(e){for(const r of this.children){const s=this._tileInfoView.getTileResolution(r.key);r.setTransform(e,s)}}setStencilReference(){let e=1;for(const r of this.children)r.stencilRef=e++}}export{n as sortByLevel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nexport default class{constructor(){this._byGeometryType=null}get satisfied(){return!this._byGeometryType}reset(){this._byGeometryType=null}verticesFor(e){return this._byGeometryType?this._byGeometryType[e].vertices:0}indicesFor(e){return this._byGeometryType?this._byGeometryType[e].indices:0}needMore(e,t,i){if(!t&&!i)return;this._byGeometryType||(this._byGeometryType=[{vertices:0,indices:0},{vertices:0,indices:0},{vertices:0,indices:0},{vertices:0,indices:0},{vertices:0,indices:0}]);const r=this._byGeometryType[e];r.vertices+=t,r.indices+=i}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{allocateTypedArrayBufferwithData as e}from\"./Utils.js\";class r{constructor(){this.geometries=[{indexBuffer:void 0,vertexBuffer:{}},{indexBuffer:void 0,vertexBuffer:{}},{indexBuffer:void 0,vertexBuffer:{}},{indexBuffer:void 0,vertexBuffer:{}},{indexBuffer:void 0,vertexBuffer:{}}]}clone(){const e=new r;for(let r=0;r<this.geometries.length;r++){const f=this.geometries[r],t=e.geometries[r];t.indexBuffer=f.indexBuffer.slice(),t.vertexBuffer={};for(const e in f.vertexBuffer){const{data:r,stride:i}=f.vertexBuffer[e];t.vertexBuffer[e]={data:r.slice(),stride:i}}}return e}static deserialize(f){const t=new r;for(let r=0;r<5;++r){t.geometries[r].indexBuffer=new Uint32Array(f.geometries[r].indexBuffer),t.geometries[r].vertexBuffer={};for(const i in f.geometries[r].vertexBuffer)t.geometries[r].vertexBuffer[i]={data:e(f.geometries[r].vertexBuffer[i].data,f.geometries[r].vertexBuffer[i].stride),stride:f.geometries[r].vertexBuffer[i].stride}}return t}serialize(){const e={geometries:[{indexBuffer:this.geometries[0].indexBuffer.buffer,vertexBuffer:{}},{indexBuffer:this.geometries[1].indexBuffer.buffer,vertexBuffer:{}},{indexBuffer:this.geometries[2].indexBuffer.buffer,vertexBuffer:{}},{indexBuffer:this.geometries[3].indexBuffer.buffer,vertexBuffer:{}},{indexBuffer:this.geometries[4].indexBuffer.buffer,vertexBuffer:{}}]};for(let r=0;r<5;++r)for(const f in this.geometries[r].vertexBuffer)e.geometries[r].vertexBuffer[f]={data:this.geometries[r].vertexBuffer[f].data.buffer,stride:this.geometries[r].vertexBuffer[f].stride};return e}getBuffers(){const e=[];for(let r=0;r<5;++r){e.push(this.geometries[r].indexBuffer.buffer);for(const f in this.geometries[r].vertexBuffer)e.push(this.geometries[r].vertexBuffer[f].data.buffer)}return e}}export default r;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{WGLDrawPhase as t,WGLGeometryType as o}from\"./enums.js\";const n=e.getLogger(\"esri.views.2d.engine.webgl.WGLDisplayList\");function i(e,t,o,...n){t<e.length?e.splice(t,o,...n):e.push(...n)}const r=new Map;r.set(t.MAP,[o.FILL,o.LINE,o.MARKER,o.TEXT]),r.set(t.LABEL,[o.LABEL]),r.set(t.LABEL_ALPHA,[o.LABEL]);class s{constructor(e=!1){this.symbolLevels=[],this.unified=e}replay(e,t,o){if(this.unified)for(const n of this.symbolLevels)for(const i of n.zLevels){const n=i.geometryDPInfo.unified;if(n)for(const i of n){const n=e.painter.getGeometryBrush(i.geometryType),r=t.getGeometry(i.geometryType);n.prepareState(e,t),n.drawGeometry(e,t,i,r,o)}}}get empty(){return!this.symbolLevels||0===this.symbolLevels.length}clear(){this.symbolLevels.length=0}addToList(e,t){if(Array.isArray(e))for(const o of e)this._addToList(o,t);else this._addToList(e,t)}removeFromList(e){Array.isArray(e)||(e=[e]);let t=null;for(const o of e)t=this._removeFromList(o);return t}byType(e,t){for(const o of this.symbolLevels)for(const n of o.zLevels){const o=n.geometryDPInfo,i=this.getDPInfoType(e);if(o[i])for(const e of o[i])t(e)}}clone(){const e=new s(this.unified);for(const t of this.symbolLevels)e.symbolLevels.push(t.clone());return e}splitAfter(e){const t=this._getDisplayList(e.symbolLevel,e.zOrder,e.geometryType),o=t.length,n=e.indexFrom+e.indexCount;for(let i=0;i<o;++i){const o=t[i];if(o.geometryType===e.geometryType&&n>o.indexFrom&&n<=o.indexFrom+o.indexCount){if(n<o.indexFrom+o.indexCount){const e=new l;e.geometryType=o.geometryType,e.materialKey=o.materialKey,e.indexFrom=n,e.indexCount=o.indexFrom+o.indexCount-n,t.splice(i+1,0,e),o.indexCount=n-o.indexFrom}return i}}}_addToList(e,t){const o=e.symbolLevel,n=e.zOrder,r=this._getDisplayList(o,n,e.geometryType),s=null!=t?t:r.length-1,m=s>=0&&s<r.length?r[s]:null;if(null===m||m.materialKey!==e.materialKey||m.indexFrom+m.indexCount!==e.indexFrom||this.unified&&m.geometryType!==e.geometryType){const t=new l;t.indexFrom=e.indexFrom,t.indexCount=e.indexCount,t.materialKey=e.materialKey,t.geometryType=e.geometryType,i(r,s+1,0,t)}else m.indexCount+=e.indexCount}_removeFromList(e){const t=e.symbolLevel,o=e.zOrder,n=this._getDisplayList(t,o,e.geometryType),r=n.length;let s;for(let t=0;t<r;++t){const o=n[t];if(e.indexFrom+e.indexCount>o.indexFrom&&e.indexFrom<o.indexFrom+o.indexCount&&(!this.unified||o.geometryType===e.geometryType)){s=t;break}}if(void 0!==s){const t=n[s];if(e.indexFrom===t.indexFrom)return t.indexCount-=e.indexCount,t.indexFrom+=e.indexCount,0===t.indexCount&&i(n,s,1),s-1;if(e.indexFrom+e.indexCount===t.indexFrom+t.indexCount)return t.indexCount-=e.indexCount,0===t.indexCount?(i(n,s,1),s-1):s;{const o=t.indexFrom,r=e.indexFrom-t.indexFrom,m=e.indexCount,y=t.indexFrom+t.indexCount-(e.indexFrom+e.indexCount);t.indexCount=r;const d=new l;return d.geometryType=t.geometryType,d.materialKey=t.materialKey,d.indexFrom=o+r+m,d.indexCount=y,i(n,s+1,0,d),s}}return null}_getDisplayList(e,t,n){let i;const r=this.symbolLevels.length;for(let t=0;t<r;t++)if(this.symbolLevels[t].symbolLevel===e){i=this.symbolLevels[t];break}let s;i||(i=new d,i.symbolLevel=e,this.symbolLevels.push(i));const l=i.zLevels.length;for(let e=0;e<l;e++)if(i.zLevels[e].zLevel===t){s=i.zLevels[e];break}let f;if(s||(s=new y,s.geometryDPInfo=new m,s.zLevel=t,i.zLevels.push(s)),this.unified)s.geometryDPInfo.unified||(s.geometryDPInfo.unified=[]),f=s.geometryDPInfo.unified;else switch(n){case o.FILL:s.geometryDPInfo.fill||(s.geometryDPInfo.fill=[]),f=s.geometryDPInfo.fill;break;case o.LINE:s.geometryDPInfo.line||(s.geometryDPInfo.line=[]),f=s.geometryDPInfo.line;break;case o.MARKER:s.geometryDPInfo.marker||(s.geometryDPInfo.marker=[]),f=s.geometryDPInfo.marker;break;case o.TEXT:s.geometryDPInfo.text||(s.geometryDPInfo.text=[]),f=s.geometryDPInfo.text;break;case o.LABEL:s.geometryDPInfo.label||(s.geometryDPInfo.label=[]),f=s.geometryDPInfo.label;break;default:console.error(\"Trying to add a record with geometry type '\"+n+\"'.\")}return f}getDPInfoType(e){if(this.unified)return\"unified\";switch(e){case o.FILL:return\"fill\";case o.LINE:return\"line\";case o.MARKER:return\"marker\";case o.TEXT:return\"text\";case o.LABEL:return\"label\";default:return void n.error(`DisplayList: Tried to convert unknown geometryType: ${e}`)}}}class l{constructor(){this.materialKey=null,this.indexFrom=0,this.indexCount=0}clone(){const e=new l;return e.geometryType=this.geometryType,e.materialKey=this.materialKey,e.indexFrom=this.indexFrom,e.indexCount=this.indexCount,e}}class m{constructor(){this.fill=null,this.line=null,this.marker=null,this.text=null,this.label=null,this.unified=null}clone(){const e=new m;return e.fill=this.fill&&this.fill.map((e=>e.clone())),e.line=this.line&&this.line.map((e=>e.clone())),e.marker=this.marker&&this.marker.map((e=>e.clone())),e.text=this.text&&this.text.map((e=>e.clone())),e.label=this.label&&this.label.map((e=>e.clone())),e.unified=this.unified&&this.unified.map((e=>e.clone())),e}}class y{constructor(){this.geometryDPInfo=new m}clone(){const e=new y;return e.zLevel=this.zLevel,e.geometryDPInfo=this.geometryDPInfo.clone(),e}}class d{constructor(){this.zLevels=[]}clone(){const e=new d;e.symbolLevel=this.symbolLevel;for(const t of this.zLevels)e.zLevels.push(t.clone());return e}}export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport s from\"./WGLDisplayList.js\";import{serializeList as t}from\"./util/serializationUtils.js\";import i from\"./WGLDisplayObject.js\";function e(s){const t=[[],[],[],[],[]],i=s;for(const s of i)for(const i of s.displayRecords)t[i.geometryType].push(i);return t}class r{constructor(){}get displayObjectRegistry(){if(!this._displayObjectRegistry){this._displayObjectRegistry=new Map;for(const s of this.displayObjects)this._displayObjectRegistry.set(s.id,s)}return this._displayObjectRegistry}get displayList(){return this._displayList}computeDisplayList(t){if(this._displayList=new s(t),t)for(const s of this.displayObjects)for(const t of s.displayRecords)this._displayList.addToList(t);else{const s=e(this.displayObjects),t=s.length;for(let i=0;i<t;++i){const t=s[i];this._displayList.addToList(t)}}}clone(){const s=new r;return this.displayObjects&&(s.displayObjects=this.displayObjects.map((s=>s.clone()))),s}serialize(s){return t(s,this.displayObjects),s}_deserializeObjects(s){const t=s.readInt32(),e=new Array(t),r=new Map;for(let t=0;t<e.length;++t){const l=i.deserialize(s);e[t]=l,r.set(l.id,l)}this.displayObjects=e,this._displayList=null,this._displayObjectRegistry=r}static deserialize(s){const t=new r;return t._deserializeObjects(s),t}}export default r;export{e as groupRecordsByGeometryType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{WGLGeometryType as e}from\"./enums.js\";import{allocateTypedArrayBuffer as t,copyMeshData as r}from\"./Utils.js\";import i from\"./MemoryRequirements.js\";import s from\"./TileBufferData.js\";import a from\"./WGLDisplayRecord.js\";import o,{groupRecordsByGeometryType as n}from\"./TileDisplayData.js\";import f from\"./util/Writer.js\";import{MeshData as l}from\"./mesh/MeshData.js\";import{VertexBuffers as d}from\"./mesh/VertexBuffer.js\";const u=new i,c=new i;function p(e,r){const i={};for(const s in e){const a={data:t(r,e[s]),stride:e[s]};i[s]=a}return i}class m{constructor(){this.tileDisplayData=null,this.tileBufferData=null}reshuffle(){u.reset();const e=n(this.tileDisplayData.displayObjects);for(const t of e)for(const e of t)e&&u.needMore(e.geometryType,e.meshData?e.meshData.vertexCount:e.vertexCount,e.meshData?e.meshData.indexData.length:e.indexCount);const i=e.length,a=new s;for(let e=0;e<i;++e){a.geometries[e].indexBuffer=new Uint32Array(Math.round(1.5*u.indicesFor(e)));const r=[];for(const t in this.tileBufferData.geometries[e].vertexBuffer)r.push(this.tileBufferData.geometries[e].vertexBuffer[t].stride);const i=m._computeVertexAlignment(r),s=Math.round(1.5*u.verticesFor(e)),o=m._align(s,i);for(const r in this.tileBufferData.geometries[e].vertexBuffer){const i=this.tileBufferData.geometries[e].vertexBuffer[r].stride;a.geometries[e].vertexBuffer[r]={stride:i,data:t(o,i)}}}c.reset(),this.tileDisplayData.displayList.clear();for(let t=0;t<i;++t){const i=e[t];for(const e of i){if(e.meshData)e.writeMeshDataToBuffers(c.verticesFor(t),a.geometries[t].vertexBuffer,c.indicesFor(t),a.geometries[t].indexBuffer),e.meshData=null;else{const i=this.tileBufferData.geometries[t].vertexBuffer,s=this.tileBufferData.geometries[t].indexBuffer,o=a.geometries[t].vertexBuffer,n=a.geometries[t].indexBuffer,f=c.verticesFor(t),l=c.indicesFor(t);r(f,l,o,n,e,i,s),e.vertexFrom=f,e.indexFrom=l}c.needMore(t,e.vertexCount,e.indexCount)}this.tileDisplayData.displayList.unified||this.tileDisplayData.displayList.addToList(i)}if(this.tileDisplayData.displayList.unified)for(const e of this.tileDisplayData.displayObjects)this.tileDisplayData.displayList.addToList(e.displayRecords);this.tileBufferData=a}reshuffleBulkAdd(i,a,o){const n=i.addOrUpdate.tileDisplayData.displayObjects,f=this.tileDisplayData.displayObjects;u.reset();for(let e=0;e<f.length;e++){const t=f[e];for(let e=0;e<t.displayRecords.length;e++){const r=t.displayRecords[e];u.needMore(r.geometryType,r.vertexCount,r.indexCount)}}for(let e=a;e<n.length;e++){const t=n[e];for(let r=e===a?o:0;r<t.displayRecords.length;r++){const e=t.displayRecords[r];u.needMore(e.geometryType,e.vertexCount,e.indexCount)}}const l=new s;for(let e=0;e<5;e++){l.geometries[e].indexBuffer=new Uint32Array(Math.round(1.5*u.indicesFor(e)));const r=[],i=this.tileBufferData.geometries[e].vertexBuffer;for(const e in i)r.push(i[e].stride);const s=m._computeVertexAlignment(r),a=Math.round(1.5*u.verticesFor(e)),o=m._align(a,s);for(const r in i){const s=i[r].stride,a=t(o,s);l.geometries[e].vertexBuffer[r]={stride:s,data:a}}}c.reset(),this.tileDisplayData.displayList.clear();for(let e=0;e<f.length;e++){const t=f[e];for(let e=0;e<t.displayRecords.length;e++){const i=t.displayRecords[e],s=i.geometryType,a=this.tileBufferData.geometries[s].vertexBuffer,o=this.tileBufferData.geometries[s].indexBuffer,n=l.geometries[s].vertexBuffer,f=l.geometries[s].indexBuffer,d=c.verticesFor(s),u=c.indicesFor(s);r(d,u,n,f,i,a,o),i.vertexFrom=d,i.indexFrom=u,c.needMore(s,i.vertexCount,i.indexCount),this.tileDisplayData.displayList.addToList(i)}}const d=this.tileDisplayData.displayObjectRegistry;if(0!==o){const t=n[a];for(let i=0;i<o;i++){const s=t.displayRecords[i];if(d.get(t.id)){if(s.geometryType!==e.FILL&&s.geometryType!==e.LINE)continue}const a=s.geometryType,o=this.tileBufferData.geometries[a].vertexBuffer,n=this.tileBufferData.geometries[a].indexBuffer,f=l.geometries[a].vertexBuffer,u=l.geometries[a].indexBuffer,p=c.verticesFor(a),m=c.indicesFor(a);r(p,m,f,u,s,o,n),s.vertexFrom=p,s.indexFrom=m,c.needMore(a,s.vertexCount,s.indexCount),this.tileDisplayData.displayList.addToList(s)}}for(let t=a;t<n.length;t++){const s=n[t],f=t===a?o:0,u=d.get(s.id);for(let t=f;t<s.displayRecords.length;t++){const a=s.displayRecords[t];if(u){if(a.geometryType!==e.FILL&&a.geometryType!==e.LINE)continue;u.displayRecords.push(a)}const o=a.geometryType,n=i.addOrUpdate.tileBufferData.geometries[o],f=n.vertexBuffer,d=n.indexBuffer,p=l.geometries[o].vertexBuffer,m=l.geometries[o].indexBuffer,D=c.verticesFor(o),y=c.indicesFor(o);r(D,y,p,m,a,f,d),a.vertexFrom=D,a.indexFrom=y,c.needMore(o,a.vertexCount,a.indexCount),this.tileDisplayData.displayList.addToList(a)}u||(d.set(s.id,s),this.tileDisplayData.displayObjects.push(s))}this.tileBufferData=l}getStrides(){const e=[];for(let t=0;t<this.tileBufferData.geometries.length;++t){const r=this.tileBufferData.geometries[t];e[t]={};for(const i in r.vertexBuffer)e[t][i]=r.vertexBuffer[i].stride}return e}clone(){const e=new m;return e.tileBufferData=this.tileBufferData.clone(),e.tileDisplayData=this.tileDisplayData.clone(),e}_guessSize(){const{displayObjects:e}=this.tileDisplayData,t=Math.min(e.length,4);let r=0;for(let i=0;i<t;i++)r=Math.max(r,e[i].displayRecords.length);return 2*(12*e.length+e.length*r*40)}serialize(){const e=this.tileBufferData.serialize(),t=this.tileBufferData.getBuffers(),r=this.tileDisplayData.serialize(new f(Int32Array,this._guessSize())).buffer();return t.push(r),{result:{displayData:r,bufferData:e},transferList:t}}static decode(e){const t=l.deserializeDisplayObjects(e),r={};for(const t in e.vertexBuffersMap)r[t]=d.decode(e.vertexBuffersMap[t]);return m.fromMeshData({displayObjects:t,vertexBuffersMap:r})}static fromMeshData(e){const t=new m,r=new o,i=new s;r.displayObjects=e.displayObjects;for(const t in e.vertexBuffersMap){const r=e.vertexBuffersMap[t];i.geometries[t].indexBuffer=r.indexBuffer,i.geometries[t].vertexBuffer=r.namedBuffers}return t.tileDisplayData=r,t.tileBufferData=i,t}static bind(e,t){const r=new m;return r.tileDisplayData=e,r.tileBufferData=t,r}static create(e,t){const r=new m;r.tileDisplayData=new o,r.tileDisplayData.displayObjects=e;const i=[0,0,0,0,0],n=[0,0,0,0,0],f=[[],[],[],[],[]];for(const t of e)for(const e of t.displayRecords)f[e.geometryType].push(e),i[e.geometryType]+=e.meshData.vertexCount,n[e.geometryType]+=e.meshData.indexData.length;const l=new s,d=function(e){return[e.fill||{},e.line||{},e.icon||{},e.text||{},e.label||{}]}(t);for(let e=0;e<5;e++){const t=new Uint32Array(n[e]),r=p(d[e],i[e]);a.writeAllMeshDataToBuffers(f[e],r,t),l.geometries[e]={indexBuffer:t,vertexBuffer:r}}return r.tileBufferData=l,r}static _align(e,t){const r=e%t;return 0===r?e:e+(t-r)}static _computeVertexAlignment(e){let t=!1,r=!1;for(const i of e)i%4==2?t=!0:i%4!=0&&(r=!0);return r?4:t?2:1}}export{m as TileData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{s,m as t}from\"../../../../chunks/mat3.js\";import o from\"../../tiling/TileKey.js\";import{c as i}from\"../../../../chunks/mat3f32.js\";import{DisplayObject as e}from\"../DisplayObject.js\";class r extends e{constructor(s,t,e,r=e){super(),this.triangleCountReportedInDebug=0,this.transforms={dvs:i(),tileMat3:i()},this.triangleCount=0,this.key=new o(s),this.bounds=t,this.size=e,this.coordRange=r}destroy(){this.texture&&(this.texture.dispose(),this.texture=null)}get coords(){return this._coords}get bounds(){return this._bounds}set bounds(s){this._coords=[s[0],s[3]],this._bounds=s}setTransform(o,i){const e=i/(o.resolution*o.pixelRatio),r=this.transforms.tileMat3,[n,h]=o.toScreenNoRotation([0,0],this.coords),a=this.size[0]/this.coordRange[0]*e,d=this.size[1]/this.coordRange[1]*e;s(r,a,0,0,0,d,0,n,h,1),t(this.transforms.dvs,o.displayViewMat3,r)}}export{r as TiledDisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{createGeometryData as t}from\"./Utils.js\";function i(t,i,r){if(!t.allDirty)if(null!=t.from&&null!=t.count){const s=Math.min(t.from,i),l=Math.max(t.from+t.count,i+r)-s;t.from=s,t.count=l}else t.from=i,t.count=r}export default class{constructor(){this._dirties=t((()=>({indices:{from:null,count:null,allDirty:!1}})),(()=>({vertices:{from:null,count:null,allDirty:!1}})))}hasDirty(){for(const t of this._dirties)if(null!==t.data.indices.count||t.data.indices.allDirty)return!0;return!1}markAllClean(){for(const t of this._dirties){t.data.indices.from=null,t.data.indices.count=null,t.data.indices.allDirty=!1;for(const i in t.buffers)t.buffers[i].data.vertices.from=null,t.buffers[i].data.vertices.count=null,t.buffers[i].data.vertices.allDirty=!1}}markAllDirty(){for(const t of this._dirties){t.data.indices.allDirty=!0;for(const i in t.buffers)t.buffers[i].data.vertices.allDirty=!0}}forEach(t){for(let i=0;i<this._dirties.length;++i){const r=this._dirties[i],s={};for(const t in r.buffers){const i=r.buffers[t].data.vertices;(i.allDirty||null!=i.from&&null!=i.count&&i.count>0)&&(s[t]=i)}const l=r.data.indices;let n;n=l.allDirty||null!=l.from&&null!=l.count&&l.count>0?{indices:l,vertices:s}:{indices:null,vertices:s},(n.indices||Object.keys(n).length>0)&&t(n,i)}}markDirtyIndices(t,r,s){i(this._dirties[t].data.indices,r,s)}markDirtyVertices(t,r,s,l){i(this._dirties[t].buffers[r].data.vertices,s,l)}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nclass e{constructor(e){this._largestRange=null,this._parent=e,this._updateLargestRange()}get largestRange(){return this._largestRange}rangeCreated(e){(!this._largestRange||e.count>this._largestRange.count)&&(this._largestRange=e)}rangeResized(e,t){e===this._largestRange?e.count<t&&this._updateLargestRange():(!this._largestRange||e.count>this._largestRange.count)&&(this._largestRange=e)}findBestRange(e){let t=this._parent._freeHead,n=null;for(;null!==t;)t.count>=e&&(!n||t.count-e<n.count-e)&&(n=t),t=t.next;return n}findAdjacentRanges(e,t){let n=!0,r=!1,s=null,o=this._parent._freeHead;for(;n&&!r;){const a=null!==s?s.from+s.count:0,l=null!==o?o.from:this._parent._size;e>=a&&e+t<=l?(n=!1,r=!0):null!==o?(s=o,o=o.next):n=!1}return[s,o]}_updateLargestRange(){let e=null,t=this._parent._freeHead;for(;null!==t;)(!e||t.count>e.count)&&(e=t),t=t.next;this._largestRange=e}}class t{constructor(t,n){this._allocated=0,this._size=t,this._freeHead=t>0?{from:0,count:t,prev:null,next:null}:null,this._bookKeeper=n||new e(this),this._freeHead&&this._bookKeeper.rangeCreated(this._freeHead)}allocate(e){const n=this._bookKeeper.findBestRange(e);if(null===n)return-1;const r=n.from,s=n.count;if(n.from+=e,n.count-=e,this._bookKeeper.rangeResized(n,r,s),this._allocated+=e,0===n.count){const e=null!==n.prev?this._freeHead:n.next;t._removeRange(n),this._freeHead=e}return r}free(e,n){const[r,s]=this._bookKeeper.findAdjacentRanges(e,n),o={from:e,count:n,prev:r,next:s};if(null!==r&&(r.next=o),null!==s&&(s.prev=o),this._bookKeeper.rangeCreated(o),this._allocated-=n,null!==s&&o.from+o.count===s.from){const e=o.from,n=o.count;t._fuse(o,s),t._removeRange(s),this._bookKeeper.rangeResized(o,e,n),this._bookKeeper.rangeResized(s,void 0,0)}if(null!==r&&r.from+r.count===o.from){const e=r.from,n=r.count;t._fuse(r,o),t._removeRange(o),this._bookKeeper.rangeResized(r,e,n),this._bookKeeper.rangeResized(o,void 0,0)}this._freeHead=null!==o.prev?this._freeHead:o}get fragmentation(){const e=this._size-this._allocated;if(0===e)return 0;return 1-this._bookKeeper.largestRange.count/e}static _removeRange(e){null!==e.prev?null!==e.next?(e.prev.next=e.next,e.next.prev=e.prev):e.prev.next=null:null!==e.next&&(e.next.prev=null)}static _fuse(e,t){e.count+=t.count,e.next=t.next,t.from+=t.count,t.count=0,null!==t.next&&(t.next.prev=e)}}export{t as FreeList};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{allocateTypedArrayBuffer as e,strideToPackingFactor as t,copyMeshData as r}from\"./Utils.js\";import{FreeList as i}from\"./FreeList.js\";const s=[\"FILL\",\"LINE\",\"MARKER\",\"TEXT\",\"LABEL\"];class o{constructor(t,r,s,o){this._strides=t,this._displayList=r,this._freeListsAndStorage={},this._dirtyMap=null,this._dirtyMap=s;for(const r in t){this._freeListsAndStorage[r]={vtxFreeList:o?new i(o):null,idxFreeList:o?new i(o):null,vertexBuffers:{},indexBuffer:o?new Uint32Array(o):null};for(const i in t[r])this._freeListsAndStorage[r].vertexBuffers[i]={data:o?e(o,t[r][i]):null,stride:t[r][i]}}}static fromTileData(e,r){const n=function(e){const t=e.getStrides(),r={};for(let e=0;e<t.length;e++)r[s[e]]=t[e];return r}(e),d=[0,0,0,0,0],a=[0,0,0,0,0],x=e.tileDisplayData.displayObjects;for(const e of x)for(const t of e.displayRecords)d[t.geometryType]=Math.max(d[t.geometryType],t.vertexFrom+t.vertexCount),a[t.geometryType]=Math.max(a[t.geometryType],t.indexFrom+t.indexCount);const u=new o(n,e.tileDisplayData.displayList,r,null);for(let r=0;r<e.tileBufferData.geometries.length;++r){const o=d[r],n=a[r],x=e.tileBufferData.geometries[r],f=s[r],l=u._storageFor(f),c=e.tileBufferData.geometries[r].indexBuffer;let m;l.indexBuffer=c,l.idxFreeList=new i(c.length),l.idxFreeList.allocate(n);for(const i in x.vertexBuffer){const s=e.tileBufferData.geometries[r].vertexBuffer[i];l.vertexBuffers[i].data=s.data,l.vertexBuffers[i].stride=s.stride;const o=t(s.stride),n=s.data.length*o/s.stride;m||(m=n)}l.vtxFreeList=new i(m),l.vtxFreeList.allocate(o)}return u}delete(e){const t=s[e.geometryType];this._freeVertices(t,e.vertexFrom,e.vertexCount),this._freeIndices(t,e.indexFrom,e.indexCount),this._displayList.removeFromList(e),e.vertexFrom=void 0,e.indexFrom=void 0}setMeshData(e,t,i,o,n){const d=s[e.geometryType];let a,x;e.meshData=null,void 0===e.vertexFrom?(x=t.vertexCount,a=this._allocateVertices(d,x)):t.vertexCount>e.vertexCount?(this._freeVertices(d,e.vertexFrom,e.vertexCount),x=t.vertexCount,a=this._allocateVertices(d,x)):t.vertexCount===e.vertexCount?(a=e.vertexFrom,x=e.vertexCount):(this._freeVertices(d,e.vertexFrom+t.vertexCount,e.vertexCount-t.vertexCount),a=e.vertexFrom,x=t.vertexCount);let u,f,l,c=!0;if(void 0===e.indexFrom?(u=n,l=t.indexCount,f=this._allocateIndices(d,l)):t.indexCount>e.indexCount?(u=this._displayList.removeFromList(e),this._freeIndices(d,e.indexFrom,e.indexCount),l=t.indexCount,f=this._allocateIndices(d,l)):t.indexCount===e.indexCount?(c=!1,f=e.indexFrom,l=e.indexCount):(u=this._displayList.removeFromList(e),this._freeIndices(d,e.indexFrom+t.indexCount,e.indexCount-t.indexCount),f=e.indexFrom,l=t.indexCount),-1!==a&&-1!==f){const s=this._storageFor(d);if(r(a,f,s.vertexBuffers,s.indexBuffer,t,i,o),e.vertexFrom=a,e.indexFrom=f,e.vertexCount=t.vertexCount,e.indexCount=t.indexCount,this._dirtyMap){this._dirtyMap.markDirtyIndices(e.geometryType,e.indexFrom,e.indexCount);for(const t in i)this._dirtyMap.markDirtyVertices(e.geometryType,t,e.vertexFrom,e.vertexCount)}return c&&this._displayList.addToList(e,u),!0}return-1!==a&&this._freeVertices(d,a,x),-1!==f&&this._freeIndices(d,f,l),e.setMeshDataFromBuffers(t,i,o),e.vertexFrom=void 0,e.vertexCount=0,e.indexFrom=void 0,e.indexCount=0,!1}tryAddMeshData(e,t){const i=t.vertexBuffer,o=t.indexBuffer,n=s[e.geometryType],d=this._allocateVertices(n,e.vertexCount);if(-1===d)return this._freeVertices(n,d,e.vertexCount),!1;const a=this._allocateIndices(n,e.indexCount);if(-1===a)return this._freeVertices(n,d,e.vertexCount),this._freeIndices(n,a,e.indexCount),!1;const x=this._storageFor(n);if(r(d,a,x.vertexBuffers,x.indexBuffer,e,i,o),e.vertexFrom=d,e.indexFrom=a,this._dirtyMap){this._dirtyMap.markDirtyIndices(e.geometryType,e.indexFrom,e.indexCount);for(const t in i)this._dirtyMap.markDirtyVertices(e.geometryType,t,d,e.vertexCount)}return this._displayList.addToList(e),!0}_allocateVertices(e,t){const r=this._storageFor(e),i=r.vtxFreeList.allocate(t);if(-1===i)return-1;return r.vtxFreeList.fragmentation>.5?-1:i}_freeVertices(e,t,r){this._storageFor(e).vtxFreeList.free(t,r)}_freeIndices(e,t,r){this._storageFor(e).idxFreeList.free(t,r)}_allocateIndices(e,t){const r=this._storageFor(e),i=r.idxFreeList.allocate(t);if(-1===i)return-1;return r.idxFreeList.fragmentation>.5?-1:i}_storageFor(e){return this._freeListsAndStorage[e]}_stridesFor(e,t){return this._strides[e][t]}}export default o;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import\"../../../../core/mathUtils.js\";import\"../../../../chunks/builtins.js\";import e from\"../../../webgl/BufferObject.js\";import\"../../../webgl/FramebufferObject.js\";import\"../../../webgl/RenderingContext.js\";import{createGeometryData as t,C_VBO_INFO as r}from\"./Utils.js\";export default class{constructor(s){this.geometryMap=t((()=>({indexBuffer:e.createIndex(s,35044),vao:null})),((t,f)=>({vertexBuffer:e.createVertex(s,r[f])})))}dispose(){for(let e=0;e<5;e++){const t=this.geometryMap[e];if(t){t.data.vao&&t.data.vao.dispose(!1),t.data.indexBuffer&&t.data.indexBuffer.dispose();for(const e in t.buffers)t.buffers[e]&&t.buffers[e].data.vertexBuffer.dispose()}}}get(e){const t=this.geometryMap[e],r={};for(const e in t.buffers)r[e]=t.buffers[e].data.vertexBuffer;return{indexBuffer:t.data.indexBuffer,get vao(){return t.data.vao},set vao(e){t.data.vao=e},vertexBufferMap:r}}has(e){return null!=this.geometryMap[e]}upload(e,t){t.forEach(((t,r)=>{this._upload(t,r,e)}))}_upload(e,t,r){if(e.indices&&(e.indices.allDirty?this._uploadIndices(r,t):null!=e.indices.from&&null!=e.indices.count&&this._uploadIndices(r,t,e.indices.from,e.indices.count)),e.vertices){const s=e.vertices;for(const e in s){const f=s[e];f.allDirty?this._uploadVertices(r,t,e):null!=f.from&&null!=f.count&&this._uploadVertices(r,t,e,f.from,f.count)}}}_uploadVertices(e,t,r,s,f){const a=this.geometryMap[t];if(!a)return;const i=e.geometries[t].vertexBuffer[r];if(!i)return;const o=i.stride,u=i.data.buffer;a.buffers[r]&&u.byteLength>0&&(null!=s&&null!=f?a.buffers[r].data.vertexBuffer.setSubData(u,s*o,s*o,(s+f)*o):a.buffers[r].data.vertexBuffer.setData(u))}_uploadIndices(e,t,r,s){const f=this.geometryMap[t];if(!f)return;const a=e.geometries[t].indexBuffer.buffer;f.data.indexBuffer&&a.byteLength>0&&(null!=r&&null!=s?f.data.indexBuffer.setSubData(a,4*r,4*r,4*(r+s)):f.data.indexBuffer.setData(a))}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isSome as t}from\"../../../../core/maybe.js\";import e from\"../../../../core/CircularArray.js\";import{t as s}from\"../../../../chunks/vec2.js\";import{TILE_SIZE as i,COLLISION_BUCKET_SIZE as a}from\"./definitions.js\";import{i as r,t as l,m as d}from\"../../../../chunks/mat2d.js\";import{c as h}from\"../../../../chunks/mat2df32.js\";import{c as o}from\"../../../../chunks/vec2f32.js\";import{TiledDisplayObject as p}from\"./TiledDisplayObject.js\";import{WGLGeometryType as c}from\"./enums.js\";import n from\"./DirtyMap.js\";import y from\"./DisplayRecordStore.js\";import f from\"./Fader.js\";import u from\"./WGLBuffers.js\";const _=new Set;class m extends p{constructor(t,s,a=!1){super(t,s,[i,i]),this._data=null,this._displayList=null,this._wglBuffers=null,this._deferPatches=!1,this._dirtyMap=new n,this._labelIndex=null,this._lastCommitTime=0,this._patchQueue=new e(100),this.fader=new f,this._dirty=!0,this._replaceBuffers=!1,this._uploadsLocked=!1,this._hasData=!1,this._invalidated=!1,this.transforms.labelMat2d=h(),this._ensureCorrectZOrder=a,this._deferPatches=!a}destroy(){super.destroy(),this.clear()}get displayObjects(){var t;return null!=(t=this._displayObjects)?t:[]}get isDirty(){return this._dirty}get hasData(){return!!this._hasData}get labelIndex(){return this._labelIndex}set isDirty(t){this._dirty=t,this.requestRender()}getGeometry(t){return this._wglBuffers&&this._wglBuffers.has(t)?this._wglBuffers.get(t):null}getDisplayList(){return this._displayList}setTransform(t,e){super.setTransform(t,e);const i=this.transforms.labelMat2d,a=t.getScreenTransform(i,e),h=o();s(h,this.coords,a),r(i),l(i,i,h),d(i,t.viewMat2d,i)}setData(t){const e=t.addOrUpdate,s=t.remove;t.clear&&(this.clear(),this._patchQueue.clear(),this._hasData=!1),\"replace\"===t.type&&(this._replaceBuffers=!0,this._patchQueue.clear(),this._data=null),!this._data&&e&&e.tileDisplayData.displayObjects.length?(e.tileDisplayData.computeDisplayList(this._ensureCorrectZOrder),this._dirtyMap=new n,this._dispRecStore=y.fromTileData(e,this._dirtyMap),this._data=e,this._dirtyMap.markAllDirty(),this._hasData=!0,t.end&&this.ready()):this._data&&(e&&e.tileDisplayData.displayObjects.length||s.length)?this._deferPatches?this._patchQueue.enqueue(t):this._doPatchData(t):t.end&&this.ready(),t.end&&!this._data&&this.clear(),this.requestRender(),this.emit(\"change\")}lockUploads(){this._uploadsLocked=!0}unlockUploads(){this._uploadsLocked=!1,this.requestRender()}commitChanges(e){if(!e.time||e.time!==this._lastCommitTime){if(this._lastCommitTime=e.time,this.fader.step()||this.requestRender(),this._patchQueue.size){const e=this._patchQueue.dequeue();t(e)&&(e.end&&this.ready(),this._doPatchData(e),this.requestRender(),this._hasData=!0)}if(this._uploadsLocked)this.requestRender();else if(this.visible&&this._data){if(this._replaceBuffers)for(this._wglBuffers&&this._wglBuffers.dispose(),this._wglBuffers=null,this._replaceBuffers=!1;this._patchQueue.size;){const e=this._patchQueue.dequeue();t(e)&&(e.end&&this.ready(),this._doPatchData(e),this._hasData=!0)}this._wglBuffers||(this._wglBuffers=new u(e.context)),(this._dirtyMap.hasDirty()||this._invalidated)&&(this._invalidated=!1,this._wglBuffers.upload(this._data.tileBufferData,this._dirtyMap),this._displayList=this._data.tileDisplayData.displayList.clone(),this._displayObjects=this._data.tileDisplayData.displayObjects.slice(),this._rebuildLabelIndex(),this._dirtyMap.markAllClean())}}}clear(){this._data=null,this._displayList=null,this._dispRecStore=null,this._wglBuffers&&(this._wglBuffers.dispose(),this._wglBuffers=null)}_doPatchData(t){try{if(\"new\"===t.type){if(!t.addOrUpdate)return;this._invalidated=!0;const e=this._bulkAddFeatures(t);e&&(this._dirtyMap.markAllDirty(),this._data.reshuffleBulkAdd(t,e.objectIndex,e.recordIndex),this._dispRecStore=y.fromTileData(this._data,this._dirtyMap))}else this._invalidated=!0,this._patchData(t)||(this._dirtyMap.markAllDirty(),this._data.reshuffle(),this._dispRecStore=y.fromTileData(this._data,this._dirtyMap))}catch(t){}this.requestRender()}_rebuildLabelIndex(){var t,e;if(!(null==(t=this._data)||null==(e=t.tileBufferData.geometries[c.LABEL])||!e.indexBuffer.length)){this.isDirty=!0,this._labelIndex=this._initLabelIndex();for(const t of this.displayObjects)for(const e of t.metrics)this._insertIntoLabelIndex(e)}}_insertIntoLabelIndex(t){if(t.xBucket<0||t.yBucket<0||t.yBucket>3||t.xBucket>3)return;this.labelIndex[t.yBucket][t.xBucket].push(t)}_initLabelIndex(){const t=[];for(let e=0;e<i/a;e++){t.push([]);for(let s=0;s<i/a;s++)t[e].push([])}return t}_bulkAddFeatures(t){const e=t.addOrUpdate.tileDisplayData.displayObjects,s=this._data.tileDisplayData.displayObjects,i=this._data.tileDisplayData.displayObjectRegistry;for(let a=0;a<e.length;a++){const r=e[a],l=i.get(r.id);for(let e=0;e<r.displayRecords.length;++e){const s=r.displayRecords[e];if(l){if(s.geometryType!==c.FILL&&s.geometryType!==c.LINE)continue;l.displayRecords.push(s)}const i=t.addOrUpdate.tileBufferData.geometries[s.geometryType];if(!this._dispRecStore.tryAddMeshData(s,i))return{objectIndex:a,recordIndex:e}}l||(i.set(r.id,r),s.push(r))}return null}_patchData(t){let e=!0;const s=t.addOrUpdate&&t.addOrUpdate.tileDisplayData&&t.addOrUpdate.tileDisplayData.displayObjects||[],i=(t.remove||[]).slice();for(const t of s)null!=t.insertAfter&&i.push(t.id);for(const t of i){const e=this._data.tileDisplayData.displayObjectRegistry.get(t);if(e){this._data.tileDisplayData.displayList.removeFromList(e.displayRecords);for(const t of e.displayRecords)this._dispRecStore.delete(t);this._data.tileDisplayData.displayObjectRegistry.delete(t);const s=this._data.tileDisplayData.displayObjects.indexOf(e);this._data.tileDisplayData.displayObjects.splice(s,1)}}for(const i of s){let s,a=this._data.tileDisplayData.displayObjectRegistry.get(i.id);if(a){const t=a.displayRecords;a.set(i),a.displayRecords=t;const e=a.displayRecords.length;for(let t=0;t<e;++t){const e=a.displayRecords[t],s=i.displayRecords[t];(t>=i.displayRecords.length||e.geometryType!==s.geometryType||e.symbolLevel!==s.symbolLevel||e.zOrder!==s.zOrder||e.materialKey!==s.materialKey)&&(this._dispRecStore.delete(a.displayRecords[t]),t<i.displayRecords.length&&(a.displayRecords[t]=void 0))}a.displayRecords.length=i.displayRecords.length,a.metrics=i.metrics}else{let t;a=i.copy(),a.displayRecords=[],this._data.tileDisplayData.displayObjectRegistry.set(i.id,a);const e=this._data.tileDisplayData.displayObjects;if(null!=a.insertAfter)if(s={},a.insertAfter>=0){const s=this._data.tileDisplayData.displayObjectRegistry.get(a.insertAfter);s?(t=e.indexOf(s)+1,t<e.length?e.splice(t,0,a):(e.push(a),t=e.length)):(e.push(a),t=e.length)}else e.unshift(a),t=0;else e.push(a),t=e.length;if(s){let a;if(this._data.tileDisplayData.displayList.unified)a=i.displayRecords.length>0?1:0;else{_.clear();for(const t of i.displayRecords){const e=this._data.tileDisplayData.displayList.getDPInfoType(t.geometryType);_.add(e)}a=_.size}let r=0;for(let i=t-1;i>=0&&r<a;--i)for(let t=e[i].displayRecords.length-1;t>=0&&r<a;--t){const a=e[i].displayRecords[t],l=this._data.tileDisplayData.displayList.getDPInfoType(a.geometryType);s[l]||(s[l]=a,++r)}}}const r=i.displayRecords.length;for(let l=0;l<r;++l){const r=i.displayRecords[l];let d=a.displayRecords[l];d?(d.meshData=r.meshData,d.materialKey=r.materialKey):(d=r.copy(),d.vertexFrom=void 0,d.indexFrom=void 0,a.displayRecords[l]=d);const h=r.geometryType,o=this._data.tileDisplayData.displayList.getDPInfoType(h),p=t.addOrUpdate.tileBufferData.geometries[h],c=p.vertexBuffer,n=p.indexBuffer;let y;s&&(y=s[o]?this._data.tileDisplayData.displayList.splitAfter(s[o]):-1),e=this._dispRecStore.setMeshData(d,r,c,n,y)&&e,s&&null!=d.indexFrom&&null!=d.indexFrom&&(s[o]=d)}}return e}}export{m as WGLTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nexport default class{constructor(t=400){this.duration=t,this._lastTime=0,this._elapsed=0,this._value=0,this._finished=!1}get value(){return this._value}reset(){this._lastTime=0,this._elapsed=0,this._value=0}step(){const t=performance.now();if(0===this._lastTime)return this._lastTime=t,this._value=0,!0;if(this._elapsed>=this.duration)return!0;const s=t-this._lastTime;return this._elapsed+=s,this._lastTime=t,this._value=Math.min(this._elapsed/this.duration,1),!1}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst n=(n,l)=>n&&((...n)=>l.warn(\"DEBUG:\",...n))||(()=>null),l=!1;export{l as DEBUG_ATTR_UPDATES,n as createDebugLogger};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../../../core/maybe.js\";import{toPt as t,pt2px as s}from\"../../../../../../core/screenUtils.js\";import{NAN_MAGIC_NUMBER as n}from\"../../../../engine/webgl/definitions.js\";import{WGLVVFlag as o}from\"../../../../engine/webgl/enums.js\";import{premultiplyAlpha as i}from\"../../../../engine/webgl/color.js\";import{getTypeOfSizeVisualVariable as l}from\"../../../../engine/webgl/visualVariablesUtils.js\";function r(e,t){if(!e||!t)return e;switch(t){case\"radius\":case\"distance\":return 2*e;case\"diameter\":case\"width\":return e;case\"area\":return Math.sqrt(e)}return e}function a(e){return{value:e.value,size:t(e.size)}}function u(e){return e.map((e=>a(e)))}function c(e){if(\"string\"==typeof e||\"number\"==typeof e)return t(e);const s=e;return{type:\"size\",expression:s.expression,stops:u(s.stops)}}function p(e){const t=e&&e.length>0?{}:null;return t&&e.forEach((e=>{const s=e.type;e.field&&(t[s]=e.field)})),t}const f=e=>{const t=[],o=[],i=u(e),l=i.length;for(let e=0;e<6;e++){const r=i[Math.min(e,l-1)];t.push(r.value),o.push(null==r.size?n:s(r.size))}return{values:new Float32Array(t),sizes:new Float32Array(o)}};function m(e){const t=e&&e.length>0?{}:null,s=t?{}:null;if(!t)return{vvFields:t,vvRanges:s};for(const n of e)if(n.field&&(t[n.type]=n.field),\"size\"===n.type){s.size||(s.size={});const e=n;switch(l(e)){case o.SIZE_MINMAX_VALUE:s.size.minMaxValue={minDataValue:e.minDataValue,maxDataValue:e.maxDataValue,minSize:c(e.minSize),maxSize:c(e.maxSize)};break;case o.SIZE_SCALE_STOPS:s.size.scaleStops={stops:u(e.stops)};break;case o.SIZE_FIELD_STOPS:if(e.levels){const t={};for(const s in e.levels)t[s]=f(e.levels[s]);s.size.fieldStops={type:\"level-dependent\",levels:t}}else s.size.fieldStops={type:\"static\",...f(e.stops)};break;case o.SIZE_UNIT_VALUE:s.size.unitValue={unit:e.valueUnit,valueRepresentation:e.valueRepresentation}}}else if(\"color\"===n.type)s.color=y(n);else if(\"opacity\"===n.type)s.opacity=v(n);else if(\"rotation\"===n.type){const e=n;s.rotation={type:e.rotationType}}return{vvFields:t,vvRanges:s}}function v(e){const t={values:[0,0,0,0,0,0,0,0],opacities:[0,0,0,0,0,0,0,0]};if(\"string\"==typeof e.field){if(!e.stops)return null;{if(e.stops.length>8)return null;const s=e.stops;for(let e=0;e<8;++e){const n=s[Math.min(e,s.length-1)];t.values[e]=n.value,t.opacities[e]=n.opacity}}}else{if(!(e.stops&&e.stops.length>=0))return null;{const s=e.stops&&e.stops.length>=0&&e.stops[0].opacity;for(let e=0;e<8;e++)t.values[e]=1/0,t.opacities[e]=s}}return t}function g(e,t,s){e[4*t+0]=s.r/255,e[4*t+1]=s.g/255,e[4*t+2]=s.b/255,e[4*t+3]=s.a}function y(t){if(e(t))return null;if(t.normalizationField)return null;const s={field:null,values:[0,0,0,0,0,0,0,0],colors:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};if(\"string\"==typeof t.field){if(!t.stops)return null;{if(t.stops.length>8)return null;s.field=t.field;const e=t.stops;for(let t=0;t<8;++t){const n=e[Math.min(t,e.length-1)];s.values[t]=n.value,g(s.colors,t,n.color)}}}else{if(!(t.stops&&t.stops.length>=0))return null;{const e=t.stops&&t.stops.length>=0&&t.stops[0].color;for(let t=0;t<8;t++)s.values[t]=1/0,g(s.colors,t,e)}}for(let e=0;e<32;e+=4)i(s.colors,e,!0);return s}export{y as convertColorVariable,m as convertVisualVariables,r as getVisualVariableSizeValueRepresentationRatio,p as getVisualVariablesFields,c as normalizeSizeElement,u as normalizeSizeStops,a as stopToSizeStop};\n"],"sourceRoot":""}