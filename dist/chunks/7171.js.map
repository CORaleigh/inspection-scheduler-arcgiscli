{"version":3,"sources":["webpack://inspection-scheduler/./node_modules/@arcgis/core/geometry/support/quantizationUtils.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/symbols/cim/Rasterizer.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/symbols/cim/SDFHelper.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/symbols/cim/cimAnalyzer.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/symbols/cim/TextRasterizer.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/symbols/cim/CIMSymbolRasterizer.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/symbols/support/previewCIMSymbol.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/views/2d/arcade/callExpressionWithFeature.js"],"names":["o","n","t","r","l","a","m","originPosition","scale","tolerance","translate","extent","xmin","ymax","s","Math","round","f","x","e","u","i","length","push","p","y","z","Array","T","G","points","I","L","O","g","rings","S","N","paths","d","ymin","xmax","zmin","zmax","mmin","mmax","U","E","k","q","b","v","P","this","_rasterizationCanvas","document","createElement","type","style","size","image","Uint32Array","buffer","sdf","simplePattern","anchorX","anchorY","cap","frame","markerPlacement","c","h","width","height","getContext","ImageData","putImageData","setAttribute","drawImage","getImageData","Uint8Array","data","oldColor","newColor","Uint8ClampedArray","symbolLayers","markerGraphics","geometry","symbol","geom","asFill","floor","max","M","sqrt","angleToLine","async","error","primitiveOverrides","valueExpressionInfo","expression","spatialReference","fields","then","primitiveName","propertyName","value","angleAlignment","enable","C","X","w","color","JSON","stringify","toString","templateHash","materialHash","cim","materialOverrides","colorLocked","$","R","angle","offsetX","offsetY","scaleX","effects","tintColor","url","colorSubstitutions","rotation","filter","indexOf","separation","lineSymbol","A","capStyle","joinStyle","miterLimit","isOutline","join","referenceWidth","zOrder","Y","name","isDashed","stepY","gridAngle","scaleSymbolsProportionally","alignment","anchorPoint","isAbsoluteAnchorPoint","anchorPointUnits","outlineColor","outlineWidth","frameHeight","rotateClockwise","referenceSize","sizeRatio","J","underline","strikethrough","toLowerCase","weight","fontStyleName","font","family","fontFamilyName","decoration","haloSymbol","haloSize","H","Number","fontName","horizontalAlignment","verticalAlignment","text","textString","textCase","outlineSize","billboardMode3D","depth3D","respectFrame","clippingPath","parseInt","substr","NaN","toRgba","call","$view","geometryType","fn","j","parse","_textRasterizationCanvas","setFontProperties","parameters","textLines","split","lineHeight","computeLineHeight","computeTextWidth","renderedLineHeight","pixelRatio","renderedHaloSize","halo","renderedWidth","renderedHeight","fillStyle","slice","haloStyle","textAlign","renderHalo","globalCompositeOperation","fillText","premultiplyColors","_haloRasterizationCanvas","clearRect","strokeStyle","lineJoin","renderHaloEmulated","renderHaloNative","globalAlpha","lineWidth","strokeText","textBaseline","measureText","cos","PI","sin","Legend","Preview","targetSize","scaleFactor","fill","legend","canvasPaths","preview","stroke","analyzedCIM","hash","_spatialReference","_avoidSDF","_resourceCache","Map","_rasterizer","_textRasterizer","_pictureMarkerCache","centroid","analyzeCIMSymbol","Object","keys","map","alias","attributes","rasterizeCIMSymbol","fetchPictureMarkerResource","get","responseType","signal","set","_getRasterizedResource","rotateClockWise","rasterizedResource","getSymbolImage","min","createImageData","rasterizedImage","_imageDataToCanvas","save","rotate","restore","imageData","anchorPosition","_imageDataCanvas","_getPictureResource","_rasterizePictureResource","_embedCIMLayerInVectorMarker","rasterizeJSONResource","_rasterizeTextResource","preserveOutlineWidth","has","window","devicePixelRatio","rasterizeText","abs","createPattern","setTransform","m11","m12","m21","m22","m41","m42","beginPath","moveTo","lineTo","closePath","apply","_imageTo32Array","maxSize","feature","fieldMap","node","opacity","clone","rasterizeCIMSymbolAsync","ceil","Image","src","toDataURL","appendChild","referencesGeometry","transform","hasZ","hasM","repurposeFeature","evaluate","$feature","warn"],"mappings":"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","file":"chunks/7171.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isPoint as n,isPolyline as t,isPolygon as r,isMultipoint as e,isExtent as u}from\"./jsonUtils.js\";function i(n){return n&&\"upperLeft\"===n.originPosition}const o=(n,t,r)=>[t,r],l=(n,t,r)=>[t,r,n[2]],a=(n,t,r)=>[t,r,n[2],n[3]];function m(n){if(!n)return null;return{originPosition:\"upper-left\"===n.originPosition?\"upperLeft\":\"lower-left\"===n.originPosition?\"lowerLeft\":n.originPosition,scale:[n.tolerance,n.tolerance],translate:[n.extent.xmin,n.extent.ymax]}}function c(n,t){if(n===t||null==n&&null==t)return!0;if(null==n||null==t)return!1;let r,e,u,o,l,a;return i(n)?(r=n.translate[0],e=n.translate[1],u=n.scale[0]):(r=n.extent.xmin,e=n.extent.ymax,u=n.tolerance),i(t)?(o=t.translate[0],l=t.translate[1],a=t.scale[0]):(o=t.extent.xmin,l=t.extent.ymax,a=t.tolerance),r===o&&e===l&&u===a}function s({scale:n,translate:t},r){return Math.round((r-t[0])/n[0])}function f({scale:n,translate:t},r){return Math.round((t[1]-r)/n[1])}function x(n,t,r){const e=[];let u,i,o,l;for(let a=0;a<r.length;a++){const m=r[a];a>0?(o=s(n,m[0]),l=f(n,m[1]),o===u&&l===i||(e.push(t(m,o-u,l-i)),u=o,i=l)):(u=s(n,m[0]),i=f(n,m[1]),e.push(t(m,u,i)))}return e.length>0?e:null}function h(n,t,r){return t[0]=s(n,r[0]),t[3]=f(n,r[1]),t[2]=s(n,r[2]),t[1]=f(n,r[3]),t}function I(n,t,r,e){return x(n,r?e?a:l:e?l:o,t)}function g(n,t,r,e){const u=[],i=r?e?a:l:e?l:o;for(let r=0;r<t.length;r++){const e=x(n,i,t[r]);e&&e.length>=3&&u.push(e)}return u.length?u:null}function N(n,t,r,e){const u=[],i=r?e?a:l:e?l:o;for(let r=0;r<t.length;r++){const e=x(n,i,t[r]);e&&e.length>=2&&u.push(e)}return u.length?u:null}function p({scale:n,translate:t},r){return r*n[0]+t[0]}function y({scale:n,translate:t},r){return t[1]-r*n[1]}function z(n,t,r){const e=new Array(r.length);if(!r.length)return e;const[u,i]=n.scale;let o=p(n,r[0][0]),l=y(n,r[0][1]);e[0]=t(r[0],o,l);for(let n=1;n<r.length;n++){const a=r[n];o+=a[0]*u,l-=a[1]*i,e[n]=t(a,o,l)}return e}function T(n,t,r){const e=new Array(r.length);for(let u=0;u<r.length;u++)e[u]=z(n,t,r[u]);return e}function M(n,t,r){return r?(t[0]=p(n,r[0]),t[1]=y(n,r[3]),t[2]=p(n,r[2]),t[3]=y(n,r[1]),t):[p(n,t[0]),y(n,t[3]),p(n,t[2]),y(n,t[1])]}function E(n,t,r,e){return z(n,r?e?a:l:e?l:o,t)}function P(n,t,r,e){return T(n,r?e?a:l:e?l:o,t)}function b(n,t,r,e){return T(n,r?e?a:l:e?l:o,t)}function F(n,t,r){let[e,u]=r[0],i=Math.min(e,t[0]),o=Math.min(u,t[1]),l=Math.max(e,t[2]),a=Math.max(u,t[3]);for(let n=1;n<r.length;n++){const[t,m]=r[n];e+=t,u+=m,t<0&&(i=Math.min(i,e)),t>0&&(l=Math.max(l,e)),m<0?o=Math.min(o,u):m>0&&(a=Math.max(a,u))}return n[0]=i,n[1]=o,n[2]=l,n[3]=a,n}function V(n,t){if(!t.length)return null;n[0]=n[1]=Number.POSITIVE_INFINITY,n[2]=n[3]=Number.NEGATIVE_INFINITY;for(let r=0;r<t.length;r++)F(n,n,t[r]);return n}function Y(n){const t=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return F(t,t,n)}function _(n){return V([0,0,0,0],n)}function A(n){return V([0,0,0,0],n)}function w(n,t,r,e,u){return t.xmin=s(n,r.xmin),t.ymin=f(n,r.ymin),t.xmax=s(n,r.xmax),t.ymax=f(n,r.ymax),t!==r&&(e&&(t.zmin=r.zmin,t.zmax=r.zmax),u&&(t.mmin=r.mmin,t.mmax=r.mmax)),t}function G(n,t,r,e,u){return t.points=I(n,r.points,e,u),t}function L(n,t,r,e,u){return t.x=s(n,r.x),t.y=f(n,r.y),t!==r&&(e&&(t.z=r.z),u&&(t.m=r.m)),t}function O(n,t,r,e,u){const i=g(n,r.rings,e,u);return i?(t.rings=i,t):null}function S(n,t,r,e,u){const i=N(n,r.paths,e,u);return i?(t.paths=i,t):null}function d(i,o){return i&&o?n(o)?L(i,{},o,!1,!1):t(o)?S(i,{},o,!1,!1):r(o)?O(i,{},o,!1,!1):e(o)?G(i,{},o,!1,!1):u(o)?w(i,{},o,!1,!1):null:null}function j(n,t,r,e,u){return t.xmin=p(n,r.xmin),t.ymin=y(n,r.ymin),t.xmax=p(n,r.xmax),t.ymax=y(n,r.ymax),t!==r&&(e&&(t.zmin=r.zmin,t.zmax=r.zmax),u&&(t.mmin=r.mmin,t.mmax=r.mmax)),t}function U(n,t,r,e,u){return t.points=E(n,r.points,e,u),t}function k(n,t,r,e,u){return t.x=p(n,r.x),t.y=y(n,r.y),t!==r&&(e&&(t.z=r.z),u&&(t.m=r.m)),t}function q(n,t,r,e,u){return t.rings=b(n,r.rings,e,u),t}function v(n,t,r,e,u){return t.paths=P(n,r.paths,e,u),t}export{c as equals,F as getQuantizedBoundsCoordsArray,V as getQuantizedBoundsCoordsArrayArray,_ as getQuantizedBoundsPaths,Y as getQuantizedBoundsPoints,A as getQuantizedBoundsRings,h as quantizeBounds,w as quantizeExtent,d as quantizeGeometry,G as quantizeMultipoint,N as quantizePaths,L as quantizePoint,I as quantizePoints,O as quantizePolygon,S as quantizePolyline,g as quantizeRings,s as quantizeX,f as quantizeY,m as toQuantizationTransform,M as unquantizeBounds,z as unquantizeCoordsArray,T as unquantizeCoordsArrayArray,j as unquantizeExtent,U as unquantizeMultipoint,P as unquantizePaths,k as unquantizePoint,E as unquantizePoints,q as unquantizePolygon,v as unquantizePolyline,b as unquantizeRings,p as unquantizeX,y as unquantizeY};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{resampleHermite as e}from\"./utils.js\";import r from\"./Rect.js\";import{SymbolHelper as t,CIMSymbolHelper as a}from\"./CIMSymbolHelper.js\";import{getSDFInfo as n,buildSDF as i}from\"./SDFHelper.js\";export default class{dispose(){this._rasterizationCanvas=null}rasterizeJSONResource(e,s,o){if(this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement(\"canvas\")),\"simple-fill\"===e.type||\"esriSFS\"===e.type){const[r,a,n]=t.rasterizeSimpleFill(this._rasterizationCanvas,e.style,s);return{size:[a,n],image:new Uint32Array(r.buffer),sdf:!1,simplePattern:!0,anchorX:0,anchorY:0}}if(\"simple-line\"===e.type||\"esriSLS\"===e.type){const[r,a,n]=t.rasterizeSimpleLine(e.style,e.cap);return{size:[a,n],image:new Uint32Array(r.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}}let m,l,f;if(\"simple-marker\"===e.type||\"esriSMS\"===e.type||\"line-marker\"===e.type?(m=a.fromSimpleMarker(e),f=n(m)):\"CIMHatchFill\"===e.type?(m=a.fromCIMHatchFill(e),l=new r(m.frame.xmin,-m.frame.ymax,m.frame.xmax-m.frame.xmin,m.frame.ymax-m.frame.ymin)):e.markerPlacement&&\"CIMMarkerPlacementInsidePolygon\"===e.markerPlacement.type?(m=a.fromCIMInsidePolygon(e),l=new r(m.frame.xmin,-m.frame.ymax,m.frame.xmax-m.frame.xmin,m.frame.ymax-m.frame.ymin)):(m=e,f=n(m)),f&&!o){const[e,r,t]=i(f);return e?{size:[r,t],image:new Uint32Array(e.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}:null}const[c,h,p,y,u]=a.rasterize(this._rasterizationCanvas,m,l,!o);return c?{size:[h,p],image:new Uint32Array(c.buffer),sdf:!1,simplePattern:!1,anchorX:y,anchorY:u}:null}rasterizeImageResource(r,t,a,n){this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement(\"canvas\")),this._rasterizationCanvas.width=r,this._rasterizationCanvas.height=t;const i=this._rasterizationCanvas.getContext(\"2d\");a instanceof ImageData?i.putImageData(a,0,0):(a.setAttribute(\"width\",`${r}px`),a.setAttribute(\"height\",`${t}px`),i.drawImage(a,0,0,r,t));const s=i.getImageData(0,0,r,t),o=new Uint8Array(s.data);if(n)for(const e of n)if(e&&e.oldColor&&4===e.oldColor.length&&e.newColor&&4===e.newColor.length){const[r,t,a,n]=e.oldColor,[i,s,m,l]=e.newColor;if(r===i&&t===s&&a===m&&n===l)continue;for(let e=0;e<o.length;e+=4)r===o[e]&&t===o[e+1]&&a===o[e+2]&&n===o[e+3]&&(o[e]=i,o[e+1]=s,o[e+2]=m,o[e+3]=l)}let m;for(let e=0;e<o.length;e+=4)m=o[e+3]/255,o[e]=o[e]*m,o[e+1]=o[e+1]*m,o[e+2]=o[e+2]*m;let l=o,f=r,c=t;const h=512;if(f>=h||c>=h){const a=f/c;a>1?(f=h,c=Math.round(h/a)):(c=h,f=Math.round(h*a)),l=new Uint8Array(4*f*c);const n=new Uint8ClampedArray(l.buffer);e(o,r,t,n,f,c,!1)}return{size:[r,t],image:new Uint32Array(l.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isExtent as t}from\"../../geometry/support/jsonUtils.js\";import n from\"./Rect.js\";import{packFloatRGBA as o}from\"./packingUtils.js\";function r(t){if(!t)return null;switch(t.type){case\"CIMPointSymbol\":{const n=t.symbolLayers;return n&&1===n.length?r(n[0]):null}case\"CIMVectorMarker\":{const n=t.markerGraphics;if(!n||1!==n.length)return null;const o=n[0];if(!o)return null;const r=o.geometry;if(!r)return null;const l=o.symbol;return!l||\"CIMPolygonSymbol\"!==l.type&&\"CIMLineSymbol\"!==l.type?null:{geom:r,asFill:\"CIMPolygonSymbol\"===l.type}}case\"sdf\":return{geom:t.geom,asFill:t.asFill}}return null}function l(t){const n=t.markerGraphics;if(!n||1!==n.length)return null;const o=n[0];if(!o)return null;const r=o.symbol;return!r||\"CIMPolygonSymbol\"!==r.type&&\"CIMLineSymbol\"!==r.type?null:r}function e(t){let n=1/0,o=-1/0,r=1/0,l=-1/0;for(const e of t)for(const t of e)t[0]<n&&(n=t[0]),t[0]>o&&(o=t[0]),t[1]<r&&(r=t[1]),t[1]>l&&(l=t[1]);return[n,r,o,l]}function i(n){return n?n.rings?e(n.rings):n.paths?e(n.paths):t(n)?[n.xmin,n.ymin,n.xmax,n.ymax]:null:null}function s(t,n,o,r,l){const[e,i,s,f]=t;if(s<e||f<i)return[0,0,0];const m=s-e,a=f-i,c=Math.floor(31.5),u=(128-2*(c+1))/Math.max(m,a),y=Math.round(m*u)+2*c,h=Math.round(a*u)+2*c;let x=1;if(n){x=h/u/(n.ymax-n.ymin)}let M=0,g=0;if(r)if(l){if(n&&o&&n.ymax-n.ymin>0){const t=(n.xmax-n.xmin)/(n.ymax-n.ymin);M=r.x/(o*t),g=r.y/o}}else M=r.x,g=r.y;M=.5*(n.xmax+n.xmin)+M*(n.xmax-n.xmin),g=.5*(n.ymax+n.ymin)+g*(n.ymax-n.ymin),M-=e,g-=i,M*=u,g*=u,M+=c,g+=c;return[x,M/y-.5,-(g/h-.5)]}function f(t){const o=(r=t.geom)?r.rings?r.rings:r.paths?r.paths:void 0!==r.xmin&&void 0!==r.ymin&&void 0!==r.xmax&&void 0!==r.ymax?[[[r.xmin,r.ymin],[r.xmin,r.ymax],[r.xmax,r.ymax],[r.xmax,r.ymin],[r.xmin,r.ymin]]]:null:null;var r;const l=function(t){let o=1/0,r=-1/0,l=1/0,e=-1/0;for(const n of t)for(const t of n)t[0]<o&&(o=t[0]),t[0]>r&&(r=t[0]),t[1]<l&&(l=t[1]),t[1]>e&&(e=t[1]);return new n(o,l,r-o,e-l)}(o),e=Math.floor(31.5),i=(128-2*(e+1))/Math.max(l.width,l.height),s=Math.round(l.width*i)+2*e,f=Math.round(l.height*i)+2*e,a=[];for(const n of o)if(n&&n.length>1){const o=[];for(const t of n){let[n,r]=t;n-=l.x,r-=l.y,n*=i,r*=i,n+=e-.5,r+=e-.5,o.push([n,r])}if(t.asFill){const t=o.length-1;o[0][0]===o[t][0]&&o[0][1]===o[t][1]||o.push(o[0])}a.push(o)}const c=function(t,n,o,r){const l=n*o,e=new Array(l),i=r*r+1;for(let t=0;t<l;++t)e[t]=i;for(const l of t){const t=l.length;for(let i=1;i<t;++i){const t=l[i-1],s=l[i];let f,m,a,c;t[0]<s[0]?(f=t[0],m=s[0]):(f=s[0],m=t[0]),t[1]<s[1]?(a=t[1],c=s[1]):(a=s[1],c=t[1]);let u=Math.floor(f)-r,y=Math.floor(m)+r,h=Math.floor(a)-r,x=Math.floor(c)+r;u<0&&(u=0),y>n&&(y=n),h<0&&(h=0),x>o&&(x=o);const M=s[0]-t[0],g=s[1]-t[1],p=M*M+g*g;for(let r=u;r<y;r++)for(let l=h;l<x;l++){let i,f,m=(r-t[0])*M+(l-t[1])*g;m<0?(i=t[0],f=t[1]):m>p?(i=s[0],f=s[1]):(m/=p,i=t[0]+m*M,f=t[1]+m*g);const a=(r-i)*(r-i)+(l-f)*(l-f),c=(o-l-1)*n+r;a<e[c]&&(e[c]=a)}}}for(let t=0;t<l;++t)e[t]=Math.sqrt(e[t]);return e}(a,s,f,e);return t.asFill&&function(t,n,o,r,l){for(const e of t){const t=e.length;for(let i=1;i<t;++i){const t=e[i-1],s=e[i];let f,m,a,c;t[0]<s[0]?(f=t[0],m=s[0]):(f=s[0],m=t[0]),t[1]<s[1]?(a=t[1],c=s[1]):(a=s[1],c=t[1]);let u=Math.floor(f),y=Math.floor(m)+1,h=Math.floor(a),x=Math.floor(c)+1;u<r&&(u=r),y>n-r&&(y=n-r),h<r&&(h=r),x>o-r&&(x=o-r);for(let e=h;e<x;++e){if(t[1]>e==s[1]>e)continue;const i=(o-e-1)*n;for(let n=u;n<y;++n)n<(s[0]-t[0])*(e-t[1])/(s[1]-t[1])+t[0]&&(l[i+n]=-l[i+n]);for(let t=r;t<u;++t)l[i+t]=-l[i+t]}}}}(a,s,f,e,c),[m(c,e),s,f]}function m(t,n){const r=2*n,l=t.length,e=new Uint8Array(4*l);for(let n=0;n<l;++n){const l=.5-t[n]/r;o(l,e,4*n)}return e}export{f as buildSDF,i as getExtent,r as getSDFInfo,s as getSDFMetrics,l as getSDFSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{numericHash as e}from\"../../core/string.js\";import t from\"../../core/Logger.js\";import{all as i}from\"../../core/promiseUtils.js\";import{createRendererExpression as o,ArcadeExpression as r}from\"../../support/arcadeOnDemand.js\";import n from\"../../Color.js\";import{pt2px as a}from\"../../core/screenUtils.js\";import{fromCIMColor as l,_adjustTextCase as s}from\"./utils.js\";import c from\"../../views/2d/arcade/callExpressionWithFeature.js\";import{CIMSymbolHelper as f,OverrideHelper as m}from\"./CIMSymbolHelper.js\";import{getExtent as p,getSDFMetrics as u}from\"./SDFHelper.js\";const y=t.getLogger(\"esri.symbols.cim.cimAnalyzer\");function h(e){switch(e){case\"Butt\":return 0;case\"Square\":return 2;case\"Round\":default:return 1}}function g(e){switch(e){case\"Bevel\":return 0;case\"Miter\":return 2;case\"Round\":default:return 1}}function d(e){switch(e){case\"Left\":default:return\"left\";case\"Right\":return\"right\";case\"Center\":return\"center\";case\"Justify\":return\"justify\"}}function S(e){switch(e){case\"Top\":default:return\"top\";case\"Center\":return\"middle\";case\"Baseline\":return\"baseline\";case\"Bottom\":return\"bottom\"}}function v(e,t,i,o){let r;e[t]?r=e[t]:(r={},e[t]=r),r[i]=o}function b(e){const t=e.markerPlacement;return t&&t.angleToLine?1:0}async function N(e,t,r,n){const a=r||[];if(!e)return a;let l,s;const c={};if(\"CIMSymbolReference\"!==e.type)return y.error(\"Expect cim type to be 'CIMSymbolReference'\"),a;if(l=e.symbol,s=e.primitiveOverrides,s){const e=[];for(const i of s){const r=i.valueExpressionInfo;if(r&&t){const n=r.expression,a=o(n,t.spatialReference,t.fields).then((e=>{e&&v(c,i.primitiveName,i.propertyName,e)}));e.push(a)}else null!=i.value&&v(c,i.primitiveName,i.propertyName,i.value)}await i(e)}switch(l.type){case\"CIMPointSymbol\":case\"CIMLineSymbol\":case\"CIMPolygonSymbol\":!function(e,t,i,o,r,n){if(!e)return;const a=e.symbolLayers;if(!a)return;let l;const s=f.getSize(e);\"CIMPointSymbol\"===e.type&&\"Map\"===e.angleAlignment&&(l=1);let c=a.length;for(;c--;){const f=a[c];if(!f||!1===f.enable)continue;const p=[];switch(m.findApplicableOverrides(f,t,p),f.type){case\"CIMSolidFill\":k(f,i,p,o,r);break;case\"CIMPictureFill\":O(f,i,p,o,r);break;case\"CIMHatchFill\":C(f,i,p,o,r);break;case\"CIMGradientFill\":P(f,i,p,o,r);break;case\"CIMSolidStroke\":L(f,i,p,o,r,\"CIMPolygonSymbol\"===e.type,s);break;case\"CIMPictureStroke\":M(f,i,p,o,r,\"CIMPolygonSymbol\"===e.type,s);break;case\"CIMGradientStroke\":X(f,i,p,o,r,\"CIMPolygonSymbol\"===e.type,s);break;case\"CIMCharacterMarker\":if(I(f,i,p,o,r))break;break;case\"CIMPictureMarker\":if(I(f,i,p,o,r))break;\"CIMLineSymbol\"===e.type&&(l=b(f)),x(f,i,p,o,r,l,s);break;case\"CIMVectorMarker\":if(I(f,i,p,o,r))break;\"CIMLineSymbol\"===e.type&&(l=b(f)),w(f,i,p,o,r,l,s,n);break;default:y.error(\"Cannot analyze CIM layer\",f.type)}}}(l,s,c,t,a,n)}return a}function k(t,i,o,r,n){const a=t.primitiveName,s=l(t.color),c=e(JSON.stringify(t)).toString();n.push({type:\"fill\",templateHash:c,materialHash:0===o.length?c:()=>c,cim:t,materialOverrides:null,colorLocked:t.colorLocked,color:$(a,i,\"Color\",r,s,R),height:0,angle:0,offsetX:0,offsetY:0,scaleX:1,effects:t.effects})}function O(t,i,o,r,n){const a=t.primitiveName,s=t.tintColor?l(t.tintColor):{r:255,g:255,b:255,a:1},c=e(JSON.stringify(t)).toString(),f=e(`${t.url}${JSON.stringify(t.colorSubstitutions)}`).toString();n.push({type:\"fill\",templateHash:c,materialHash:0===o.length?f:()=>f,cim:t,materialOverrides:null,colorLocked:t.colorLocked,effects:t.effects,color:$(a,i,\"TintColor\",r,s,R),height:$(a,i,\"Height\",r,t.height),scaleX:$(a,i,\"ScaleX\",r,t.scaleX),angle:$(a,i,\"Rotation\",r,t.rotation),offsetX:$(a,i,\"OffsetX\",r,t.offsetX),offsetY:$(a,i,\"OffsetY\",r,t.offsetY)})}function C(t,i,o,r,n){const a=[\"Rotation\",\"OffsetX\",\"OffsetY\"],l=o.filter((e=>e.primitiveName!==t.primitiveName&&-1===a.indexOf(e.propertyName))),s=t.primitiveName,c=e(JSON.stringify(t)).toString(),f=e(`${t.separation}${JSON.stringify(t.lineSymbol)}`).toString();n.push({type:\"fill\",templateHash:c,materialHash:0===o.length?f:A(f,i,l,r),cim:t,materialOverrides:l,colorLocked:t.colorLocked,effects:t.effects,color:{r:255,g:255,b:255,a:1},height:$(s,i,\"Separation\",r,t.separation),scaleX:1,angle:$(s,i,\"Rotation\",r,t.rotation),offsetX:$(s,i,\"OffsetX\",r,t.offsetX),offsetY:$(s,i,\"OffsetY\",r,t.offsetY)})}function P(t,i,o,r,n){const a=e(JSON.stringify(t)).toString();n.push({type:\"fill\",templateHash:a,materialHash:0===o.length?a:A(a,i,o,r),cim:t,materialOverrides:null,colorLocked:t.colorLocked,effects:t.effects,color:{r:128,g:128,b:128,a:1},height:0,angle:0,offsetX:0,offsetY:0,scaleX:1})}function L(t,i,o,r,n,a,s){const c=e(JSON.stringify(t)).toString(),f=t.primitiveName,m=l(t.color),p=void 0!==t.width?t.width:4,u=h(t.capStyle),y=g(t.joinStyle),d=t.miterLimit;n.push({type:\"line\",templateHash:c,materialHash:0===o.length?c:()=>c,cim:t,materialOverrides:null,isOutline:a,colorLocked:t.colorLocked,effects:t.effects,color:$(f,i,\"Color\",r,m,R),width:$(f,i,\"Width\",r,p),cap:$(f,i,\"CapStyle\",r,u),join:$(f,i,\"JoinStyle\",r,y),miterLimit:$(f,i,\"MiterLimit\",r,d),referenceWidth:s,zOrder:Y(t.name),isDashed:!1})}function M(t,i,o,r,n,a,s){const c=e(`${t.url}${JSON.stringify(t.colorSubstitutions)}`).toString(),f=t.primitiveName,m=l(t.tintColor),p=void 0!==t.width?t.width:4,u=h(t.capStyle),y=g(t.joinStyle),d=t.miterLimit,S=e(JSON.stringify(t)).toString();n.push({type:\"line\",templateHash:S,materialHash:0===o.length?c:()=>c,cim:t,materialOverrides:null,isOutline:a,colorLocked:t.colorLocked,effects:t.effects,color:$(f,i,\"TintColor\",r,m,R),width:$(f,i,\"Width\",r,p),cap:$(f,i,\"CapStyle\",r,u),join:$(f,i,\"JoinStyle\",r,y),miterLimit:$(f,i,\"MiterLimit\",r,d),referenceWidth:s,zOrder:Y(t.name),isDashed:!1})}function X(t,i,o,r,n,a,l){const s=t.primitiveName,c=void 0!==t.width?t.width:4,f=h(t.capStyle),m=g(t.joinStyle),p=t.miterLimit,u=e(JSON.stringify(t)).toString();n.push({type:\"line\",templateHash:u,materialHash:0===o.length?u:A(u,i,o,r),cim:t,materialOverrides:null,isOutline:a,colorLocked:t.colorLocked,effects:t.effects,color:{r:128,g:128,b:128,a:1},width:$(s,i,\"Width\",r,c),cap:$(s,i,\"CapStyle\",r,f),join:$(s,i,\"JoinStyle\",r,m),miterLimit:$(s,i,\"MiterLimit\",r,p),referenceWidth:l,zOrder:Y(t.name),isDashed:!1})}function I(t,i,o,r,n){const a=t.markerPlacement;if(!a||\"CIMMarkerPlacementInsidePolygon\"!==a.type)return!1;const l=a,s=[\"Rotation\",\"OffsetX\",\"OffsetY\"],c=o.filter((e=>e.primitiveName!==t.primitiveName&&-1===s.indexOf(e.propertyName))),f=e(JSON.stringify(t)).toString();return n.push({type:\"fill\",templateHash:f,materialHash:0===o.length?f:A(f,i,c,r),cim:t,materialOverrides:c,colorLocked:t.colorLocked,effects:t.effects,color:{r:255,g:255,b:255,a:1},height:$(l.primitiveName,i,\"StepY\",r,l.stepY),scaleX:1,angle:$(l.primitiveName,i,\"GridAngle\",r,l.gridAngle),offsetX:$(l.primitiveName,i,\"OffsetX\",r,l.offsetX),offsetY:$(l.primitiveName,i,\"OffsetY\",r,l.offsetY)}),!0}function x(t,i,o,r,n,a,s){const c=t.primitiveName,f=t.size,m=t.scaleX,p=t.rotation,u=t.offsetX,y=t.offsetY,h=l(t.tintColor),g=e(`${t.url}${JSON.stringify(t.colorSubstitutions)}`).toString();let d=!1,S=\"\";for(const e of o)e.primitiveName===c&&(void 0!==e.value?S+=`-${e.primitiveName}-${e.propertyName}-${JSON.stringify(e.value)}`:e.valueExpressionInfo&&(d=!0));n.push({type:\"marker\",templateHash:e(JSON.stringify(t)+S).toString(),materialHash:d?()=>g:g,cim:t,materialOverrides:null,colorLocked:t.colorLocked,effects:t.effects,scaleSymbolsProportionally:!1,alignment:a,size:$(c,i,\"Size\",r,f),scaleX:$(c,i,\"ScaleX\",r,m),rotation:$(c,i,\"Rotation\",r,p),offsetX:$(c,i,\"OffsetX\",r,u),offsetY:$(c,i,\"OffsetY\",r,y),color:$(c,i,\"TintColor\",r,h,R),anchorPoint:t.anchorPoint,isAbsoluteAnchorPoint:\"Relative\"!==t.anchorPointUnits,outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,frameHeight:0,rotateClockwise:t.rotateClockwise,referenceSize:s,sizeRatio:1,markerPlacement:t.markerPlacement})}function w(e,t,i,o,r,n,a,l){const s=e.markerGraphics;if(!s)return;let c=0;if(e.scaleSymbolsProportionally){const t=e.frame;t&&(c=t.ymax-t.ymin)}for(const f of s)if(f){const s=f.symbol;if(!s)continue;switch(s.type){case\"CIMPointSymbol\":case\"CIMLineSymbol\":case\"CIMPolygonSymbol\":J(e,f,i,t,o,r,n,a,c,l);break;case\"CIMTextSymbol\":z(e,f,t,i,o,r,n,a,c)}}}function z(t,i,o,r,n,a,c,p,u){m.findApplicableOverrides(i,r,[]);const y=i.geometry;if(!(\"x\"in y)||!(\"y\"in y))return;const h=i.symbol,g=(v=h).underline?\"underline\":v.strikethrough?\"line-through\":\"none\";var v;const b=function(e){let t=\"normal\",i=\"normal\";if(e){const o=e.toLowerCase();-1!==o.indexOf(\"italic\")?t=\"italic\":-1!==o.indexOf(\"oblique\")&&(t=\"oblique\"),-1!==o.indexOf(\"bold\")?i=\"bold\":-1!==o.indexOf(\"light\")&&(i=\"lighter\")}return{style:t,weight:i}}(h.fontStyleName);h.font={family:h.fontFamilyName,decoration:g,...b};const N=t.frame,k=y.x-.5*(N.xmin+N.xmax),O=y.y-.5*(N.ymin+N.ymax),C=t.size/u,P=t.primitiveName,L=(h.height||0)*C,M=h.angle||0,X=((h.offsetX||0)+k)*C,I=((h.offsetY||0)+O)*C,x=l(f.getFillColor(h));let w=l(f.getStrokeColor(h)),z=f.getStrokeWidth(h);z||(w=l(f.getFillColor(h.haloSymbol)),z=h.haloSize*C);let J=\"\";for(const e of r)e.primitiveName===P&&void 0!==e.value&&(J+=`-${e.primitiveName}-${e.propertyName}-${JSON.stringify(e.value)}`);const H=JSON.stringify(t.effects)+Number(t.colorLocked)+JSON.stringify(t.anchorPoint)+t.anchorPointUnits+JSON.stringify(t.markerPlacement),Y=e(JSON.stringify(i)+H+J).toString();a.push({type:\"text\",templateHash:Y,materialHash:()=>e(JSON.stringify(h.font)).toString(),cim:h,materialOverrides:null,colorLocked:t.colorLocked,effects:t.effects,alignment:c,anchorPoint:{x:t.anchorPoint?t.anchorPoint.x:0,y:t.anchorPoint?t.anchorPoint.y:0},isAbsoluteAnchorPoint:\"Relative\"!==t.anchorPointUnits,fontName:h.fontFamilyName,decoration:\"none\",weight:\"normal\",style:\"normal\",size:$(P,o,\"Size\",n,L),angle:$(P,o,\"Rotation\",n,M),offsetX:$(P,o,\"OffsetX\",n,X),offsetY:$(P,o,\"OffsetY\",n,I),horizontalAlignment:d(h.horizontalAlignment),verticalAlignment:S(h.verticalAlignment),text:$(i.primitiveName,o,\"TextString\",n,i.textString,s,h.textCase),color:x,outlineColor:w,outlineSize:z,referenceSize:p,sizeRatio:1,markerPlacement:t.markerPlacement})}function J(t,i,o,r,n,a,s,c,m,y){const h=i.symbol,g=i.geometry;if(!g)return;const d=h.symbolLayers;if(!d)return;if(y)return void H(t,i,r,o,n,a,s,c,m);let S=d.length;for(;S--;){const y=d[S];if(y&&!1!==y.enable)switch(y.type){case\"CIMSolidFill\":case\"CIMSolidStroke\":{const h=p(g);if(!h)continue;const[d,S,v]=u(h,t.frame,t.size,t.anchorPoint,\"Relative\"!==t.anchorPointUnits),b=\"CIMSolidFill\"===y.type,N={type:\"sdf\",geom:g,asFill:b},k=t.primitiveName,O=t.size,C=t.rotation||0,P=t.offsetX,L=t.offsetY,M=y.primitiveName,X=l(b?f.getFillColor(y):f.getStrokeColor(y)),I=b?{r:0,g:0,b:0,a:0}:l(f.getStrokeColor(y)),x=f.getStrokeWidth(y);if(!b&&!x)break;let w=!1,z=\"\";for(const e of o)e.primitiveName!==M&&e.primitiveName!==k||(void 0!==e.value?z+=`-${e.primitiveName}-${e.propertyName}-${JSON.stringify(e.value)}`:e.valueExpressionInfo&&(w=!0));const J=JSON.stringify({...t,markerGraphics:null}),H=e(JSON.stringify(N)).toString(),Y={type:\"marker\",templateHash:e(JSON.stringify(i)+JSON.stringify(y)+J+z).toString(),materialHash:w?()=>H:H,cim:N,materialOverrides:null,colorLocked:t.colorLocked,effects:t.effects,scaleSymbolsProportionally:t.scaleSymbolsProportionally,alignment:s,anchorPoint:{x:S,y:v},isAbsoluteAnchorPoint:!1,size:$(t.primitiveName,r,\"Size\",n,O),rotation:$(t.primitiveName,r,\"Rotation\",n,C),offsetX:$(t.primitiveName,r,\"OffsetX\",n,P),offsetY:$(t.primitiveName,r,\"OffsetY\",n,L),scaleX:1,frameHeight:m,rotateClockwise:t.rotateClockwise,referenceSize:c,sizeRatio:d,color:$(M,r,\"Color\",n,X,R),outlineColor:$(M,r,\"Color\",n,I,R),outlineWidth:$(M,r,\"Width\",n,x),markerPlacement:t.markerPlacement};a.push(Y);break}default:H(t,i,r,o,n,a,s,c,m)}}}function H(t,i,o,r,n,l,s,c,m){const p=function(e,t){return{type:e.type,enable:!0,name:e.name,colorLocked:e.colorLocked,primitiveName:e.primitiveName,anchorPoint:e.anchorPoint,anchorPointUnits:e.anchorPointUnits,offsetX:0,offsetY:0,rotateClockwise:e.rotateClockwise,rotation:0,size:e.size,billboardMode3D:e.billboardMode3D,depth3D:e.depth3D,frame:e.frame,markerGraphics:[t],scaleSymbolsProportionally:e.scaleSymbolsProportionally,respectFrame:e.respectFrame,clippingPath:e.clippingPath,effects:e.effects}}(t,i);let u=[];const y=[\"Rotation\",\"OffsetX\",\"OffsetY\"];u=r.filter((e=>e.primitiveName!==t.primitiveName||-1===y.indexOf(e.propertyName)));let h=\"\";for(const e of r)void 0!==e.value&&(h+=`-${e.primitiveName}-${e.propertyName}-${JSON.stringify(e.value)}`);const[g,d,S]=f.getTextureAnchor(p),v=t.primitiveName,b=t.rotation||0,N=t.offsetX||0,k=t.offsetY||0,O=e(JSON.stringify(p)+h).toString(),C={type:\"marker\",templateHash:O,materialHash:0===u.length?O:A(O,o,u,n),cim:p,materialOverrides:u,colorLocked:t.colorLocked,effects:t.effects,scaleSymbolsProportionally:t.scaleSymbolsProportionally,alignment:s,anchorPoint:{x:g,y:d},isAbsoluteAnchorPoint:!1,size:t.size,rotation:$(v,o,\"Rotation\",n,b),offsetX:$(v,o,\"OffsetX\",n,N),offsetY:$(v,o,\"OffsetY\",n,k),color:{r:0,g:0,b:0,a:0},outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,scaleX:1,frameHeight:m,rotateClockwise:t.rotateClockwise,referenceSize:c,sizeRatio:S/a(t.size),markerPlacement:t.markerPlacement};l.push(C)}function Y(e){if(e&&0===e.indexOf(\"Level_\")){const t=parseInt(e.substr(6),10);if(NaN!==t)return t}return 0}function R(e){if(!e||0===e.length)return null;const t=new n(e).toRgba();return{r:t[0],g:t[1],b:t[2],a:t[3]}}function $(e,t,i,o,n,a,l){const s=t[e];if(s){const e=s[i];if(\"string\"==typeof e||\"number\"==typeof e||e instanceof Array)return a?a.call(null,e,l):e;if(null!=e&&e instanceof r)return(t,i,r)=>{let s=c(e,t,{$view:r},o.geometryType,i);return null!==s&&a&&(s=a.call(null,s,l)),null!==s?s:n}}return n}function A(t,i,o,n){for(const e of o){if(e.valueExpressionInfo){const t=i[e.primitiveName]&&i[e.primitiveName][e.propertyName];t instanceof r&&(e.fn=(e,i,o)=>c(t,e,{$view:o},n.geometryType,i))}}return(i,r,n)=>{for(const e of o)e.fn&&(e.value=e.fn(i,r,n));return e(t+m.buildOverrideKey(o)).toString()}}function j(e,t){if(!t||0===t.length)return e;const i=JSON.parse(JSON.stringify(e));return m.applyOverrides(i,t),i}export{j as analyzeCIMResource,N as analyzeCIMSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{pt2px as t}from\"../../core/screenUtils.js\";class e{constructor(){}rasterizeText(t,e){this._textRasterizationCanvas||(this._textRasterizationCanvas=document.createElement(\"canvas\"));const i=this._textRasterizationCanvas,s=i.getContext(\"2d\");this.setFontProperties(s,e),this.parameters=e,this.textLines=t.split(/\\r?\\n/),this.lineHeight=this.computeLineHeight();const r=this.computeTextWidth(s,e),o=this.lineHeight*this.textLines.length;var n;i.width=r,i.height=o,this.renderedLineHeight=Math.round(this.lineHeight*e.pixelRatio),this.renderedHaloSize=e.halo.size*e.pixelRatio,this.renderedWidth=r*e.pixelRatio,this.renderedHeight=o*e.pixelRatio,this.fillStyle=`rgba(${(n=e.color).slice(0,3).toString()},${n[3]})`,this.haloStyle=function(t){return`rgb(${t.slice(0,3).toString()})`}(e.halo.color);const a=this.renderedLineHeight,h=this.renderedHaloSize;this.setFontProperties(s,e);const l=function(t,e){return\"center\"===t?.5*e:\"right\"===t?e:0}(s.textAlign,this.renderedWidth)+h,d=h;let c=0,g=0;h>0&&this.renderHalo(s,l,d,c,g,e),g+=d,c+=l;for(const t of this.textLines)s.globalCompositeOperation=\"destination-out\",s.fillStyle=\"rgb(0, 0, 0)\",s.fillText(t,c,g),s.globalCompositeOperation=\"source-over\",s.fillStyle=this.fillStyle,s.fillText(t,c,g),g+=a;const f=s.getImageData(0,0,this.renderedWidth,this.renderedHeight),p=new Uint8Array(f.data);if(e.premultiplyColors){let t;for(let e=0;e<p.length;e+=4)t=p[e+3]/255,p[e]=p[e]*t,p[e+1]=p[e+1]*t,p[e+2]=p[e+2]*t}return{size:[this.renderedWidth,this.renderedHeight],image:new Uint32Array(p.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}renderHalo(t,e,i,s,r,o){const n=this.renderedWidth,a=this.renderedHeight;this._haloRasterizationCanvas||(this._haloRasterizationCanvas=document.createElement(\"canvas\")),this._haloRasterizationCanvas.width=n,this._haloRasterizationCanvas.height=a;const h=this._haloRasterizationCanvas,l=h.getContext(\"2d\");l.clearRect(0,0,n,a),this.setFontProperties(l,o),l.fillStyle=this.haloStyle,l.strokeStyle=this.haloStyle;const d=this.renderedHaloSize<3;l.lineJoin=d?\"miter\":\"round\",d?this.renderHaloEmulated(l,e,i):this.renderHaloNative(l,e,i),t.globalAlpha=this.parameters.halo.color[3],t.drawImage(h,0,0,n,a,s,r,n,a),t.globalAlpha=1}renderHaloEmulated(t,e,s){const r=this.renderedLineHeight,o=this.renderedHaloSize;for(const n of this.textLines){for(const[r,a]of i)t.fillText(n,e+o*r,s+o*a);s+=r}}renderHaloNative(t,e,i){const s=this.renderedLineHeight,r=this.renderedHaloSize;for(const o of this.textLines){const n=2*r,a=5,h=.1;for(let s=0;s<a;s++){const r=1-(a-1)*h+s*h;t.lineWidth=r*n,t.strokeText(o,e,i)}i+=s}}setFontProperties(e,i){const s=i.font,r=`${s.style} ${s.weight} ${t(i.size*i.pixelRatio)}px ${s.family}, sans-serif`;let o;switch(e.font=r,e.textBaseline=\"top\",i.horizontalAlignment){case\"left\":o=\"left\";break;case\"right\":o=\"right\";break;case\"center\":o=\"center\";break;default:o=\"left\"}e.textAlign=o}computeTextWidth(t,e){let i=0;for(const e of this.textLines)i=Math.max(i,t.measureText(e).width);const s=e.font;return(\"italic\"===s.style||\"oblique\"===s.style||\"string\"==typeof s.weight&&(\"bold\"===s.weight||\"bolder\"===s.weight)||\"number\"==typeof s.weight&&s.weight>600)&&(i+=.3*t.measureText(\"A\").width),i+=2*this.parameters.halo.size,Math.round(i)}computeLineHeight(){const t=1.275*this.parameters.size;return Math.round(t+2*this.parameters.halo.size)}}const i=[];{const t=16;for(let e=0;e<360;e+=360/t)i.push([Math.cos(Math.PI*e/180),Math.sin(Math.PI*e/180)])}export default e;export{e as TextRasterizer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{numericHash as e}from\"../../core/string.js\";import{throwIfAborted as t,all as r}from\"../../core/promiseUtils.js\";import{getJsonType as a,isPolygon as i,isPolyline as s}from\"../../geometry/support/jsonUtils.js\";import{pt2px as o}from\"../../core/screenUtils.js\";import n from\"../support/Symbol3DAnchorPosition2D.js\";import c from\"../../request.js\";import{createLabelOverrideFunction as l,evaluateValueOrFunction as m,colorToArray as h}from\"./utils.js\";import{scaleCIMMarker as f}from\"../support/cimSymbolUtils.js\";import{analyzeCIMSymbol as g,analyzeCIMResource as y}from\"./cimAnalyzer.js\";import u from\"./Rasterizer.js\";import{TextRasterizer as p}from\"./TextRasterizer.js\";var d;!function(e){e.Legend=\"legend\",e.Preview=\"preview\"}(d||(d={}));const M=(e,t,r)=>{if(e&&e.targetSize){let a;if(r){const t=Math.max(r.frame.xmax-r.frame.xmin,r.frame.ymax-r.frame.ymin);a=e.targetSize/o(t)}else a=e.targetSize/t.referenceSize;return a}return e&&e.scaleFactor?e.scaleFactor:1},C={fill:{legend:{frame:{xmax:15,xmin:0,ymax:15,ymin:0},geometry:{rings:[[[0,15],[15,7.5],[15,0],[0,0],[0,15]]]},canvasPaths:{rings:[[[0,15],[0,0],[15,7.5],[15,15],[0,15]]]}},preview:{frame:{xmax:100,xmin:0,ymax:100,ymin:0},geometry:{rings:[[[0,100],[100,100],[100,0],[0,0],[0,100]]]},canvasPaths:{rings:[[[0,100],[0,0],[100,0],[100,100],[0,100]]]}}},stroke:{legend:{frame:{xmax:24,xmin:0,ymax:-2,ymin:2},geometry:{paths:[[[0,0],[12,0],[24,0]]]},canvasPaths:{paths:[[[0,2],[12,2],[24,2]]]}},preview:{frame:{xmax:100,xmin:0,ymax:-2,ymin:2},geometry:{paths:[[[0,0],[50,0],[100,0]]]},canvasPaths:{paths:[[[0,2],[50,2],[100,2]]]}}}};class I{constructor(e,t){this._spatialReference=e,this._avoidSDF=t,this._resourceCache=new Map,this._rasterizer=new u,this._textRasterizer=new p,this._pictureMarkerCache=new Map}async rasterizeCIMSymbolAsync(e,t,r,i,s,o,n,c){i=i||(t?null!=t.centroid?\"esriGeometryPolygon\":a(t.geometry):null)||function(e){if(!(e&&e.data&&e.data.symbol))return null;switch(e.data.symbol.type){case\"CIMPointSymbol\":case\"CIMTextSymbol\":return\"esriGeometryPoint\";case\"CIMLineSymbol\":return\"esriGeometryPolyline\";case\"CIMPolygonSymbol\":return\"esriGeometryPolygon\";default:return null}}(e);const l=await this.analyzeCIMSymbol(e,t?function(e){const t=e?Object.keys(e):[];return t.map((t=>({name:t,alias:t,type:\"string\"==typeof e[t]?\"esriFieldTypeString\":\"esriFieldTypeDouble\"})))}(t.attributes):null,r,i,c);return this.rasterizeCIMSymbol(l,t,i,s,o,n)}async analyzeCIMSymbol(e,a,i,s,o){const n=[],c=a?{geometryType:s,spatialReference:this._spatialReference,fields:a}:null;let m;await g(e.data,c,n,this._avoidSDF),t(o);for(const e of n)\"CIMPictureMarker\"!==e.cim.type&&\"CIMPictureFill\"!==e.cim.type&&\"CIMPictureStroke\"!==e.cim.type||(m||(m=[]),m.push(this.fetchPictureMarkerResource(e,o))),i&&\"text\"===e.type&&\"string\"==typeof e.text&&e.text.indexOf(\"[\")>-1&&(e.text=l(i,e.text,e.cim.textCase));return m&&await r(m),n}async fetchPictureMarkerResource(e,t){const r=e.materialHash;if(!this._pictureMarkerCache.get(r)){const a=(await c(e.cim.url,{responseType:\"image\",signal:t&&t.signal})).data;this._pictureMarkerCache.set(r,a)}}rasterizeCIMSymbol(e,t,r,a,i,s){const o=[];for(const n of e){a&&\"function\"==typeof a.scaleFactor&&(a.scaleFactor=a.scaleFactor(t,i,s));const e=this._getRasterizedResource(n,t,r,a,i,s);if(!e)continue;let c=0,l=e.anchorX||0,h=e.anchorY||0,f=!1,g=0,y=0;if(\"esriGeometryPoint\"===r){const e=M(a,n,null);if(g=m(n.offsetX,t,i,s)*e||0,y=m(n.offsetY,t,i,s)*e||0,\"marker\"===n.type)c=m(n.rotation,t,i,s)||0,f=!!n.rotateClockwise&&n.rotateClockwise;else if(\"text\"===n.type){if(c=m(n.angle,t,i,s)||0,void 0!==n.horizontalAlignment)switch(n.horizontalAlignment){case\"left\":l=-.5;break;case\"right\":l=.5;break;default:l=0}if(void 0!==n.verticalAlignment)switch(n.verticalAlignment){case\"top\":h=.5;break;case\"bottom\":h=-.5;break;case\"baseline\":h=-.25;break;default:h=0}}}null!=e&&o.push({angle:c,rotateClockWise:f,anchorX:l,anchorY:h,offsetX:g,offsetY:y,rasterizedResource:e})}return this.getSymbolImage(o)}getSymbolImage(e){const t=document.createElement(\"canvas\"),r=t.getContext(\"2d\");let a=0,i=0,s=0,c=0;const l=[];for(let t=0;t<e.length;t++){const n=e[t],m=n.rasterizedResource;if(!m)continue;const h=m.size,f=n.offsetX,g=n.offsetY,y=n.anchorX,u=n.anchorY,p=n.rotateClockWise||!1;let d=n.angle,M=o(f)-h[0]*(.5+y),C=o(g)-h[1]*(.5+u),I=M+h[0],z=C+h[1];if(d){p&&(d=-d);const e=Math.sin(d*Math.PI/180),t=Math.cos(d*Math.PI/180),r=M*t-C*e,a=M*e+C*t,i=M*t-z*e,s=M*e+z*t,o=I*t-z*e,n=I*e+z*t,c=I*t-C*e,l=I*e+C*t;M=Math.min(r,i,o,c),C=Math.min(a,s,n,l),I=Math.max(r,i,o,c),z=Math.max(a,s,n,l)}a=M<a?M:a,i=C<i?C:i,s=I>s?I:s,c=z>c?z:c;const x=r.createImageData(m.size[0],m.size[1]);x.data.set(new Uint8ClampedArray(m.image.buffer));const P={offsetX:f,offsetY:g,rotateClockwise:p,angle:d,rasterizedImage:x,anchorX:y,anchorY:u};l.push(P)}t.width=s-a,t.height=c-i;const m=-a,h=c;for(let e=0;e<l.length;e++){const t=l[e],a=this._imageDataToCanvas(t.rasterizedImage),i=t.rasterizedImage.width,s=t.rasterizedImage.height,n=m-i*(.5+t.anchorX),c=h-s*(.5-t.anchorY);if(t.angle){const e=(360-t.angle)*Math.PI/180;r.save(),r.translate(o(t.offsetX),-o(t.offsetY)),r.translate(m,h),r.rotate(e),r.translate(-m,-h),r.drawImage(a,n,c),r.restore()}else r.drawImage(a,n+o(t.offsetX),c-o(t.offsetY))}const f=new n({x:m/t.width-.5,y:h/t.height-.5});return{imageData:0!==t.width&&0!==t.height?r.getImageData(0,0,t.width,t.height):r.createImageData(1,1),anchorPosition:f}}_imageDataToCanvas(e){this._imageDataCanvas||(this._imageDataCanvas=document.createElement(\"canvas\"));const t=this._imageDataCanvas,r=t.getContext(\"2d\");return t.width=e.width,t.height=e.height,r.putImageData(e,0,0),t}_imageTo32Array(e,t,r){this._imageDataCanvas||(this._imageDataCanvas=document.createElement(\"canvas\"));const a=this._imageDataCanvas,i=a.getContext(\"2d\");return a.width=t,a.height=r,i.drawImage(e,0,0,t,r),new Uint32Array(i.getImageData(0,0,t,r).data.buffer)}_getRasterizedResource(t,r,a,i,s,o){let n,c,l,h;if(\"esriGeometryPolyline\"===a||\"esriGeometryPolygon\"===a){const h=i&&i.style?i.style:d.Legend,f=\"esriGeometryPolyline\"===a?C.stroke[h]:C.fill[h];if(\"line\"===t.type){if(\"CIMSolidStroke\"!==t.cim.type){if(\"CIMPictureStroke\"===t.cim.type){const e=m(t.width,r,s,o);let a,i,n;return({image:a,width:i,height:n}=this._getPictureResource(t,e)),this._rasterizePictureResource(t,a,i,n,f,e)}return null}({analyzedCIM:n,hash:l}=z(t,r,s,o)),c=this._embedCIMLayerInVectorMarker(n,f)}else if(\"marker\"===t.type){if(\"CIMPictureMarker\"===t.cim.type)return null;if(\"CIMVectorMarker\"!==t.cim.type)return null;t.cim.offsetX=m(t.offsetX,r,s,o),t.cim.offsetY=m(t.offsetY,r,s,o),t.cim.rotation=m(t.rotation,r,s,o),t.cim.markerPlacement=t.markerPlacement,({analyzedCIM:n}=z(t,r,s,o)),l=e(JSON.stringify(n)).toString(),c=this._embedCIMLayerInVectorMarker(n,f)}else{if(\"text\"===t.type)return null;if(\"fill\"===t.type){if(\"CIMHatchFill\"===t.cim.type||\"CIMVectorMarker\"===t.cim.type||\"CIMPictureMarker\"===t.cim.type||\"CIMPictureFill\"===t.cim.type){const e=t.cim.size||t.cim.height;let a,i,c;if(\"CIMPictureMarker\"===t.cim.type||\"CIMPictureFill\"===t.cim.type)({image:a,width:i,height:c}=this._getPictureResource(t,e));else{({analyzedCIM:n,hash:l}=z(t,r,s,o));const e=this._rasterizer.rasterizeJSONResource(n,1,this._avoidSDF);a=e.image,i=e.size[0],c=e.size[1]}return this._rasterizePictureResource(t,a,i,c,f,null)}if(\"CIMSolidFill\"!==t.cim.type)return null;({analyzedCIM:n,hash:l}=z(t,r,s,o)),c=this._embedCIMLayerInVectorMarker(n,f)}}}else{if(\"text\"===t.type)return h=this._rasterizeTextResource(t,r,i,s,o),h;({analyzedCIM:n,hash:l}=z(t,r,s,o));const e=M(i,t,null);if(\"CIMPictureMarker\"===t.cim.type){const a=m(t.size,r,s,o)*e,{image:i,width:n,height:c}=this._getPictureResource(t,a);return h={image:i,size:[n,c],sdf:!1,simplePattern:!1,anchorX:t.anchorPoint?t.anchorPoint.x:0,anchorY:t.anchorPoint?t.anchorPoint.y:0},h}f(n,e,{preserveOutlineWidth:!1}),c=n}l+=a,i&&(l+=JSON.stringify(i));const g=this._resourceCache;return g.has(l)?g.get(l):(h=this._rasterizer.rasterizeJSONResource(c,window.devicePixelRatio||1,this._avoidSDF),g.set(l,h),h)}_rasterizeTextResource(e,t,r,a,i){const s=M(r,e,null),o=m(e.text,t,a,i);if(!o||0===o.length)return null;const n=m(e.fontName,t,a,i),c=m(e.style,t,a,i),l=m(e.weight,t,a,i),f=m(e.decoration,t,a,i),g=m(e.size,t,a,i)*s,y=m(e.horizontalAlignment,t,a,i),u=m(e.verticalAlignment,t,a,i),p=h(m(e.color,t,a,i)),d=h(m(e.outlineColor,t,a,i)),C={color:p,size:g,horizontalAlignment:y,verticalAlignment:u,font:{family:n,style:c,weight:l,decoration:f},halo:{size:m(e.outlineSize,t,a,i)||0,color:d,style:c},pixelRatio:1,premultiplyColors:!this._avoidSDF};return this._textRasterizer.rasterizeText(o,C)}_rasterizePictureResource(e,t,r,a,n,c){const l=document.createElement(\"canvas\"),m=l.getContext(\"2d\");l.height=o(Math.max(Math.abs(n.frame.ymax-n.frame.ymin),c)),l.width=o(Math.abs(n.frame.xmax-n.frame.xmin));const h=m.createImageData(r,a);h.data.set(new Uint8ClampedArray(t.buffer));const f=this._imageDataToCanvas(h),g=m.createPattern(f,\"repeat\"),y=Math.cos((-e.cim.rotation||0)*Math.PI/180),u=Math.sin((-e.cim.rotation||0)*Math.PI/180);g.setTransform({m11:y,m12:u,m21:-u,m22:y,m41:o(e.cim.offsetX)||0,m42:o(e.cim.offsetY)||0});const p=n.canvasPaths;let d,M,C;i(p)?(d=p.rings,m.fillStyle=g,M=m.fill,C=[\"evenodd\"]):s(p)&&(d=p.paths,m.strokeStyle=g,m.lineWidth=c,M=m.stroke,d[0][0][1]=l.height/2,d[0][1][1]=l.height/2),m.beginPath();for(const e of d){const t=e?e.length:0;if(t>1){let r=e[0];m.moveTo(o(r[0]),o(r[1]));for(let a=1;a<t;++a)r=e[a],m.lineTo(o(r[0]),o(r[1]));m.closePath()}}M.apply(m,C);const I=m.getImageData(0,0,l.width,l.height),z=new Uint8Array(I.data);return{size:[l.width,l.height],image:new Uint32Array(z.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}_getPictureResource(e,t){const r=this._pictureMarkerCache.get(e.materialHash);if(!r)return null;const a=r.height/r.width,i=t?a>1?o(t):o(t)/a:r.width,s=t?a>1?o(t)*a:o(t):r.height;return{image:this._imageTo32Array(r,i,s),width:i,height:s}}_embedCIMLayerInVectorMarker(e,t){const r=i(t.geometry)?\"CIMPolygonSymbol\":\"CIMLineSymbol\";return{type:\"CIMVectorMarker\",frame:t.frame,markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:t.geometry,symbol:{type:r,symbolLayers:[e]}}]}}}function z(e,t,r,a){let i,s;if(\"function\"==typeof e.materialHash){i=(0,e.materialHash)(t,r,a),s=y(e.cim,e.materialOverrides)}else i=e.materialHash,s=e.cim;return{analyzedCIM:s,hash:i}}export{I as CIMSymbolRasterizer,d as GeometryStyle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{px2pt as t}from\"../../core/screenUtils.js\";import{getCIMSymbolSize as e,scaleCIMSymbolTo as a}from\"./cimSymbolUtils.js\";import{CIMSymbolRasterizer as l}from\"../cim/CIMSymbolRasterizer.js\";const i=new l(null,!0);async function o(l,o={}){const{size:n,maxSize:s,feature:c,fieldMap:m,geometryType:r,style:y,node:d,opacity:h}=o,u=e(l),p=Math.min(null!=n?n:u,null!=s?s:t(120));p!==u&&(l=l.clone(),a(l,p,{preserveOutlineWidth:!0}));let g=3;l&&l.data&&l.data.symbol&&\"CIMPointSymbol\"!==l.data.symbol.type&&(g=1);const f=await i.rasterizeCIMSymbolAsync(l,c,m,r,{scaleFactor:g,style:y}),M=document.createElement(\"canvas\");M.width=f.imageData.width,M.height=f.imageData.height;M.getContext(\"2d\").putImageData(f.imageData,0,0);let b=M.width/g,w=M.height/g;if(null!=n&&(null==(null==o?void 0:o.scale)||(null==o?void 0:o.scale))){const t=b/w;b=t<=1?Math.ceil(p*t):p,w=t<=1?p:Math.ceil(p/t)}const C=new Image(b,w);return C.src=M.toDataURL(),null!=h&&(C.style.opacity=`${h}`),d&&d.appendChild(C),C}export{o as previewCIMSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";import r from\"../../../core/Error.js\";import{unquantizeMultipoint as t,unquantizePolyline as o,unquantizePolygon as n,unquantizePoint as a}from\"../../../geometry/support/quantizationUtils.js\";function s(s,u,c,m,p){const g=s.referencesGeometry()&&p?function(s,u,c){const{transform:m,hasZ:p,hasM:g}=c;i.has(u)||i.set(u,function(s){const i={};switch(s){case\"esriGeometryPoint\":return(e,r,t,o)=>a(r,i,e,t,o);case\"esriGeometryPolygon\":return(e,r,t,o)=>n(r,i,e,t,o);case\"esriGeometryPolyline\":return(e,r,t,n)=>o(r,i,e,t,n);case\"esriGeometryMultipoint\":return(e,r,o,n)=>t(r,i,e,o,n);default:return e.getLogger(\"esri.views.2d.support.arcadeOnDemand\").error(new r(\"mapview-arcade\",`Unable to handle geometryType: ${s}`)),e=>e}}(u));const l=i.get(u)(s.geometry,m,p,g);return{...s,geometry:l}}(u,m,p):u,l=s.repurposeFeature(g);try{return s.evaluate({...c,$feature:l})}catch(r){return e.getLogger(\"esri.views.2d.support.arcadeOnDemand\").warn(\"Feature arcade evaluation failed:\",r),null}}const i=new Map;export default s;\n"],"sourceRoot":""}