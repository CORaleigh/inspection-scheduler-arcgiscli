{"version":3,"sources":["webpack://inspection-scheduler/./node_modules/@arcgis/core/layers/support/lazyLayerLoader.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/portal/support/layersLoader.js"],"names":["a","BingMapsLayer","async","default","BuildingSceneLayer","CSVLayer","ElevationLayer","FeatureLayer","GroupLayer","GeoRSSLayer","ImageryLayer","ImageryTileLayer","IntegratedMeshLayer","KMLLayer","MapImageLayer","MapNotesLayer","OpenStreetMapLayer","PointCloudLayer","RouteLayer","SceneLayer","StreamLayer","TileLayer","UnknownLayer","UnsupportedLayer","VectorTileLayer","WebTileLayer","WMSLayer","WMTSLayer","s","n","u","instance","portalItem","id","load","t","r","supportedTypes","indexOf","type","expectedType","join","d","url","y","title","f","m","read","l","then","e","p","c","i","responseType","query","data","o","name","layers","map","tables","h","resourceReferences","paths","readResourcePaths","forEach","layerDefinition","push","filter","reverse","add","clone","layerId","sublayerTitleMode","origin","portal","showLegend","supportsData","fetchData","catch","length"],"mappings":"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","file":"chunks/6382.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst a={BingMapsLayer:async()=>(await import(\"../BingMapsLayer.js\")).default,BuildingSceneLayer:async()=>(await import(\"../BuildingSceneLayer.js\")).default,CSVLayer:async()=>(await import(\"../CSVLayer.js\")).default,ElevationLayer:async()=>(await import(\"../ElevationLayer.js\")).default,FeatureLayer:async()=>(await import(\"../FeatureLayer.js\")).default,GroupLayer:async()=>(await import(\"../GroupLayer.js\")).default,GeoRSSLayer:async()=>(await import(\"../GeoRSSLayer.js\")).default,ImageryLayer:async()=>(await import(\"../ImageryLayer.js\")).default,ImageryTileLayer:async()=>(await import(\"../ImageryTileLayer.js\")).default,IntegratedMeshLayer:async()=>(await import(\"../IntegratedMeshLayer.js\")).default,KMLLayer:async()=>(await import(\"../KMLLayer.js\")).default,MapImageLayer:async()=>(await import(\"../MapImageLayer.js\")).default,MapNotesLayer:async()=>(await import(\"../MapNotesLayer.js\")).default,OpenStreetMapLayer:async()=>(await import(\"../OpenStreetMapLayer.js\")).default,PointCloudLayer:async()=>(await import(\"../PointCloudLayer.js\")).default,RouteLayer:async()=>(await import(\"../RouteLayer.js\")).default,SceneLayer:async()=>(await import(\"../SceneLayer.js\")).default,StreamLayer:async()=>(await import(\"../StreamLayer.js\")).default,TileLayer:async()=>(await import(\"../TileLayer.js\")).default,UnknownLayer:async()=>(await import(\"../UnknownLayer.js\")).default,UnsupportedLayer:async()=>(await import(\"../UnsupportedLayer.js\")).default,VectorTileLayer:async()=>(await import(\"../VectorTileLayer.js\")).default,WebTileLayer:async()=>(await import(\"../WebTileLayer.js\")).default,WMSLayer:async()=>(await import(\"../WMSLayer.js\")).default,WMTSLayer:async()=>(await import(\"../WMTSLayer.js\")).default};export{a as layerLookupMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{resolve as t}from\"../../core/promiseUtils.js\";import r from\"../../request.js\";import n from\"../Portal.js\";import{loadStyleRenderer as l}from\"../../renderers/support/styleUtils.js\";import{createForItem as a}from\"./jsonContext.js\";import{layerLookupMap as o}from\"../../layers/support/lazyLayerLoader.js\";async function s(n,s){const u=n.instance.portalItem;return u&&u.id?(await u.load(s),function(t){const r=t.instance.portalItem;if(-1===t.supportedTypes.indexOf(r.type))throw new e(\"portal:invalid-layer-item-type\",\"Invalid layer item type '${type}', expected '${expectedType}'\",{type:r.type,expectedType:t.supportedTypes.join(\", \")})}(n),async function(n,s){const u=n.instance,d=u.portalItem,{url:y,title:f}=d,m=a(d);if(\"group\"===u.type)return u.read({title:f},m),function(n,l){let a;const s=n.portalItem.type;switch(s){case\"Feature Service\":a=o.FeatureLayer;break;case\"Stream Service\":a=o.StreamLayer;break;case\"Scene Service\":a=o.SceneLayer;break;case\"Feature Collection\":a=o.FeatureLayer;break;default:throw new e(\"portal:unsupported-item-type-as-group\",`The item type '${s}' is not supported as a 'GroupLayer'`)}let u;return a().then((e=>(u=e,p(l)))).then((e=>c(e)>0?i(n,u,e):function(e,n){if(!e.portalItem.url)return t();const l={responseType:\"json\",query:{f:\"json\"}};return r(e.portalItem.url,l).then((t=>{var r,l;const a=t.data;function o(e){return{id:e.id,name:e.name}}a&&i(e,n,{layers:null==(r=a.layers)?void 0:r.map(o),tables:null==(l=a.tables)?void 0:l.map(o)})}))}(n,u)))}(u,n);y&&u.read({url:y},m);const h=await p(n,s);h&&u.read(h,m);return u.resourceReferences={portalItem:d,paths:m.readResourcePaths},u.read({title:f},m),l(u,m)}(n,s)):t()}function i(e,t,r){let n=r.layers||[];const l=r.tables||[];\"Feature Collection\"===e.portalItem.type&&(n.forEach((e=>{var t;\"Table\"===(null==e||null==(t=e.layerDefinition)?void 0:t.type)&&l.push(e)})),n=n.filter((e=>{var t;return\"Table\"!==(null==e||null==(t=e.layerDefinition)?void 0:t.type)}))),n.reverse().forEach((n=>{const l=u(e,t,r,n);e.add(l)})),l.reverse().forEach((n=>{const l=u(e,t,r,n);e.tables.add(l)}))}function u(e,t,r,l){const a=new t({portalItem:e.portalItem.clone(),layerId:l.id,sublayerTitleMode:\"service-name\"});if(\"Feature Collection\"===e.portalItem.type){const t={origin:\"portal-item\",portal:e.portalItem.portal||n.getDefault()};a.read(l,t);const o=r.showLegend;null!=o&&a.read({showLegend:o},t)}return a}function p(e,r){if(!1===e.supportsData)return t();const n=e.instance;return n.portalItem.fetchData(\"json\",r).catch((()=>null)).then((e=>{const t=e;let r;if(function(e){if(\"stream\"===e.type)return!1;return\"layerId\"in e}(n)){let l=!0;return e&&c(t)>0&&(null==n.layerId&&(n.layerId=function(e){const t=e.layers;if(t&&t.length)return t[0].id;const r=e.tables;if(r&&r.length)return r[0].id;return null}(t)),r=function(e,t){const r=e.layers;if(r)for(let e=0;e<r.length;e++)if(r[e].id===t)return r[e];const n=e.tables;if(n)for(let e=0;e<n.length;e++)if(n[e].id===t)return n[e];return null}(t,n.layerId),r&&(1===c(t)&&(l=!1),null!=e.showLegend&&(r.showLegend=e.showLegend))),l&&\"service-name\"!==n.sublayerTitleMode&&(n.sublayerTitleMode=\"item-title-and-service-name\"),r}return e}))}function c(e){var t,r,n,l;return(null!=(t=null==e||null==(r=e.layers)?void 0:r.length)?t:0)+(null!=(n=null==e||null==(l=e.tables)?void 0:l.length)?n:0)}export{s as load};\n"],"sourceRoot":""}