{"version":3,"sources":["webpack://inspection-scheduler/./node_modules/@arcgis/core/views/2d/layers/features/support/GraphicsReader.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicContainer.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicStoreItem.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicStore.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/views/layers/GraphicsView.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicsView2D.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/views/2d/layers/graphics/graphicsUtils.js"],"names":["e","r","super","o","n","c","i","filter","geometry","t","this","_current","geometryType","copy","instance","_features","copyInto","attributeView","bindTextures","context","children","some","hasData","renderChildren","drawPhase","_renderChildren","_renderHighlight","isReady","commitChanges","setStencilFunction","stencilRef","_displayList","replay","painter","effects","highlight","bind","defines","draw","unbind","p","d","coords","length","lengths","f","bounds","graphic","size","s","h","_pool","pop","_set","delete","acquire","has","release","push","add","symbol","type","x","y","set","symbolResource","updateBounds","rings","paths","hasZ","hasM","scale","Set","b","minX","minY","maxX","maxY","G","z","search","arguments","graphics","renderer","view","prototype","Z","get","tile","addedOrModified","removed","K","_storage","_displayIds","Map","_tiles","_graphicStoreUpdate","_graphicsSet","_matcher","_tileUpdateSet","_tilesToUpdate","_graphicIdToAbortController","_attached","_highlightIds","_updatingGraphicsTimer","_processing","_needsProcessing","_pendingUpdate","added","updated","lastUpdateId","updateRequested","graphicUpdateHandler","_processAnalyzedGraphics","_graphicsChangeHandler","indexCount","fields","createDisplayId","_tileStore","featuresTilingScheme","container","_attributeStore","initialize","update","requestUpdate","render","requestRender","_graphicStore","a","_graphics","_onAdd","_onRemove","_index","_itemByGraphic","_currentLevel","_tileInfoView","_uidFieldName","u","getClosestInfoForScale","level","_resolution","getTileResolution","_metersPerUnit","spatialReference","l","m","I","B","visible","layers","window","devicePixelRatio","width","xmin","ymin","xmax","ymax","Math","abs","points","sort","zorder","map","insertAfter","uid","originPosition","resolution","translate","getGeometryQuantized","attributes","groupId","createTemplateGroup","centroid","_createTileGraphics","remove","insert","items","oldBounds","newBounds","clear","forEach","load","state","_createDisplayId","_setFilterState","releaseDisplayId","getMaterialItems","_createMatcher","_meshFactory","_templateStore","watch","on","_onTileUpdate","target","moved","handles","notifyChange","clearTimeout","destroy","position","toMap","searchFeatures","then","hitTest","rotation","updateLevel","setViewState","_updateGraphics","requestUpdateCallback","property","newValue","sendUpdates","_updateHighlight","Array","from","keys","setHighlight","getBounds","boundsIntersections","_getGraphicsData","_processGraphics","_patchTile","key","addOrUpdate","end","onTileData","_getGraphicsToUpdate","_getIntersectingTiles","id","_updateGraphic","addGraphic","_abortProcessingGraphic","_flipUpdatingGraphics","updateZ","_updateTile","Object","name","alias","getSymbolAsync","abortOptions","_getNullSymbol","stage","_getArcadeInfo","_getSymbolForGraphic","text","charCodeAt","glyphIds","mosaicItem","_addNewTile","_removeTile","signal","_addOrUpdateGraphic","catch","_projectAndNormalizeGeometry","_getSymbolResources","addOrModify","_addProjectedGraphic","getTileBounds","addChild","_addTile","queryTileData","round","valid","_wrapPoints","setData","removeChild","getHighlightFlag","getGraphicsData","analyzeGraphics","createMeshData","getApproximateSize","getCursor","next","readGraphic","displayId","writeGraphic","encode","abort","setTimeout","constructOnly","P","PI","W","U","A","X","Q","V","F","D","max","sqrt","O","H","T","q","C","J","N","E","g","min","xoffset","yoffset","angle","height","j","data","w","toJSON","isWebMercator","Y","plus180Line","minus180Line","et","$","frameId","_","extent","frameIds","clone","nt","cut","outline","glyphMosaicItems","font","xOffset","yOffset","hAlign","horizontalAlignment","vAlign","verticalAlignment","maxLineWidth","lineWidth","lineHeight","decoration","isCIM","halfWidth","halfHeight","102100","4326","ceil","tt","isArray","closed","minPts"],"mappings":"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","file":"chunks/9334.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{getJsonType as e}from\"../../../../../geometry/support/jsonUtils.js\";import{convertFromGraphics as r}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{FeatureSetReader as t}from\"./FeatureSetReader.js\";import{FeatureSetReaderJSON as o}from\"./FeatureSetReaderJSON.js\";class s extends o{constructor(e,r){super(e,r,null)}static from(o){const n=t.createInstance(),c=[],i=o.filter((e=>!!e.geometry));for(const t of i){const o=e(t.geometry);r(c,[t],o,!1,!1,\"uid\")}return new s(n,c)}get geometryType(){const e=this._current;return e?e.geometryType:null}readGraphic(){return this._current}getCursor(){return this.copy()}copy(){const e=new s(this.instance,this._features);return this.copyInto(e),e}}export{s as GraphicsReader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{WGLDrawPhase as e}from\"../../engine/webgl/enums.js\";import{FeatureContainer as r}from\"../../engine/FeatureContainer.js\";export default class extends r{get hasLabels(){return!1}get labelsVisible(){return!1}renderChildren(r){this.attributeView.bindTextures(r.context),this.children.some((e=>e.hasData))&&(super.renderChildren(r),r.drawPhase===e.MAP&&this._renderChildren(r),r.drawPhase===e.HIGHLIGHT&&this._renderHighlight(r))}_renderChildren(e,r){for(const i of this.children)i.isReady&&i.hasData&&(i.commitChanges(e),e.context.setStencilFunction(514,i.stencilRef,255),i._displayList.replay(e,i,r))}_renderHighlight(e){const{painter:r}=e,i=r.effects.highlight;i.bind(e),this._renderChildren(e,i.defines),i.draw(e),i.unbind()}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{polygonCentroid as t}from\"../../../../geometry/support/centroid.js\";import{isPolygon as s,isPolyline as r}from\"../../../../geometry/support/jsonUtils.js\";import{create as o}from\"../../../../geometry/support/aaBoundingRect.js\";import i from\"../../../../layers/graphics/OptimizedGeometry.js\";import{convertFromPolyline as h,generalizeOptimizedGeometry as l,quantizeOptimizedGeometry as n,convertToPolyline as m}from\"../../../../layers/graphics/featureConversionUtils.js\";import{quantizePoint as u,quantizeGeometry as a}from\"../../../../geometry/support/quantizationUtils.js\";import{isMarkerSymbol as y,getBounds as g}from\"./graphicsUtils.js\";const p=new i,c=new i;function d(e){e.coords.length=0,e.lengths.length=0}class f{constructor(){this.bounds=o(),this.graphic=null,this.size=[0,0,0,0]}static acquire(e=null,t,s,r,o,i){let h;return 0===f._pool.length?h=new f:(h=f._pool.pop(),this._set.delete(h)),h.acquire(e,t,s,r,o,i),h}static release(e){e&&!this._set.has(e)&&(e.release(),this._pool.push(e),this._set.add(e))}static getCentroidQuantized(r,o){if(s(r.geometry)){const s=r.symbol;if(e(s))return null;if(y(s.type)){const e=t(r.geometry);return u(o,{},{x:e[0],y:e[1]},!1,!1)}}return null}acquire(e=null,t,s,r,o,i){e&&this.set(e,t,s,r,o,i)}release(){this.graphic=null,this.symbolResource=null,this.geometry=null}get symbol(){return this.symbolResource.symbol}set(e,t,s,r,o,i){this.graphic=e,this.geometry=s,this.symbolResource=t,this.updateBounds(r,o,i)}updateBounds(e,t,s){g(this.bounds,this.size,this.symbolResource,this.geometry,e,t,s)}getGeometryQuantized(e){if(s(this.geometry)){const t=this.geometry.rings;if(1===t.length&&2===t[0].length)return a(e,{paths:[[t[0][0],t[0][1]]]})}else if(r(this.geometry))return d(p),d(c),h(p,this.geometry),l(c,p,this.geometry.hasZ,this.geometry.hasM,\"esriGeometryPolyline\",e.scale[0]),n(p,c,this.geometry.hasZ,this.geometry.hasM,\"esriGeometryPolyline\",e),m(p,this.geometry.hasZ,this.geometry.hasM);return a(e,this.geometry)}}f._pool=[],f._set=new Set;export default f;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{polygonContainsPoint as t}from\"../../../../geometry/support/contains.js\";import{getPolygonExtent as i}from\"../../../../geometry/support/extentUtils.js\";import{getJsonType as r}from\"../../../../geometry/support/jsonUtils.js\";import{pt2px as s}from\"../../../../core/screenUtils.js\";import{getMetersPerUnit as o}from\"../../../../core/unitUtils.js\";import{fromValues as n,intersects as a,pad as u,create as h,clone as l}from\"../../../../geometry/support/aaBoundingRect.js\";import{normalizeMapX as c}from\"../../../../geometry/support/normalizeUtils.js\";import{r as m}from\"../../../../chunks/rbush.js\";import{getTextSymbolBounds as d,getMarkerSymbolBounds as p,isPointOnPolyline as g,getCIMMarkerBounds as y,graphicGeometryToNumber as _}from\"./graphicsUtils.js\";import f from\"./GraphicStoreItem.js\";const b={minX:0,minY:0,maxX:0,maxY:0},x=h(),G=[];function z(e,t,i,r,s){return b.minX=t,b.minY=i,b.maxX=r,b.maxY=s,e.search(b)}export default class{constructor(t,i,r,s,n,a){this._graphics=s,this._onAdd=n,this._onRemove=a,this._index=m(9,e(\"csp-restrictions\")?e=>({minX:e.bounds[0],minY:e.bounds[1],maxX:e.bounds[2],maxY:e.bounds[3]}):[\".bounds[0]\",\".bounds[1]\",\".bounds[2]\",\".bounds[3]\"]),this._itemByGraphic=new Map,this._currentLevel=-1/0,this._tileInfoView=t,this._uidFieldName=r;const u=t.getClosestInfoForScale(i);u&&(this._currentLevel=u.level,this._resolution=this._tileInfoView.getTileResolution(u.level)),this._metersPerUnit=o(t.spatialReference)}hitTest(e,o,u,h,l){e=c(e,this._tileInfoView.spatialReference);const m=.5*h*u;x[0]=e-m,x[1]=o-m,x[2]=e+m,x[3]=o+m;const f=.5*h*(u+50),b=z(this._index,e-f,o-f,e+f,o+f);if(!b||0===b.length)return[];const G={x:e,y:o},I=[];let B;for(const u of b)if(u.graphic.visible)switch(r(u.geometry)){case\"esriGeometryPoint\":{const e=u.symbol;if(!e)continue;const i=u.geometry,{x:r,y:s}=i,o=h*this._metersPerUnit;let n;switch(e.type){case\"esriTS\":n=d(r,s,e,u.size,h,l);break;case\"expanded-cim\":n=y(r,s,e,h,o,l);break;case\"esriSMS\":case\"esriPMS\":n=p(r,s,e,h,o,l)}t(n,G)&&I.push(u)}break;case\"esriGeometryPolyline\":{const t=u.symbol;if(!t||!t.layers.length)continue;const i=t.layers[0];B=1.5*h*window.devicePixelRatio*s(i.width),g(u.geometry,e,o,B)&&I.push(u)}break;case\"esriGeometryEnvelope\":{const e=u.geometry,t=n(e.xmin,e.ymin,e.xmax,e.ymax);a(t,x)&&I.push(u);break}case\"esriGeometryPolygon\":{if(t(u.geometry,G)){I.push(u);break}const e=i(u.geometry);if(Math.abs(e.ymax-e.ymin)<5*h||Math.abs(e.xmax-e.xmin)<5*h){const t=n(e.xmin,e.ymin,e.xmax,e.ymax);a(t,x)&&I.push(u)}break}case\"esriGeometryMultipoint\":{const e=u.symbol;if(!e)continue;const i=u.geometry.points;let r;for(let s=0;s<i.length;s++)if(r=\"esriTS\"===e.type?d(i[s][0],i[s][1],e,u.size,h,l):p(i[s][0],i[s][1],e,h,h*this._metersPerUnit,l),t(r,G)){I.push(u);break}break}}return I.sort(((e,t)=>{const i=_(e.graphic),r=_(t.graphic);return i===r?t.zorder-e.zorder:i-r})),I.map((e=>e.graphic))}getGraphicsData(e,t,i){const r=z(this._index,t.bounds[0],t.bounds[1],t.bounds[2],t.bounds[3]);if(0===r.length||0===i.length)return[];r.sort(((e,t)=>e.zorder-t.zorder)),r[0].insertAfter=-1;for(let e=1;e<r.length;e++)r[e].insertAfter=r[e-1].graphic.uid;r.sort(((e,t)=>e.graphic.uid-t.graphic.uid)),i.sort(((e,t)=>e.uid-t.uid));let s,o=0,n=0;const a=[],u={originPosition:\"upperLeft\",scale:[t.resolution,t.resolution],translate:[t.bounds[0],t.bounds[3]]};for(const t of i){for(n=-2;o<r.length;)if(s=r[o],o++,t.uid===s.graphic.uid){n=s.insertAfter;break}if(!s.geometry||-2===n)continue;const i=s.getGeometryQuantized(u),h={...s.graphic.attributes};h[this._uidFieldName]=t.uid,null==s.groupId&&(s.groupId=e.createTemplateGroup(s.symbol,null)),a.push({centroid:f.getCentroidQuantized(s,u),geometry:i,attributes:h,symbol:s.symbol,groupId:s.groupId,insertAfter:n,zorder:s.zorder})}return a.sort(((e,t)=>e.zorder-t.zorder)),a}queryTileData(e,t){const i=50*t.resolution,r=u(t.bounds,i,h()),s=z(this._index,r[0],r[1],r[2],r[3]),o=[];return this._createTileGraphics(o,e,s,{originPosition:\"upperLeft\",scale:[t.resolution,t.resolution],translate:[t.bounds[0],t.bounds[3]]}),o}has(e){return this._itemByGraphic.has(e)}getBounds(e){return this._itemByGraphic.has(e)?this._itemByGraphic.get(e).bounds:null}addOrModify(e,t,i){if(!e)return;this.has(e)&&this.remove(e),this._onAdd(e);const r=f.acquire(e,t,i,this._resolution,this._resolution*this._metersPerUnit,this._tileInfoView.spatialReference);return this._itemByGraphic.set(e,r),i&&this._index.insert(r),r.bounds}remove(e){if(!this._itemByGraphic.has(e))return;this._onRemove(e);const t=this._itemByGraphic.get(e);this._index.remove(t),this._itemByGraphic.delete(e)}updateZ(){const e=this._graphics.items;let t,i;for(let r=0;r<e.length;r++)i=e[r],t=this._itemByGraphic.get(i),t&&(t.zorder=r)}update(e,t,i){const r=this._itemByGraphic.get(e);r.groupId=null;const s=l(r.bounds);return r.size[0]=r.size[1]=0,this._index.remove(r),r.set(e,t,i,this._resolution,this._resolution*this._metersPerUnit,this._tileInfoView.spatialReference),i&&this._index.insert(r),{oldBounds:s,newBounds:r.bounds}}updateLevel(e){if(this._currentLevel===e)return;this._currentLevel=e;const t=this._tileInfoView.getTileResolution(e);this._resolution=t,this._index.clear(),G.length=0,this._itemByGraphic.forEach((e=>{e.updateBounds(this._resolution,this._resolution*this._metersPerUnit,this._tileInfoView.spatialReference),e.geometry&&G.push(e)})),this._index.load(G)}clear(){this._itemByGraphic.clear(),this._index.clear()}_createTileGraphics(e,t,i,r){const s=this._uidFieldName;let o,n,a,u;i.sort(((e,t)=>e.zorder-t.zorder));for(let h=0;h<i.length;h++){a=i[h],o=a.graphic,n=a.getGeometryQuantized(r),u=0===h?-1:i[h-1].graphic.uid;const l={...a.graphic.attributes};l[s]=o.uid,null==a.groupId&&(a.groupId=t.createTemplateGroup(a.symbol,null)),e.push({centroid:f.getCentroidQuantized(a,r),geometry:n,attributes:l,symbol:a.symbol,groupId:a.groupId,insertAfter:u,zorder:a.zorder})}}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{IdentifiableMixin as s}from\"../../core/Identifiable.js\";const t=t=>{let p=class extends(s(t)){constructor(){super(...arguments),this.graphics=null,this.renderer=null,this.view=null}};return r([o()],p.prototype,\"graphics\",void 0),r([o()],p.prototype,\"renderer\",void 0),r([o()],p.prototype,\"updating\",void 0),r([o()],p.prototype,\"view\",void 0),p=r([e(\"esri.views.layers.GraphicsView\")],p),p};export{t as GraphicsView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import{isNone as e,isSome as i}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import{resolve as a,all as o,createAbortController as h,isAbortError as n}from\"../../../../core/promiseUtils.js\";import d from\"../../../../core/Accessor.js\";import{getInfo as p}from\"../../../../geometry/support/spatialReferenceUtils.js\";import c from\"../../../../geometry/SpatialReference.js\";import{closeRingsAndFixWinding as l}from\"../../../../geometry/support/coordsUtils.js\";import g from\"../../../../geometry/Polygon.js\";import{getJsonType as u,isPolygon as m,isPolyline as _,isExtent as f,isPoint as y}from\"../../../../geometry/support/jsonUtils.js\";import{createScreenPoint as S}from\"../../../../core/screenUtils.js\";import{width as w,height as b,create as v}from\"../../../../geometry/support/aaBoundingRect.js\";import{errorPolylineSymbol2D as T,errorPolygonSymbol2D as U,errorPointSymbol2D as G}from\"../../../../symbols/support/defaults.js\";import{HandleOwnerMixin as I}from\"../../../../core/HandleOwner.js\";import{checkProjectionSupport as j,project as C}from\"../../../../layers/graphics/data/projectionSupport.js\";import{FILTER_FLAG_0 as A}from\"../../engine/webgl/definitions.js\";import R from\"../../../webgl/capabilities.js\";import{bidiText as M}from\"../../engine/webgl/util/BidiText.js\";import{expandSymbol as x}from\"../../../../symbols/cim/cimSymbolUtils.js\";import{TileData as q}from\"../../engine/webgl/TileData.js\";import{WGLTile as F}from\"../../engine/webgl/WGLTile.js\";import{createMatcherSchema as H,createSymbolSchema as z}from\"../features/schemaUtils.js\";import{createMatcher as D}from\"../../engine/webgl/mesh/factories/matcherUtils.js\";import{WGLTemplateStore as O}from\"../../engine/webgl/mesh/templates/WGLTemplateStore.js\";import{WGLMeshFactory as P}from\"../../engine/webgl/mesh/factories/WGLMeshFactory.js\";import k from\"../features/support/AttributeStore.js\";import{ComputedAttributeStorage as N}from\"../features/support/ComputedAttributeStorage.js\";import{GraphicsReader as V}from\"../features/support/GraphicsReader.js\";import L from\"../features/support/TileStore.js\";import B from\"./GraphicContainer.js\";import{normalizeCentralMeridian as W}from\"./graphicsUtils.js\";import E from\"./GraphicStore.js\";import{GraphicsView as J}from\"../../../layers/GraphicsView.js\";function Z(t,e,i){if(i.has(t))return i.get(t);const s={tile:e,addedOrModified:[],removed:[]};return i.set(t,s),s}let K=class extends(J(I(d))){constructor(t){super(t),this._storage=new N,this._displayIds=new Map,this._tiles=new Map,this._graphicStoreUpdate=!1,this._graphicsSet=new Set,this._matcher=a(null),this._tileUpdateSet=new Set,this._tilesToUpdate=new Map,this._graphicIdToAbortController=new Map,this._attached=!1,this._highlightIds=new Map,this._updatingGraphicsTimer=null,this._processing=!1,this._needsProcessing=!1,this._pendingUpdate={added:new Set,updated:new Set,removed:new Set},this.lastUpdateId=-1,this.updateRequested=!1,this.graphicUpdateHandler=this.graphicUpdateHandler.bind(this),this._processAnalyzedGraphics=this._processAnalyzedGraphics.bind(this),this._graphicsChangeHandler=this._graphicsChangeHandler.bind(this)}_createMatcher(t,e){if(t){const i=H({indexCount:0,fields:{}},\"feature\",t);this._matcher=D(i,e,null)}}_createDisplayId(t){return this._displayIds.has(t)||this._displayIds.set(t,this._storage.createDisplayId()),this._displayIds.get(t)}initialize(){this._tileStore=new L(this.view.featuresTilingScheme),this.container=new B(this.view.featuresTilingScheme),this._attributeStore=new k({type:\"local\",initialize:t=>a(this.container.attributeView.initialize(t)),update:t=>this.container.attributeView.requestUpdate(t),render:()=>this.container.requestRender()},R());this._graphicStore=new E(this.view.featuresTilingScheme,this.view.state.scale,this.uid,this.graphics,(t=>{this._createDisplayId(t.uid),this._setFilterState(t.uid,t.visible)}),(t=>{const e=this._displayIds.get(t.uid);this._displayIds.delete(t.uid),this._storage.releaseDisplayId(e)}));const t=new O(this.container.getMaterialItems.bind(this.container),!0);this._createMatcher(this.renderer,t),this._meshFactory=new P(null,this.uid,t),this._templateStore=t,this.watch(\"renderer\",(e=>{this._createMatcher(e,t);for(const t of this.graphics)this._pendingUpdate.updated.add(t);this.requestUpdate()})),this._tileStore.on(\"update\",this._onTileUpdate.bind(this)),this.container.on(\"attach\",(()=>{this.graphics.items.length>0&&this._graphicsChangeHandler({target:this.graphics,added:this.graphics.items,removed:[],moved:[]}),this.handles.add(this.graphics.on(\"change\",this._graphicsChangeHandler),\"graphics\"),this._attached=!0,this.notifyChange(\"updating\")}))}destroy(){this._updatingGraphicsTimer&&(clearTimeout(this._updatingGraphicsTimer),this._updatingGraphicsTimer=null,this.notifyChange(\"updating\")),this.container.destroy(),this._set(\"graphics\",null),this._graphicStore.clear(),this._tileStore.destroy(),this._attributeStore=null}get updating(){return!this._attached||null!==this._updatingGraphicsTimer||this._tileUpdateSet.size>0||this._tilesToUpdate.size>0}hitTest(t,e){if(!this.view||!this.view.position)return a();const i=this.view.toMap(S(t,e));return this.searchFeatures(i).then((t=>t&&t.length?t[0]:null))}async searchFeatures(t,e=2){return this._graphicStore.hitTest(t.x,t.y,e,this.view.state.resolution,this.view.state.rotation)}update(t){const e=t.state,i=this.view.featuresTilingScheme.getClosestInfoForScale(e.scale).level;if(this._graphicStore.updateLevel(i),this._tileStore.setViewState(e),this._graphicStoreUpdate=!0,this.updateRequested=!1,this._pendingUpdate.updated.size>0){if(!this._processing)return void this._updateGraphics();this._needsProcessing=!0}}viewChange(){this.requestUpdate()}requestUpdate(){this.updateRequested||(this.updateRequested=!0,this.requestUpdateCallback())}processUpdate(t){this.updateRequested&&(this.updateRequested=!1,this.update(t))}graphicUpdateHandler(t){const{graphic:e,property:i,newValue:s}=t,r=e;switch(i){case\"attributes\":break;case\"geometry\":case\"symbol\":this._pendingUpdate.updated.add(r),this.requestUpdate();break;case\"visible\":this._setFilterState(r.uid,s),this._attributeStore.sendUpdates()}}addHighlight(t){for(const e of t)if(this._highlightIds.has(e)){const t=this._highlightIds.get(e);this._highlightIds.set(e,t+1)}else this._highlightIds.set(e,1);this._updateHighlight()}removeHighlight(t){for(const e of t)if(this._highlightIds.has(e)){const t=this._highlightIds.get(e)-1;0===t?this._highlightIds.delete(e):this._highlightIds.set(e,t)}this._updateHighlight()}_updateHighlight(){const t=Array.from(this._highlightIds.keys()),e=t.map((t=>this._displayIds.get(t)));this._attributeStore.setHighlight(t,e)}_getIntersectingTiles(t){const e=this._graphicStore.getBounds(t);return!e||0===w(e)||0===b(e)?[]:this._tileStore.boundsIntersections(e)}_updateTile(t){const e=t.tile,i=this._getGraphicsData(this._templateStore,e,t.addedOrModified);return this._processGraphics(i).then((i=>(this._patchTile(e.key,{type:\"update\",addOrUpdate:i,remove:t.removed,end:!0}),i)))}_patchTile(t,e){if(!this._tiles.has(t))return;const i=this._tiles.get(t);this.container.onTileData(i,e),this.container.requestRender()}_graphicsChangeHandler(t){for(const e of t.added)this._pendingUpdate.added.add(e);for(const e of t.moved)this._pendingUpdate.added.add(e);for(const e of t.removed)this._pendingUpdate.added.has(e)?this._pendingUpdate.added.delete(e):this._pendingUpdate.removed.add(e);this._processing?this._needsProcessing=!0:this._updateGraphics()}_getGraphicsToUpdate(){const t={added:[],removed:[],updated:[]},e=this._pendingUpdate;for(const i of this.graphics.items)e.added.has(i)?t.added.push(i):e.updated.has(i)&&t.updated.push(i);for(const i of e.removed)this._graphicStore.has(i)&&t.removed.push(i);return e.added.clear(),e.removed.clear(),e.updated.clear(),t}async _updateGraphics(){this._processing=!0;const{added:t,removed:e,updated:i}=this._getGraphicsToUpdate(),s=this._tilesToUpdate;let r;try{if(!this._graphicStoreUpdate){const t=this.view.state,e=this.view.featuresTilingScheme.getClosestInfoForScale(t.scale).level;this._graphicStore.updateLevel(e),this._tileStore.setViewState(t)}const a=[],h=new Array(t.length+e.length);for(let t=0;t<i.length;t++){const e=i[t],o=this._getIntersectingTiles(e);for(const t of o){r=t.id;Z(r,t,s).removed.push(this._displayIds.get(e.uid))}a.push(this._updateGraphic(e,null)),h[t]=e}const n=i.length;for(let e=0;e<t.length;e++){const i=t[e];h[n+e]=i,this._graphicsSet.add(i),a.push(this.addGraphic(i))}for(const t of e){this._abortProcessingGraphic(t.uid);const e=this._getIntersectingTiles(t);for(const i of e){r=i.id;Z(r,i,s).removed.push(this._displayIds.get(t.uid))}this._graphicsSet.delete(t),this._graphicStore.remove(t)}let d;this._flipUpdatingGraphics(),await o(a);for(let t=0;t<h.length;t++){d=h[t];const e=this._getIntersectingTiles(d);for(const t of e){r=t.id;Z(r,t,s).addedOrModified.push(d)}}this._graphicStore.updateZ();const p=[];for(const[t,e]of s)p.push(this._updateTile(e));await o(p)}catch(t){}s.clear(),this.notifyChange(\"updating\"),this._processing=!1,this._needsProcessing&&(this._needsProcessing=!1,this._updateGraphics())}_getArcadeInfo(t){const i=(t.attributes?Object.keys(t.attributes):[]).map((e=>({name:e,alias:e,type:\"string\"==typeof t.attributes[e]?\"esriFieldTypeString\":\"esriFieldTypeDouble\"})));return e(t.geometry)?null:{geometryType:u(t.geometry),spatialReference:c.fromJSON(t.geometry.spatialReference),fields:i}}async _getSymbolForGraphic(t,e){return i(t.symbol)?t.symbol:i(this.renderer)?this.renderer.getSymbolAsync(t,{scale:this.view.scale,abortOptions:e}):this._getNullSymbol(t)}async _getSymbolResources(t,e){if(!this.container.stage)return a(null);const i=this._getArcadeInfo(t),s=await this._getSymbolForGraphic(t,e),r=z(s),o=await x(r,i,e);if(\"esriTS\"===o.type){const t=[],[e]=M(o.text);for(let i=0;i<e.length;i++)t.push(e.charCodeAt(i));const i={symbol:o,id:0,glyphIds:t},[{mosaicItem:s}]=await this.container.getMaterialItems([i]);return{symbol:o,mosaicItem:s}}return{symbol:o,mosaicItem:null}}async _projectAndNormalizeGeometry(t){if(e(t.geometry))return a(null);let i=t.geometry;if(m(i)){const t=i.rings;i.rings=t}else if(_(i)){const t=i.paths;i.paths=t}else f(i)&&(i=g.fromExtent(i));return j(i.spatialReference,this.view.spatialReference).then((()=>{const t=W(i),e=C(t,i.spatialReference,this.view.spatialReference);return l(e),e}))}_onTileUpdate(t){const e=p(this.view.spatialReference);if(t.added&&t.added.length>0)for(const i of t.added)this._addNewTile(i,e);if(t.removed&&t.removed.length>0)for(const e of t.removed)this._removeTile(e.key)}addGraphic(t){this._abortProcessingGraphic(t.uid);const e=h();this._graphicIdToAbortController.set(t.uid,e);const i={signal:e.signal};return this._addOrUpdateGraphic(t,i).then((()=>{this._graphicIdToAbortController.delete(t.uid)})).catch((e=>{if(this._graphicIdToAbortController.delete(t.uid),!n(e))throw e}))}async _updateGraphic(t,e){const i=this._projectAndNormalizeGeometry(t),s=this._getSymbolResources(t,e),[r,a]=await o([i,s]);this._graphicStore.addOrModify(t,a,r)}async _addOrUpdateGraphic(t,e){const i=this._projectAndNormalizeGeometry(t),s=this._getSymbolResources(t,e);try{const[e,r]=await o([i,s]);this._addProjectedGraphic(t,r,e)}catch(t){if(!n(t))throw t}}_addProjectedGraphic(t,e,i){this._graphicsSet.has(t)&&this._graphicStore.addOrModify(t,e,i)}_addTile(t){const e=v();this.view.featuresTilingScheme.getTileBounds(e,t);const i=new F(t,e,!0);return this._tiles.set(t,i),this.container.addChild(i),i}_addNewTile(t,e){const i=this._addTile(t.key),s=this._graphicStore.queryTileData(this._templateStore,t);if(e){const i=Math.round((e.valid[1]-e.valid[0])/t.resolution);for(const t of s)t.geometry&&y(t.geometry)&&this._wrapPoints(t,i)}const r=t.key;this._tileUpdateSet.add(t.key),this.notifyChange(\"updating\"),this._processGraphics(s).then((t=>{const e={type:\"update\",clear:!0,addOrUpdate:t,remove:[],end:!0};i.setData(e),this._tileUpdateSet.delete(r),this.notifyChange(\"updating\")})).catch((t=>{if(this._tileUpdateSet.delete(r),this.notifyChange(\"updating\"),!n(t))throw t}))}_removeTile(t){if(!this._tiles.has(t))return;const e=this._tiles.get(t);this.container.removeChild(e),e.destroy(),this._tiles.delete(t)}_setFilterState(t,e){const i=this._displayIds.get(t),s=this._attributeStore.getHighlightFlag(t);this._attributeStore.setData(i,0,0,s|(e?A:0))}_getGraphicsData(t,e,i){const s=p(this.view.spatialReference),r=this._graphicStore.getGraphicsData(t,e,i);if(s){const t=Math.round((s.valid[1]-s.valid[0])/e.resolution);for(const e of r)e.geometry&&y(e.geometry)&&this._wrapPoints(e,t)}return r}_wrapPoints(t,e){const i=t.geometry;512===e?i.x<20?t.geometry={points:[[i.x,i.y],[e,0]]}:i.x>492&&(t.geometry={points:[[i.x,i.y],[-e,0]]}):i.x<-20?t.geometry={points:[[i.x,i.y],[e,0]]}:i.x>532&&(t.geometry={points:[[i.x,i.y],[-e,0]]})}async _processGraphics(t,e){if(!(t&&t.length)||!this._meshFactory)return null;const i=V.from(t),s=this._meshFactory;return await s.analyzeGraphics(i,await this._matcher,null,null,e),this._attributeStore.sendUpdates(),this._processAnalyzedGraphics(i)}_processAnalyzedGraphics(t){const e=this._meshFactory,i=e.createMeshData(t.getApproximateSize()),s=t.getCursor();for(;s.next();){const t=s.readGraphic();t.insertAfter=-1===t.insertAfter?-1:this._displayIds.get(t.insertAfter),t.displayId=this._displayIds.get(t.attributes[this.uid]),e.writeGraphic(i,s)}const r={};return i.encode(r,[]),q.decode(r)}_abortProcessingGraphic(t){if(this._graphicIdToAbortController.has(t)){this._graphicIdToAbortController.get(t).abort()}}_getNullSymbol(t){const e=t.geometry;return _(e)?T:m(e)||f(e)?U:G}_flipUpdatingGraphics(){this._updatingGraphicsTimer&&clearTimeout(this._updatingGraphicsTimer),this._updatingGraphicsTimer=setTimeout((()=>{this._updatingGraphicsTimer=null,this.notifyChange(\"updating\")}),160),this.notifyChange(\"updating\")}};t([s({constructOnly:!0})],K.prototype,\"requestUpdateCallback\",void 0),t([s({constructOnly:!0})],K.prototype,\"graphics\",void 0),t([s()],K.prototype,\"updating\",null),t([s()],K.prototype,\"view\",void 0),t([s()],K.prototype,\"updateRequested\",void 0),K=t([r(\"esri.views.2d.layers.support.GraphicsView2D\")],K);var Q=K;export default Q;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{unwrap as t}from\"../../../../core/maybe.js\";import{getInfo as e}from\"../../../../geometry/support/spatialReferenceUtils.js\";import n from\"../../../../geometry/SpatialReference.js\";import{extentIntersectsPolyline as s}from\"../../../../geometry/support/intersects.js\";import{getBoundsXY as i}from\"../../../../geometry/support/boundsUtils.js\";import{isPoint as r,isMultipoint as o,isExtent as a,isPolygon as m,isPolyline as c}from\"../../../../geometry/support/jsonUtils.js\";import{pt2px as l}from\"../../../../core/screenUtils.js\";import{create as f}from\"../../../../geometry/support/aaBoundingRect.js\";import{normalizeMapX as x}from\"../../../../geometry/support/normalizeUtils.js\";import{s as u,d as h,a as p,g as y,t as g}from\"../../../../chunks/vec2.js\";import{i as d,t as b,r as M,s as S}from\"../../../../chunks/mat2d.js\";import{c as j}from\"../../../../chunks/mat2df32.js\";import{c as I}from\"../../../../chunks/vec2f32.js\";import{getXAnchorDirection as w,getYAnchorDirection as v}from\"../../engine/webgl/alignmentUtils.js\";import{shapeGlyphs as k}from\"../../engine/webgl/mesh/templates/shapingUtils.js\";import{bidiText as R}from\"../../engine/webgl/util/BidiText.js\";import{CIMSymbolHelper as L}from\"../../../../symbols/cim/CIMSymbolHelper.js\";const P=Math.PI/180,W=j(),U=I(),A=f();function X(t,n,s,o,a,m,c){if(!o||!s.symbol)return t[0]=t[1]=t[2]=t[3]=0,n[0]=n[1]=n[2]=n[3]=0,t;const l=o;if(!r(l)){i(t,l);let e=n[0];0===e&&(e=Q(s),n[0]=e);const r=a*e/2;return t[0]-=r,t[1]-=r,t[2]+=r,t[3]+=r,t}{const i=l.x,r=l.y;\"esriTS\"===s.symbol.type&&0===n[2]&&0===n[3]&&V(n,s.symbol,s.mosaicItem),function(t,n,s,i,r,o,a,m){let c;switch(i.type){case\"esriSMS\":case\"esriPMS\":c=F(n,s,i,o,a,0);break;case\"esriTS\":c=D(n,s,i,r,o,0);break;case\"cim\":case\"CIMSymbolReference\":case\"expanded-cim\":c=G(n,s,i,o,a,0)}let l,f,u=0;for(let t=0;t<c.rings[0].length-1;t++)f=c.rings[0][t],l=(n-f[0])*(n-f[0])+(s-f[1])*(s-f[1]),u=Math.max(u,l);u=Math.sqrt(u);let h=x(n-u,m),p=x(n+u,m);if(h>p){const t=e(m);if(t){const[e,n]=t.valid;h=e,p=n}}t[0]=h,t[1]=s-u,t[2]=p,t[3]=s+u}(t,i,r,s.symbol,n,a,m,c)}return t}function z(t){return\"simple-marker\"===t||\"picture-marker\"===t||\"text\"===t}function O(e){switch(t(e.geometry).type){case\"point\":case\"multipoint\":return 0;case\"polyline\":return 1;case\"polygon\":case\"extent\":return 2}return 0}const H=I(),T=I(),q=I(),C=I(),J=I(),N=I(),B=I();function E(t,e,n,s){u(q,e,n);const i=t.paths;let r,o,a,m,c,l,f,x,g,d=1/0;for(let t=0;t<i.length;t++){const b=i[t];if(!(b.length<2))for(let t=1;t<b.length;t++)r=b[t-1][0],a=b[t-1][1],o=b[t][0],m=b[t][1],c=Math.min(r,o)-s,l=Math.min(a,m)-s,f=Math.max(r,o)+s,x=Math.max(a,m)+s,e<c||e>f||n<l||n>x||(u(H,r,a),u(T,o,m),h(C,T,H),h(J,H,q),p(N,C,y(C,J)/y(C,C)),h(B,J,N),g=y(B,B),d>g&&(d=g))}return Math.sqrt(d)<=s}function F(t,e,n,s,i,r){let o,a;const m=l(n.xoffset),c=l(n.yoffset),f=P*n.angle,x=P*r;switch(n.type){case\"esriSMS\":o=a=l(n.size);break;case\"esriPMS\":o=l(n.width),a=l(n.height)}i<.04&&(s=.04*s/i);const h=d(W);b(h,h,u(U,t,e)),M(h,h,x-f),S(h,h,u(U,s,-s)),b(h,h,u(U,m,-c));const p=[0,0];g(p,u(U,-.5*o,-.5*a),h);const y=[0,0];g(y,u(U,-.5*o,.5*a),h);const j=[0,0];g(j,u(U,.5*o,-.5*a),h);const I=[0,0];return g(I,u(U,.5*o,.5*a),h),{rings:[[p,j,I,y,p]]}}function G(t,e,n,s,i,r){const o=L.getEnvelope(n.data);if(!o)return null;i<.04&&(s=.04*s/i);const a=l(o.width),m=l(o.height),c=l(o.x),f=l(o.y),x=0*P,h=P*r,p=d(W);b(p,p,u(U,t,e)),M(p,p,h-x),S(p,p,u(U,s,s));const y=[0,0];g(y,u(U,c,f+m),p);const j=[0,0];g(j,u(U,c,f),p);const I=[0,0];g(I,u(U,c+a,f+m),p);const w=[0,0];return g(w,u(U,c+a,f),p),{rings:[[y,I,w,j,y]]}}function D(t,e,n,s,i,r){const o=l(n.xoffset),a=l(n.yoffset),m=P*n.angle,c=P*r,f=d(W);b(f,f,u(U,t,e)),M(f,f,c),S(f,f,u(U,i,-i));const x=s[0]+s[2]/2,h=s[1]+s[3]/2;b(f,f,u(U,o,-a)),b(f,f,u(U,x,h)),M(f,f,m),b(f,f,u(U,-x,-h));const p=[0,0];g(p,u(U,s[0],s[1]),f);const y=[0,0];g(y,u(U,s[0],s[1]+s[3]),f);const j=[0,0];g(j,u(U,s[0]+s[2],s[1]),f);const I=[0,0];return g(I,u(U,s[0]+s[2],s[1]+s[3]),f),{rings:[[p,j,I,y,p]]}}function K(t){let n,l,f,x,u,h,p,y,g,d=null;if(!t)return null;if(\"mesh\"===t.type)return t.toJSON();if(n=t.spatialReference,l=e(n),!l)return t.toJSON();f=n.isWebMercator,h=f?102100:4326,x=Y[h].maxX,u=Y[h].minX,p=Y[h].plus180Line,y=Y[h].minus180Line;const b=t.toJSON();if(r(b))g=et(b,x,u);else if(o(b))b.points=b.points.map((t=>et(t,x,u))),g=b;else if(a(b))g=function(t,e){if(!e)return t;const n=function(t,e){const n=[],{ymin:s,ymax:i}=t,r=t.xmax-t.xmin,o=t.xmin,a=t.xmax;let m;const[c,l]=e.valid;m=$(t.xmin,e);const f=m.x,x=m.frameId;m=$(t.xmax,e);const u=m.x,h=m.frameId,p=f===u&&r>0;if(r>2*l){const t={xmin:o<a?f:u,ymin:s,xmax:l,ymax:i},e={xmin:c,ymin:s,xmax:o<a?u:f,ymax:i},r={xmin:0,ymin:s,xmax:l,ymax:i},m={xmin:c,ymin:s,xmax:0,ymax:i},p=[],y=[];_(t,r)&&p.push(x),_(t,m)&&y.push(x),_(e,r)&&p.push(h),_(e,m)&&y.push(h);for(let t=x+1;t<h;t++)p.push(t),y.push(t);n.push({extent:t,frameIds:[x]},{extent:e,frameIds:[h]},{extent:r,frameIds:p},{extent:m,frameIds:y})}else f>u||p?n.push({extent:{xmin:f,ymin:s,xmax:l,ymax:i},frameIds:[x]},{extent:{xmin:c,ymin:s,xmax:u,ymax:i},frameIds:[h]}):n.push({extent:{xmin:f,ymin:s,xmax:u,ymax:i},frameIds:[x]});return n}(t,e).map((t=>t.extent));if(n.length<2)return n[0]||t;if(n.length>2)return t.xmin=e.valid[0],t.xmax=e.valid[1],t;return{rings:n.map((t=>[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]))}}(b,l);else if(m(b)||c(b)){const t=A;i(t,b);const e={xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3]},n=Z(e.xmin,u)*(2*x),r=0===n?b:function(t,e){const n=function(t){if(m(t))return t.rings;return t.paths}(t);for(const t of n)for(const n of t)n[0]+=e;return t}(b,n);e.xmin+=n,e.xmax+=n,s(e,p)&&e.xmax!==x||s(e,y)&&e.xmin!==u?d=r:g=r}else g=t.clone();if(null!==d){return(new nt).cut(d,x)}return g}function Q(t){switch(t.symbol.type){case\"esriSFS\":case\"esriPFS\":{const e=t.symbol.outline;return e?e.width:0}case\"esriSLS\":return l(t.symbol.width);case\"esriSMS\":return l(t.symbol.size);case\"esriPMS\":return l(Math.max(t.symbol.width,t.symbol.height));case\"esriTS\":{const e=[0,0,0,0];V(e,t.symbol,t.mosaicItem);const n=Math.max(Math.abs(e[0]),Math.abs(e[1]));return Math.max(e[2],e[3])+n}case\"expanded-cim\":{const e=L.getEnvelope(t.symbol.data);return l(Math.sqrt(e.width*e.width+e.height*e.height))}case\"composite-symbol\":{if(!t.symbol.layers.length)return 0;const e=t.symbol.layers.length-1;return Q({symbol:t.symbol.layers[e],mosaicItem:null})}case\"label\":default:return 0}}function V(t,e,n){if(!n||0===n.glyphMosaicItems.length)return t;const s=R(e.text)[1],i=n.glyphMosaicItems,r=k(i,s,{scale:l(e.font.size)/24,angle:e.angle,xOffset:e.xoffset,yOffset:e.yoffset,hAlign:w(e.horizontalAlignment||\"center\"),vAlign:v(e.verticalAlignment||\"baseline\"),maxLineWidth:Math.max(32,Math.min(e.lineWidth||512,512)),lineHeight:30*Math.max(.25,Math.min(e.lineHeight||1,4)),decoration:e.font.decoration||\"none\",isCIM:!1}).bounds;return t[0]=l(r.x-r.halfWidth),t[1]=l(r.y-r.halfHeight),t[2]=l(r.width),t[3]=l(r.height),t}const Y={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:{paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:n.WebMercator},minus180Line:{paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:n.WebMercator}},4326:{maxX:180,minX:-180,plus180Line:{paths:[[[180,-180],[180,180]]],spatialReference:n.WGS84},minus180Line:{paths:[[[-180,-180],[-180,180]]],spatialReference:n.WGS84}}};function Z(t,e){return Math.ceil((t-e)/(2*e))}function $(t,e){const[n,s]=e.valid,i=2*s;let r,o=0;return t>s?(r=Math.ceil(Math.abs(t-s)/i),t-=r*i,o=r):t<n&&(r=Math.ceil(Math.abs(t-n)/i),t+=r*i,o=-r),{x:t,frameId:o}}function _(t,e){const{xmin:n,ymin:s,xmax:i,ymax:r}=e;return tt(t,n,s)&&tt(t,n,r)&&tt(t,i,r)&&tt(t,i,s)}function tt(t,e,n){return e>=t.xmin&&e<=t.xmax&&n>=t.ymin&&n<=t.ymax}function et(t,e,n){if(Array.isArray(t)){const s=t[0];if(s>e){const n=Z(s,e);t[0]=s+n*(-2*e)}else if(s<n){const e=Z(s,n);t[0]=s+e*(-2*n)}}else{const s=t.x;if(s>e){const n=Z(s,e);t.x+=n*(-2*e)}else if(s<n){const e=Z(s,n);t.x+=e*(-2*n)}}return t}class nt{cut(t,e){let n;if(t.rings)this.closed=!0,n=t.rings,this.minPts=4;else{if(!t.paths)return null;this.closed=!1,n=t.paths,this.minPts=2}const s=n.length,i=-2*e;for(let t=0;t<s;t++){const e=n[t];if(e&&e.length>=this.minPts){const t=[];for(const n of e)t.push([n[0]+i,n[1]]);n.push(t)}}return this.closed?t.rings=n:t.paths=n,t}}export{X as getBounds,G as getCIMMarkerBounds,F as getMarkerSymbolBounds,D as getTextSymbolBounds,V as getTextSymbolSize,O as graphicGeometryToNumber,z as isMarkerSymbol,E as isPointOnPolyline,K as normalizeCentralMeridian};\n"],"sourceRoot":""}