{"version":3,"sources":["webpack://inspection-scheduler/./node_modules/@arcgis/core/layers/graphics/sources/geojson/GeoJSONSourceWorker.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js","webpack://inspection-scheduler/./node_modules/@arcgis/core/layers/graphics/sources/support/sourceUtils.js"],"names":["D","hasAttachments","capabilities","useStandardizedQueries","supportsCoordinatesQuantization","supportsReturningQueryGeometry","advancedQueryCapabilities","supportsQueryAttachments","supportsStatistics","supportsPercentileStatistics","supportsReturningGeometryCentroid","supportsQueryWithDistance","supportsDistinct","supportsReturningQueryExtent","supportsReturningGeometryProperties","supportsHavingClause","supportsOrderBy","supportsPagination","supportsQueryWithResultType","supportsSqlExpression","supportsDisjointSpatialRel","this","_queryEngine","destroy","_requiredFields","_fieldsIndex","_createDefaultAttributes","t","r","_checkProjection","spatialReference","u","url","responseType","data","p","geometryType","y","fields","c","hasZ","T","q","objectIdField","objectIdFieldType","objectIdFieldName","x","w","timeInfo","push","name","message","unknownFields","length","details","e","some","type","editable","nullable","unshift","alias","field","R","startTimeField","get","endTimeField","trackIdField","O","warnings","featureErrors","layerDefinition","drawingInfo","templates","extent","hasM","featureStore","_nextObjectId","maxObjectId","S","geometry","_loadInitialFeatures","i","s","adds","updates","_applyEdits","executeQuery","signal","executeQueryForCount","executeQueryForIds","executeQueryForExtent","n","attributes","_assignObjectId","objectId","addMany","fullExtent","start","end","timeExtent","deletes","addResults","deleteResults","updateResults","uidToObjectId","_applyAddEdits","_applyUpdateEdits","removeManyById","featureEditResults","o","a","l","d","uid","f","has","getFeature","add","isFinite","forEach","LineString","MultiLineString","MultiPoint","Point","Polygon","MultiPolygon","features","coordinates","value","done","next","g","lengths","coords","m","h","crs","properties","RegExp","test","Set","Number","NEGATIVE_INFINITY","Math","max","b","id","P","Object","keys","filter","delete","code","description","error","globalId","success","uniqueId","clear","originalValue","sanitizedValue","parseFloat","String","TypeError","simplify","async"],"mappings":"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","file":"chunks/9150.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{all as t}from\"../../../../core/promiseUtils.js\";import{WGS84 as i,equals as s}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{getJsonType as r}from\"../../../../geometry/support/jsonUtils.js\";import{getFieldDefaultValue as n}from\"../../../support/fieldUtils.js\";import o from\"../../../../request.js\";import{kebabDict as a}from\"../../../support/fieldType.js\";import{convertFromGeometry as l,convertToGeometry as d,convertFromFeatures as u,convertToFeature as p,convertFromFeature as y}from\"../../featureConversionUtils.js\";import f from\"../../../support/FieldsIndex.js\";import{project as m,checkProjectionSupport as c}from\"../../data/projectionSupport.js\";import{validateGeoJSON as h,inferLayerProperties as g,createOptimizedFeatures as I}from\"./geojson.js\";import{createDrawingInfo as F,createDefaultTemplate as b,createDefaultAttributesFunction as j}from\"../support/clientSideDefaults.js\";import _ from\"../../data/FeatureStore.js\";import E from\"../../data/QueryEngine.js\";import{loadGeometryEngineForSimplify as T,mixAttributes as q,createFeatureEditSuccessResult as x,createFeatureEditErrorResult as w,simplify as R}from\"../support/sourceUtils.js\";const D={hasAttachments:!1,capabilities:\"query, editing, create, delete, update\",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsStatistics:!0,supportsPercentileStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!1,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0}};export default class{constructor(){this._queryEngine=null}destroy(){this._queryEngine&&this._queryEngine&&this._queryEngine.destroy(),this._queryEngine=this._requiredFields=this._fieldsIndex=this._createDefaultAttributes=null}async load(t){const r=[];await this._checkProjection(t.spatialReference);let u=null;if(t.url){u=(await o(t.url,{responseType:\"json\"})).data,await h(u)}const p=g(u,{geometryType:t.geometryType}),y=t.fields||p.fields||[],c=null!=t.hasZ?t.hasZ:p.hasZ,T=p.geometryType,q=t.objectIdField||(\"number\"===p.objectIdFieldType?p.objectIdFieldName:\"OBJECTID\")||\"OBJECTID\",x=t.spatialReference||i;let w=t.timeInfo;if(!T)throw new e(\"geojson-layer:missing-property\",\"geometryType not set and couldn't be inferred from the provided features\");if(\"string\"===p.objectIdFieldType&&r.push({name:\"geojson-layer:unsupported-id-type\",message:\"Feature ids are of type string and can't be honored.\"}),y===p.fields&&p.unknownFields.length>0&&r.push({name:\"geojson-layer:unknown-field-types\",message:\"Some fields types couldn't be inferred from the features and were dropped\",details:{unknownFields:p.unknownFields}}),q){let e=null;y.some((t=>t.name===q&&(e=t,!0)))?(e.type=\"esriFieldTypeOID\",e.editable=!1,e.nullable=!1):y.unshift({alias:q,name:q,type:\"esriFieldTypeOID\",editable:!1,nullable:!1})}for(const t of y){if(null==t.name&&(t.name=t.alias),null==t.alias&&(t.alias=t.name),!t.name)throw new e(\"geojson-layer:invalid-field-name\",\"field name is missing\",{field:t});if(t.name===q&&(t.type=\"esriFieldTypeOID\"),-1===a.jsonValues.indexOf(t.type))throw new e(\"geojson-layer:invalid-field-type\",`invalid type for field \"${t.name}\"`,{field:t})}const R={};this._requiredFields=[];for(const e of y)if(\"esriFieldTypeOID\"!==e.type&&\"esriFieldTypeGlobalID\"!==e.type){e.editable=null==e.editable||!!e.editable,e.nullable=null==e.nullable||!!e.nullable;const t=n(e);e.nullable||void 0!==t?R[e.name]=t:this._requiredFields.push(e)}if(this._fieldsIndex=new f(y),w){if(w.startTimeField){const e=this._fieldsIndex.get(w.startTimeField);e?(w.startTimeField=e.name,e.type=\"esriFieldTypeDate\"):w.startTimeField=null}if(w.endTimeField){const e=this._fieldsIndex.get(w.endTimeField);e?(w.endTimeField=e.name,e.type=\"esriFieldTypeDate\"):w.endTimeField=null}if(w.trackIdField){const e=this._fieldsIndex.get(w.trackIdField);e?w.trackIdField=e.name:(w.trackIdField=null,r.push({name:\"geojson-layer:invalid-timeInfo-trackIdField\",message:\"trackIdField is missing\",details:{timeInfo:w}}))}w.startTimeField||w.endTimeField||(r.push({name:\"geojson-layer:invalid-timeInfo\",message:\"startTimeField and endTimeField are missing\",details:{timeInfo:w}}),w=null)}const O={warnings:r,featureErrors:[],layerDefinition:{...D,drawingInfo:F(T),templates:b(R),extent:null,geometryType:T,objectIdField:q,fields:y,hasZ:!!c,timeInfo:w}};this._queryEngine=new E({fields:y,geometryType:T,hasM:!1,hasZ:c,objectIdField:q,spatialReference:x,timeInfo:w,featureStore:new _({geometryType:T,hasM:!1,hasZ:c})}),this._createDefaultAttributes=j(R,q),this._nextObjectId=p.maxObjectId+1;const S=I(u,{geometryType:T,hasZ:c,objectIdFieldName:\"number\"===p.objectIdFieldType?q:null});if(!s(x,i))for(const e of S)e.geometry&&(e.geometry=l(m(d(e.geometry,T,c,!1),i,x)));return this._loadInitialFeatures(O,S),O}async applyEdits(e){const{spatialReference:i,geometryType:s}=this._queryEngine;return await t([T(i,s),c(e.adds,i),c(e.updates,i)]),this._applyEdits(e)}async queryFeatures(e={},t={}){return this._queryEngine.executeQuery(e,t.signal)}async queryFeatureCount(e={},t={}){return this._queryEngine.executeQueryForCount(e,t.signal)}async queryObjectIds(e={},t={}){return this._queryEngine.executeQueryForIds(e,t.signal)}async queryExtent(e={},t={}){return this._queryEngine.executeQueryForExtent(e,t.signal)}_loadInitialFeatures(e,t){const{featureStore:i,objectIdField:s}=this._queryEngine,r=[];for(const i of t){const t=this._createDefaultAttributes(),n=q(this._fieldsIndex,this._requiredFields,t,i.attributes,!0,e.warnings);n?e.featureErrors.push(n):(this._assignObjectId(t,i.attributes,!0),i.attributes=t,i.objectId=t[s],r.push(i))}if(i.addMany(r),e.layerDefinition.extent=this._queryEngine.fullExtent,e.layerDefinition.timeInfo){const{start:t,end:i}=this._queryEngine.timeExtent;e.layerDefinition.timeInfo.timeExtent=[t,i]}return e}_applyEdits(e){const{adds:t,updates:i,deletes:s}=e,r={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}};if(t&&t.length&&this._applyAddEdits(r,t),i&&i.length&&this._applyUpdateEdits(r,i),s&&s.length){for(const e of s)r.deleteResults.push(x(e));this._queryEngine.featureStore.removeManyById(s)}return{fullExtent:this._queryEngine.fullExtent,timeExtent:this._queryEngine.timeExtent,featureEditResults:r}}_applyAddEdits(e,t){const{addResults:i}=e,{geometryType:s,hasM:n,hasZ:o,objectIdField:a,spatialReference:l,featureStore:d}=this._queryEngine,p=[];for(const n of t){if(n.geometry&&s!==r(n.geometry)){i.push(w(\"Incorrect geometry type.\"));continue}const t=this._createDefaultAttributes(),o=q(this._fieldsIndex,this._requiredFields,t,n.attributes);if(o)i.push(o);else{if(this._assignObjectId(t,n.attributes),n.attributes=t,null!=n.uid){const t=n.attributes[a];e.uidToObjectId[n.uid]=t}n.geometry&&(n.geometry=m(R(n.geometry,l),n.geometry.spatialReference,l)),p.push(n),i.push(x(n.attributes[a]))}}d.addMany(u([],p,s,o,n,a))}_applyUpdateEdits({updateResults:e},t){const{geometryType:i,hasM:s,hasZ:n,objectIdField:o,spatialReference:a,featureStore:l}=this._queryEngine;for(const d of t){const{attributes:t,geometry:u}=d,f=t&&t[o];if(null==f){e.push(w(`Identifier field ${o} missing`));continue}if(!l.has(f)){e.push(w(`Feature with object id ${f} missing`));continue}const c=p(l.getFeature(f),i,n,s);if(u){if(i!==r(u)){e.push(w(\"Incorrect geometry type.\"));continue}c.geometry=m(R(u,a),u.spatialReference,a)}if(t){const i=q(this._fieldsIndex,this._requiredFields,c.attributes,t);if(i){e.push(i);continue}}l.add(y(c,i,n,s,o)),e.push(x(f))}}_assignObjectId(e,t,i=!1){const s=this._queryEngine.objectIdField;i&&isFinite(t[s])?e[s]=t[s]:e[s]=this._nextObjectId++}async _checkProjection(t){try{await c(i,t)}catch{throw new e(\"geojson-layer\",\"Projection not supported\")}}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import t from\"../../OptimizedFeature.js\";import n from\"../../OptimizedGeometry.js\";function o(e){const t=[];return e.forEach((e=>t.push(e))),t}const r={LineString:\"esriGeometryPolyline\",MultiLineString:\"esriGeometryPolyline\",MultiPoint:\"esriGeometryMultipoint\",Point:\"esriGeometryPoint\",Polygon:\"esriGeometryPolygon\",MultiPolygon:\"esriGeometryPolygon\"};function*i(e){switch(e.type){case\"Feature\":yield e;break;case\"FeatureCollection\":for(const t of e.features)t&&(yield t)}}function*s(e){if(!e)return null;switch(e.type){case\"Point\":yield e.coordinates;break;case\"LineString\":case\"MultiPoint\":yield*e.coordinates;break;case\"MultiLineString\":case\"Polygon\":for(const t of e.coordinates)yield*t;break;case\"MultiPolygon\":for(const t of e.coordinates)for(const e of t)yield*e}}function c(e){for(;;){const{value:t,done:n}=e.next();if(n)return!1;if(t.length>2)return!0}}function u(e){let t=0;for(let n=0;n<e.length;n++){const o=e[n],r=e[(n+1)%e.length];t+=o[0]*r[1]-r[0]*o[1]}return t<=0}function l(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function f(e,t,n){switch(t.type){case\"LineString\":return function(e,t,n){return p(e,t.coordinates,n),e}(e,t,n);case\"MultiLineString\":return function(e,t,n){for(const o of t.coordinates)p(e,o,n);return e}(e,t,n);case\"MultiPoint\":return function(e,t,n){return p(e,t.coordinates,n),e}(e,t,n);case\"MultiPolygon\":return function(e,t,n){for(const o of t.coordinates){a(e,o[0],n);for(let t=1;t<o.length;t++)y(e,o[t],n)}return e}(e,t,n);case\"Point\":return function(e,t,n){return g(e,t.coordinates,n),e}(e,t,n);case\"Polygon\":return function(e,t,n){const o=t.coordinates;a(e,o[0],n);for(let t=1;t<o.length;t++)y(e,o[t],n);return e}(e,t,n)}}function a(e,t,n){const o=l(t);u(o)?p(e,o,n):d(e,o,n)}function y(e,t,n){const o=l(t);u(o)?d(e,o,n):p(e,o,n)}function p(e,t,n){for(const o of t)g(e,o,n);e.lengths.push(t.length)}function d(e,t,n){for(let o=t.length-1;o>=0;o--)g(e,t[o],n);e.lengths.push(t.length)}function g(e,t,n){const[o,r,i]=t;e.coords.push(o,r),n.hasZ&&e.coords.push(i||0)}function m(e){switch(typeof e){case\"string\":return\"esriFieldTypeString\";case\"number\":return\"esriFieldTypeDouble\";default:return\"unknown\"}}function h(t){if(!t)throw new e(\"geojson-layer:empty\",\"GeoJSON data is empty\");if(\"Feature\"!==t.type&&\"FeatureCollection\"!==t.type)throw new e(\"geojson-layer:unsupported-geojson-object\",\"missing or not supported GeoJSON object type\",{data:t});const{crs:n}=t;if(!n)return;const o=\"string\"==typeof n?n:\"name\"===n.type?n.properties.name:null,r=new RegExp(\".*(CRS84H?|4326)$\",\"i\");if(!o||!r.test(o))throw new e(\"geojson-layer:unsupported-crs\",\"unsupported GeoJSON 'crs' member\",{crs:n})}function w(e,t={}){const n=i(e),u=[],l=new Set,f=new Set;let a,y=!1,p=Number.NEGATIVE_INFINITY,d=null,g=!1,{geometryType:h=null}=t,w=!1;for(;;){const{value:e,done:t}=n.next();if(t){const e=d&&1===d.length&&d[0]||null;if(e)for(const t of u)t.name===e&&(t.type=\"esriFieldTypeOID\");return{fields:u,geometryType:h,hasZ:y,maxObjectId:Math.max(0,p),objectIdFieldName:e,objectIdFieldType:a,unknownFields:o(f)}}const{geometry:i,properties:b,id:P}=e;if(!i||(h||(h=r[i.type]),r[i.type]===h)){if(!y){y=c(s(i))}if(g||(g=null!=P,g&&(a=typeof P,\"number\"===a&&(d=Object.keys(b).filter((e=>b[e]===P))))),g&&\"number\"===a&&null!=P&&(p=Math.max(p,P),d.length>1?d=d.filter((e=>b[e]===P)):1===d.length&&(d=b[d[0]]===P?d:[])),!w&&b){let e=!0;for(const t in b){if(l.has(t))continue;const n=b[t];if(null==n){e=!1,f.add(t);continue}const o=m(n);\"unknown\"!==o?(f.delete(t),l.add(t),u.push({name:t,alias:t,type:o})):f.add(t)}w=e}}}}function b(e,o){return function(e){const t=[];for(;;){const{value:n,done:o}=e.next();if(o)return t;t.push(n)}}(function*(e,o={}){const{geometryType:i,objectIdFieldName:s}=o;for(;;){const{value:c,done:u}=e.next();if(u)return;const{geometry:l,properties:a,id:y}=c;if(l&&r[l.type]!==i)continue;const p=a||{};s&&null!=y&&!p[s]&&(p[s]=y);const d=new t(l?f(new n,l,o):null,p);yield d}}(i(e),o))}export{b as createOptimizedFeatures,w as inferLayerProperties,h as validateGeoJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isValid as t}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{sanitizeNullFieldValue as e,validateFieldValue as n,validationErrorToString as i,isNumericField as r,isStringField as s}from\"../../../support/fieldUtils.js\";class o{constructor(){this.code=null,this.description=null}}class l{constructor(t){this.error=new o,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=t}}function u(t){return new l(t)}class a{constructor(t){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=t}}function c(t){return new a(t)}const f=new Set;function d(t,e,r,s,o=!1,l){f.clear();for(const e in s){const a=t.get(e);if(!a)continue;const c=s[e],d=m(a,c);if(d!==c&&l&&l.push({name:\"invalid-value-type\",message:\"attribute value was converted to match the field type\",details:{field:a,originalValue:c,sanitizedValue:d}}),f.add(a.name),a&&(o||a.editable)){const t=n(a,d);if(t)return u(i(t,a,d));r[a.name]=d}}for(const t of e)if(!f.has(t.name))return u(`missing required field \"${t.name}\"`);return null}function m(t,n){let i=n;return\"string\"==typeof n&&r(t)?i=parseFloat(n):null!=n&&s(t)&&\"string\"!=typeof n&&(i=String(n)),e(i)}let p;function h(e,n){if(!e||!t(n))return e;if(\"rings\"in e||\"paths\"in e){if(!p)throw new TypeError(\"geometry engine not loaded\");return p.simplify(n,e)}return e}async function g(){return p||(p=await import(\"../../../../geometry/geometryEngineJSON.js\"),p)}async function y(e,n){!t(e)||\"esriGeometryPolygon\"!==n&&\"esriGeometryPolyline\"!==n||await g()}export{u as createFeatureEditErrorResult,c as createFeatureEditSuccessResult,g as loadGeometryEngine,y as loadGeometryEngineForSimplify,d as mixAttributes,h as simplify};\n"],"sourceRoot":""}