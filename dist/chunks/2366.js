(self.webpackChunkinspection_scheduler=self.webpackChunkinspection_scheduler||[]).push([[2366],{62366:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>Z});var s=t(56140),i=(t(95830),t(36544),t(68055),t(79881)),o=t(87566),a=(t(10923),t(57002),t(86035),t(39105)),l=t(54721),n=t(91535),u=t(95986),p=t(47977),c=t(10532),y=t(59472),f=t(30590),d=t(58385),h=t(73032),B=t(61106),g=t(53817),m=t(93833),v=t(56885),_=(t(36348),t(15988)),P=t(36405);function b(e){return e.features.map((r=>{const t=h.Z.fromJSON(e.spatialReference),s=_.default.fromJSON(r);return(0,y.Wg)(s.geometry).spatialReference=t,s}))}function A(e){return e.features.map((r=>(r.geometry.spatialReference=e.spatialReference,(0,v.im)(r.geometry))))}let C=class extends d.wq{constructor(e){super(e),this.facilities=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.serviceAreaPolylines=null,this.serviceAreaPolygons=null}readFacilities(e){return A(e)}readPointBarriers(e,r){return A(r.barriers)}readPolylineBarriers(e){return A(e)}readPolygonBarriers(e){return A(e)}readIncidents(e,r){return b(r.saPolylines)}readServiceAreaPolygons(e,r){return b(r.saPolygons)}};(0,s._)([(0,i.Cb)({type:[B.default]})],C.prototype,"facilities",void 0),(0,s._)([(0,f.r)("facilities")],C.prototype,"readFacilities",null),(0,s._)([(0,i.Cb)({type:[P.Z]})],C.prototype,"messages",void 0),(0,s._)([(0,i.Cb)({type:[B.default]})],C.prototype,"pointBarriers",void 0),(0,s._)([(0,f.r)("pointBarriers",["barriers"])],C.prototype,"readPointBarriers",null),(0,s._)([(0,i.Cb)({type:[m.Z]})],C.prototype,"polylineBarriers",void 0),(0,s._)([(0,f.r)("polylineBarriers")],C.prototype,"readPolylineBarriers",null),(0,s._)([(0,i.Cb)({type:[g.Z]})],C.prototype,"polygonBarriers",void 0),(0,s._)([(0,f.r)("polygonBarriers")],C.prototype,"readPolygonBarriers",null),(0,s._)([(0,i.Cb)({type:[_.default]})],C.prototype,"serviceAreaPolylines",void 0),(0,s._)([(0,f.r)("serviceAreaPolylines",["saPolylines"])],C.prototype,"readIncidents",null),(0,s._)([(0,i.Cb)({type:[_.default]})],C.prototype,"serviceAreaPolygons",void 0),(0,s._)([(0,f.r)("serviceAreaPolygons",["saPolygons"])],C.prototype,"readServiceAreaPolygons",null),C=(0,s._)([(0,o.j)("esri.tasks.support.ServiceAreaSolveResult")],C);const S=C,k=(0,p.E)({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,defaultBreaks:!0,facilities:!0,outSpatialReference:{name:"outSR",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},returnPointBarriers:{name:"returnBarriers"},travelMode:!0});let R=class extends((0,c.Y)(u.Z)){constructor(e){super(e),this.url=null}solve(e,r){const t=[],s=[],i={},o={};return e.facilities&&e.facilities.features&&this._collectGeometries(e.facilities.features,s,"facilities.features",i),e.pointBarriers&&e.pointBarriers.features&&this._collectGeometries(e.pointBarriers.features,s,"pointBarriers.features",i),e.polylineBarriers&&e.polylineBarriers.features&&this._collectGeometries(e.polylineBarriers.features,s,"polylineBarriers.features",i),e.polygonBarriers&&e.polygonBarriers.features&&this._collectGeometries(e.polygonBarriers.features,s,"polygonBarriers.features",i),(0,n.aX)(s).then((e=>{for(const r in i){const s=i[r];t.push(r),o[r]=e.slice(s[0],s[1])}return this._isInputGeometryZAware(o,t)?this.getServiceDescription():(0,a.DB)({dontCheck:!0})})).then((s=>{("dontCheck"in s?s.dontCheck:s.hasZ)||this._dropZValuesOffInputGeometry(o,t);for(const r in o)o[r].forEach(((t,s)=>{e.get(r)[s].geometry=t}));let i={query:{...this.parsedUrl.query,f:"json",...k.toQueryParams(e)}};return(this.requestOptions||r)&&(i={...this.requestOptions,...r,...i}),(0,l.default)(`${this.parsedUrl.path}/solveServiceArea`,i)})).then((e=>S.fromJSON(e.data)))}_collectGeometries(e,r,t,s){s[t]=[r.length,r.length+e.length],e.forEach((e=>{r.push(e.geometry)}))}};(0,s._)([(0,i.Cb)()],R.prototype,"url",void 0),R=(0,s._)([(0,o.j)("esri.tasks.ServiceAreaTask")],R);const Z=R}}]);
//# sourceMappingURL=2366.js.map